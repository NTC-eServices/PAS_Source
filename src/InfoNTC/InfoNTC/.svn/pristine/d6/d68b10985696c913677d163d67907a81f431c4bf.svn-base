<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	template="/WEB-INF/template/template.xhtml">
	<ui:define name="metadata">
	</ui:define>
	<ui:define name="content">
		<style>
.ui-dialog .ui-dialog-titlebar {
	padding: .4em .4em .4em 1em;
	position: relative;
	background: #07295b !important;
	padding: 5px 5px 5px 5px;
	margin: 0px 0px 0px 0px;
	color: #ffffff;
}

.ui-panelgrid .ui-panelgrid-cell {
	background-color: #f1f1f1;
}

.ui-icon.ui-confirm-dialog-severity {
	background-position: 0 0 !important;
	background-image: none !important;
}

.colorHighlight {
	background: yellow !important;
}

.ui-dialog .ui-widget .ui-widget-content .ui-corner-all .ui-shadow .ui-hidden-container .ui-draggable
	{
	width: 50%;
}

.firstColumn {
	width: 100%;
}

.secondColumn {
	width: 100%;
}

.dashboardNRResendDocRecord {
	background-color: #16e5d7 !important;
}

.ui-state-default a, .ui-state-default a:link, .ui-state-default a:visited
	{
	color: #07295b;
}

.mainDiv {
	width: 99%;
	height: auto;
	border-left: solid;
	border-right: solid;
	border-bottom: solid;
	border-top: solid;
	border-color: #07295b;
	border-width: 1px;
	margin-left: 5px;
	margin-top: 5px;
	margin-bottom: 5px;
	/*background-image: linear-gradient(to right bottom, #d9ddfa, #ccd4fb, #bdcafc, #aec2fe,
		#9cb9ff);*/
	background-image: linear-gradient(to right bottom, #f1f1f1, #dfdfe4, #f1f1f1, #e9eaeb,
		#bbb5b5);
}

.ui-inputfield, .ui-widget-content .ui-inputfield, .ui-widget-header .ui-inputfield
	{
	color: #07295b;
}

.mainLinkButton {
	font-weight: bold;
	background: #2571fa !important;
	text-align: center;
	padding: 7px 25px 7px 25px !important;
	height: 35px !important;
	text-decoration: none !important;
	color: white !important;
	white-space: nowrap !important;
	border-radius: 5px !important;
}

.mainLinkButton:hover {
	background: #fba026 !important;
}

.otherLinkButton {
	font-weight: bold;
	background: #296807 !important;
	text-align: center;
	padding: 7px 25px 7px 25px !important;
	height: 35px !important;
	text-decoration: none !important;
	color: white !important;
	white-space: nowrap !important;
	border-radius: 5px !important;
}

.otherLinkButton:hover {
	background: #fba026 !important;
}

.mainActionbtn {
	font-weight: bold;
	background: #2571fa !important;
	height: 30px !important;
	border-radius: 5px !important;
	color: white !important;
	text-align: center;
	width: 80px;
	white-space: nowrap !important;
	-webkit-transition: background-color 0.3s ease-out;
	-moz-transition: background-color 0.3s ease-out;
	-o-transition: background-color 0.3s ease-out;
	transition: background-color 0.3s ease-out;
}

.mainActionbtn:hover {
	background: #fba026 !important;
}

.OthActionbtn {
	font-weight: bold;
	background: #296807 !important;
	height: 30px !important;
	border-radius: 5px !important;
	color: white !important;
	text-align: center;
	width: 80px;
	white-space: nowrap !important;
	-webkit-transition: background-color 0.3s ease-out;
	-moz-transition: background-color 0.3s ease-out;
	-o-transition: background-color 0.3s ease-out;
	transition: background-color 0.3s ease-out;
	margin-bottom: 5px;
}

.OthActionbtn:hover {
	background: #fba026 !important;
}

.subDiv {
	margin: 0 auto;
	background: rgb(254, 255, 255); /* Old browsers */
	background: -moz-linear-gradient(-45deg, rgba(254, 255, 255, 1) 0%,
		rgba(210, 235, 249, 1) 100%); /* FF3.6-15 */
	background: -webkit-linear-gradient(-45deg, rgba(254, 255, 255, 1) 0%,
		rgba(210, 235, 249, 1) 100%); /* Chrome10-25,Safari5.1-6 */
	background: linear-gradient(135deg, rgba(254, 255, 255, 1) 0%,
		rgba(210, 235, 249, 1) 100%);
	/* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#feffff',
		endColorstr='#d2ebf9', GradientType=1);
	/* IE6-9 fallback on horizontal gradient */
}

.nopadd .ui-panelgrid-cell {
	padding: 4px 0px !important;
}

.sm-padding .ui-panelgrid-cell {
	padding-top: 4px !important;
	padding-bottom: 4px !important;
}

.light-disabled .ui-widget-content .ui-state-disabled {
	opacity: 0.6;
}
</style>


		<div class="mainDiv">


			<div style="margin-top: 0%;" class="common_form_header">
				<h1 style="color: #ffffff; text-align: center; font-weight: bold">Inquiry
					Process</h1>

			</div>

			<div style="width: 95%;" class="subDiv">
				<h:form id="frmInquiryProcess" style="background-color :#f1f1f1;">
					<p:spacer height="5px"></p:spacer>

					<div class="ui-widget-content ui-grid ui-grid-responsive">

						<div class="rowpadding ui-grid-row">
							<div class="ui-grid-col-3"></div>
							<div class="ui-grid-col-2">
								<p:outputLabel value="Complaint No."></p:outputLabel>
							</div>
							<div class="ui-grid-col-3">
								<p:autoComplete value="#{inquiryProcessBackingBean.complaintNo}"
									completeMethod="#{inquiryProcessBackingBean.completeComplaintNo}"
									dropdown="true" size="18"
									onkeyup="this.value=this.value.toUpperCase();"
									scrollHeight="500" />
							</div>
						</div>

						<div class="rowpadding ui-grid-row">
							<div class="ui-grid-col-3"></div>
							<div class="ui-grid-col-2">
								<p:outputLabel value="Investigation Start Date"></p:outputLabel>
							</div>
							<div class="ui-grid-col-4">
								<p:calendar
									value="#{inquiryProcessBackingBean.investigationFrom}"
									styleClass="calendarClass" navigator="true" locale="en_US"
									showOn="button" size="18" pattern="dd/MM/yyyy"
									placeholder="DD/MM/YYYY" yearRange="c-100:c+100"
									showButtonPanel="true" showTodayButton="true">
								</p:calendar>
							</div>
						</div>

						<div class="rowpadding ui-grid-row">
							<div class="ui-grid-col-3"></div>
							<div class="ui-grid-col-2">
								<p:outputLabel value="Investigation End Date"></p:outputLabel>
							</div>
							<div class="ui-grid-col-4">
								<p:calendar value="#{inquiryProcessBackingBean.investigationTo}"
									styleClass="calendarClass" navigator="true" locale="en_US"
									showOn="button" size="18" pattern="dd/MM/yyyy"
									placeholder="DD/MM/YYYY" yearRange="c-100:c+100"
									showButtonPanel="true" showTodayButton="true">
								</p:calendar>
							</div>
						</div>

						<div class="gridspadding" align="center">
							<p:commandButton value="Search" styleClass="mainActionbtn"
								tabindex="1"
								actionListener="#{inquiryProcessBackingBean.searchComplaint}"
								alt="Search" update="pnlSearchResult"></p:commandButton>

							<p:spacer width="5px"></p:spacer>

							<p:commandButton value="Clear" styleClass="mainActionbtn"
								tabindex="1"
								actionListener="#{inquiryProcessBackingBean.clearSearchView}"
								alt="Clear" update="frmInquiryProcess"></p:commandButton>
						</div>



						<h:panelGroup id="pnlSearchResult">

							<p:panel style="border:1px solid #bed6f8; margin:10px;"
								rendered="#{fn:length(inquiryProcessBackingBean.complaintDetailDTOList) > 0}">

								<p:dataTable widgetVar="dtComplaints" var="com"
									value="#{inquiryProcessBackingBean.complaintDetailDTOList}"
									paginator="true" rows="5" rowsPerPageTemplate="5,10,15"
									paginatorPosition="bottom"
									paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
									reflow="true" filterBy="#{com.vehicleNo}"
									rowStyleClass="#{com.complaintNo eq inquiryProcessBackingBean.selectedComplaintDTO.complaintNo ? 'highlight-row' : null}">


									<p:column headerText="Complain No." sortBy="#{com.complaintNo}"
										style="text-align:left">
										<h:outputText value="#{com.complaintNo}" />
									</p:column>
									<p:column headerText="Vehicle No." sortBy="#{com.vehicleNo}"
										style="text-align:left">
										<h:outputText value="#{com.vehicleNo}" />
									</p:column>
									<p:column headerText="Permit No." sortBy="#{com.permitNo}"
										style="text-align:left">
										<h:outputText value="#{com.permitNo}" />
									</p:column>
									<p:column headerText="Priority Order"
										sortBy="#{com.priorityOrder}" style="text-align:center">
										<ui:repeat
											value="#{complaintInitiationBackingBean.priorityOrderList}"
											var="var">
											<h:outputText value="#{var.description}"
												rendered="#{var.code eq com.priorityOrder}" />
										</ui:repeat>
									</p:column>
									<p:column headerText="Severity" sortBy="#{com.severityNo}"
										style="text-align:center">
										<ui:repeat
											value="#{complaintInitiationBackingBean.severityList}"
											var="var">
											<h:outputText value="#{var.description}"
												rendered="#{var.code eq com.severityNo}" />
										</ui:repeat>
									</p:column>

									<p:column headerText="Event Date Time"
										sortBy="#{com.eventDateTime}" style="text-align:left">
										<h:outputText value="#{com.eventDateTime}" />
									</p:column>

									<p:column headerText="Investigation Date"
										sortBy="#{com.investigationDate}" style="text-align:center">
										<h:outputText value="#{com.investigationDate}" />
									</p:column>

									<p:column headerText="Status"
										sortBy="#{com.process_status_des}" style="text-align:center">
										<h:outputText value="#{com.process_status_des}" />
									</p:column>

									<p:column width="40" style="text-align: center"
										rendered="false">
										<p:commandButton
											action="#{inquiryProcessBackingBean.selectOneComplaint}"
											icon="fa fa-arrow-right fa-lg" title="View Complaint Details"
											update="frmInquiryProcess:pnlSearchResult">
											<f:setPropertyActionListener value="#{com}"
												target="#{inquiryProcessBackingBean.selectedComplaintDTO}" />
										</p:commandButton>
									</p:column>
								</p:dataTable>


								<p:panel id="pnlComplaintDetails"
									rendered="#{inquiryProcessBackingBean.complaintSelected}"
									style="margin-top:15px" styleClass="light-disabled">

									<p:panelGrid layout="grid" columns="2"
										columnClasses="ui-grid-col-8, ui-grid-col-4">
										<p:panelGrid layout="grid" columns="3"
											columnClasses="ui-grid-col-1, ui-grid-col-3, ui-grid-col-8">
											<p:spacer />
											<h:outputLabel value="Permit No."></h:outputLabel>
											<p:inputText
												value="#{inquiryProcessBackingBean.selectedComplaintDTO.permitNo}"
												disabled="true" style="width:50%"></p:inputText>

											<p:spacer />
											<h:outputLabel value="Vehicle No."></h:outputLabel>
											<p:inputText
												value="#{inquiryProcessBackingBean.selectedComplaintDTO.vehicleNo}"
												disabled="true" style="width:50%"></p:inputText>

											<p:spacer />
											<h:outputLabel value="Owner"></h:outputLabel>
											<p:inputText
												value="#{inquiryProcessBackingBean.selectedComplaintDTO.ownerName}"
												disabled="true" style="width:100%"></p:inputText>
										</p:panelGrid>
										<p:panelGrid layout="grid" columns="1">
											<p:spacer />
											<p:spacer />

											<h:panelGroup>
												<p:commandLink styleClass="round-iconbtn"
													title="Complaint History"
													action="#{inquiryProcessBackingBean.loadComplaintHistory('O')}"
													update="frmComplaintHistory">
													<span class="fa-stack fa-2x"> <i
														class="fa fa-circle fa-stack-2x" style="color: #e8c166;"></i>
														<i class="fa fa-history fa-stack-1x fa-inverse"
														style="color: #000"></i>
													</span>
												</p:commandLink>
												<p:commandLink styleClass="round-iconbtn" title="Actions"
													action="#{inquiryProcessBackingBean.loadActionDialog('O')}"
													update="dlgAction">
													<span class="fa-stack fa-2x"> <i
														class="fa fa-circle fa-stack-2x" style="color: #ec9f83;"></i>
														<i class="fa fa-gavel fa-stack-1x fa-inverse"
														style="color: #000"></i>
													</span>
												</p:commandLink>
											</h:panelGroup>
										</p:panelGrid>

										<p:spacer height="20" />
										<p:spacer height="8" />

										<p:panelGrid id="panelDriver" layout="grid" columns="3"
											columnClasses="ui-grid-col-1, ui-grid-col-3, ui-grid-col-8">
											<p:spacer rendered="#{!inquiryProcessBackingBean.newDriver}" />
											<h:outputLabel value="Driver ID"
												rendered="#{!inquiryProcessBackingBean.newDriver}"></h:outputLabel>
											<p:selectOneMenu
												value="#{inquiryProcessBackingBean.driverData.driverConductorId}"
												rendered="#{!inquiryProcessBackingBean.newDriver}"
												style="width:50%">
												<p:ajax
													listener="#{inquiryProcessBackingBean.loadDriverConductorData('D')}"
													update="panelDriver, actionPanelDriver, pointPnlDriver" />
												<f:selectItem itemLabel="-- Select Driver Id --"
													itemValue=""></f:selectItem>
												<f:selectItems
													value="#{inquiryProcessBackingBean.driverList}" var="v"
													itemLabel="#{v.code}" itemValue="#{v.code}"></f:selectItems>
											</p:selectOneMenu>

											<p:spacer rendered="#{inquiryProcessBackingBean.newDriver}" />
											<h:outputLabel value="Driver NIC No."
												rendered="#{inquiryProcessBackingBean.newDriver}"></h:outputLabel>
											<p:inputText
												value="#{inquiryProcessBackingBean.driverData.nic}"
												rendered="#{inquiryProcessBackingBean.newDriver}"
												style="width:50%" maxlength="12"
												onkeyup="this.value=this.value.toUpperCase();">
												<p:ajax update="actionPanelDriver, pointPnlDriver" />
											</p:inputText>

											<p:spacer />
											<h:outputLabel value="Name"></h:outputLabel>
											<p:inputText
												value="#{inquiryProcessBackingBean.driverData.fullNameEng}"
												disabled="#{!inquiryProcessBackingBean.newDriver}"
												style="width:100%"
												onkeyup="this.value=this.value.toUpperCase();"></p:inputText>

											<p:spacer />
											<h:outputLabel value="Address"></h:outputLabel>
											<p:inputText
												value="#{inquiryProcessBackingBean.driverData.add1Eng}"
												disabled="#{!inquiryProcessBackingBean.newDriver}"
												style="width:100%"
												onkeyup="this.value=this.value.toUpperCase();"></p:inputText>

											<p:spacer />
											<h:outputLabel value=""></h:outputLabel>
											<p:inputText
												value="#{inquiryProcessBackingBean.driverData.add2Eng}"
												disabled="#{!inquiryProcessBackingBean.newDriver}"
												style="width:100%"
												onkeyup="this.value=this.value.toUpperCase();"></p:inputText>

											<p:spacer />
											<h:outputLabel value=""></h:outputLabel>
											<p:inputText
												value="#{inquiryProcessBackingBean.driverData.cityEng}"
												disabled="#{!inquiryProcessBackingBean.newDriver}"
												style="width:100%"
												onkeyup="this.value=this.value.toUpperCase();"></p:inputText>
										</p:panelGrid>
										<p:panelGrid layout="grid" columns="1">
											<p:outputPanel style="margin-top:5px">
												<p:selectBooleanCheckbox
													value="#{inquiryProcessBackingBean.newDriver}"
													style="margin-right:10px">
													<p:ajax
														listener="#{inquiryProcessBackingBean.clearDriverData}"
														update="panelDriver, actionPanelDriver, pointPnlDriver"></p:ajax>
												</p:selectBooleanCheckbox>
												<p:outputLabel value="Is new Driver"></p:outputLabel>
											</p:outputPanel>
											<p:spacer />
											<p:outputPanel id="pointPnlDriver" style="color:#484442;"
												rendered="#{inquiryProcessBackingBean.driverData.driverConductorId != null or inquiryProcessBackingBean.driverData.nic != null}">
												<p:outputLabel value="Demerit Points - "
													style="font-size:15px; font-weight:bold "></p:outputLabel>
												<p:outputLabel
													value="#{inquiryProcessBackingBean.totDriverPoints}"
													style="font-size:15px; font-weight:bold "></p:outputLabel>
											</p:outputPanel>
											<p:spacer />
											<p:spacer />

											<h:panelGroup id="actionPanelDriver">
												<p:commandLink styleClass="round-iconbtn"
													title="Complaint History"
													disabled="#{inquiryProcessBackingBean.newDriver or inquiryProcessBackingBean.driverData.driverConductorId == null}"
													action="#{inquiryProcessBackingBean.loadComplaintHistory('D')}"
													update="frmComplaintHistory">
													<span class="fa-stack fa-2x"> <i
														class="fa fa-circle fa-stack-2x" style="color: #e8c166;"></i>
														<i class="fa fa-history fa-stack-1x fa-inverse"
														style="color: #000"></i>
													</span>
												</p:commandLink>
												<p:commandLink styleClass="round-iconbtn" title="Actions"
													disabled="#{inquiryProcessBackingBean.driverData.driverConductorId == null and (inquiryProcessBackingBean.driverData.nic == null or inquiryProcessBackingBean.driverData.nic == '')}"
													action="#{inquiryProcessBackingBean.loadActionDialog('D')}"
													update="dlgAction">
													<span class="fa-stack fa-2x"> <i
														class="fa fa-circle fa-stack-2x" style="color: #ec9f83;"></i>
														<i class="fa fa-gavel fa-stack-1x fa-inverse"
														style="color: #000"></i>
													</span>
												</p:commandLink>
											</h:panelGroup>
										</p:panelGrid>

										<p:spacer height="20" />
										<p:spacer height="8" />

										<p:panelGrid id="panelConductor" layout="grid" columns="3"
											columnClasses="ui-grid-col-1, ui-grid-col-3, ui-grid-col-8">
											<p:spacer
												rendered="#{!inquiryProcessBackingBean.newConductor}" />
											<h:outputLabel value="Conductor ID"
												rendered="#{!inquiryProcessBackingBean.newConductor}"></h:outputLabel>
											<p:selectOneMenu
												value="#{inquiryProcessBackingBean.conductorData.driverConductorId}"
												rendered="#{!inquiryProcessBackingBean.newConductor}"
												style="width:50%">
												<p:ajax
													listener="#{inquiryProcessBackingBean.loadDriverConductorData('C')}"
													update="panelConductor, actionPanelConductor, pointPnlConductor" />
												<f:selectItem itemLabel="-- Select Conductor Id --"
													itemValue=""></f:selectItem>
												<f:selectItems
													value="#{inquiryProcessBackingBean.conductorList}" var="v"
													itemLabel="#{v.code}" itemValue="#{v.code}"></f:selectItems>
											</p:selectOneMenu>

											<p:spacer
												rendered="#{inquiryProcessBackingBean.newConductor}" />
											<h:outputLabel value="Conductor NIC No."
												rendered="#{inquiryProcessBackingBean.newConductor}"></h:outputLabel>
											<p:inputText
												value="#{inquiryProcessBackingBean.conductorData.nic}"
												rendered="#{inquiryProcessBackingBean.newConductor}"
												style="width:50%" maxlength="12"
												onkeyup="this.value=this.value.toUpperCase();">
												<p:ajax update="actionPanelConductor, pointPnlConductor"></p:ajax>
											</p:inputText>

											<p:spacer />
											<h:outputLabel value="Name"></h:outputLabel>
											<p:inputText
												value="#{inquiryProcessBackingBean.conductorData.fullNameEng}"
												disabled="#{!inquiryProcessBackingBean.newConductor}"
												style="width:100%"
												onkeyup="this.value=this.value.toUpperCase();"></p:inputText>

											<p:spacer />
											<h:outputLabel value="Address"></h:outputLabel>
											<p:inputText
												value="#{inquiryProcessBackingBean.conductorData.add1Eng}"
												disabled="#{!inquiryProcessBackingBean.newConductor}"
												style="width:100%"
												onkeyup="this.value=this.value.toUpperCase();"></p:inputText>

											<p:spacer />
											<h:outputLabel value=""></h:outputLabel>
											<p:inputText
												value="#{inquiryProcessBackingBean.conductorData.add2Eng}"
												disabled="#{!inquiryProcessBackingBean.newConductor}"
												style="width:100%"
												onkeyup="this.value=this.value.toUpperCase();"></p:inputText>

											<p:spacer />
											<h:outputLabel value=""></h:outputLabel>
											<p:inputText
												value="#{inquiryProcessBackingBean.conductorData.cityEng}"
												disabled="#{!inquiryProcessBackingBean.newConductor}"
												style="width:100%"
												onkeyup="this.value=this.value.toUpperCase();"></p:inputText>
										</p:panelGrid>
										<p:panelGrid layout="grid" columns="1">
											<p:outputPanel style="margin-top:5px">
												<p:selectBooleanCheckbox
													value="#{inquiryProcessBackingBean.newConductor}"
													style="margin-right:10px">
													<p:ajax
														listener="#{inquiryProcessBackingBean.clearConductorData}"
														update="panelConductor, actionPanelConductor, pointPnlConductor"></p:ajax>
												</p:selectBooleanCheckbox>
												<p:outputLabel value="Is new Conductor"></p:outputLabel>
											</p:outputPanel>
											<p:spacer />
											<p:outputPanel id="pointPnlConductor" style="color:#484442;"
												rendered="#{inquiryProcessBackingBean.conductorData.driverConductorId != null or inquiryProcessBackingBean.conductorData.nic != null}">
												<p:outputLabel value="Demerit Points - "
													style="font-size:15px; font-weight:bold "></p:outputLabel>
												<p:outputLabel
													value="#{inquiryProcessBackingBean.totConductorPoints}"
													style="font-size:15px; font-weight:bold "></p:outputLabel>
											</p:outputPanel>
											<p:spacer />
											<p:spacer />

											<h:panelGroup id="actionPanelConductor">
												<p:commandLink styleClass="round-iconbtn"
													title="Complaint History"
													disabled="#{inquiryProcessBackingBean.newConductor or inquiryProcessBackingBean.conductorData.driverConductorId == null}"
													action="#{inquiryProcessBackingBean.loadComplaintHistory('C')}"
													update="frmComplaintHistory">
													<span class="fa-stack fa-2x"> <i
														class="fa fa-circle fa-stack-2x" style="color: #e8c166;"></i>
														<i class="fa fa-history fa-stack-1x fa-inverse"
														style="color: #000"></i>
													</span>
												</p:commandLink>
												<p:commandLink styleClass="round-iconbtn" title="Actions"
													disabled="#{inquiryProcessBackingBean.conductorData.driverConductorId == null and (inquiryProcessBackingBean.conductorData.nic == null or inquiryProcessBackingBean.conductorData.nic == '')}"
													action="#{inquiryProcessBackingBean.loadActionDialog('C')}"
													update="dlgAction">
													<span class="fa-stack fa-2x"> <i
														class="fa fa-circle fa-stack-2x" style="color: #ec9f83;"></i>
														<i class="fa fa-gavel fa-stack-1x fa-inverse"
														style="color: #000"></i>
													</span>
												</p:commandLink>
											</h:panelGroup>
										</p:panelGrid>
									</p:panelGrid>

									<p:spacer height="15" />
									<p:spacer />

									<div align="center">
										<p:commandButton value="Save" title="Save" alt="Save"
											styleClass="mainActionbtn" tabindex="1"
											disabled="#{inquiryProcessBackingBean.selectedComplaintDTO.processStatus != null and inquiryProcessBackingBean.selectedComplaintDTO.processStatus == 'C'}"
											actionListener="#{inquiryProcessBackingBean.saveInquiryProcess}"
											update=""></p:commandButton>
										<p:commandButton value="Reset" title="Reset" alt="Reset"
											styleClass="mainActionbtn" tabindex="1"
											disabled="#{inquiryProcessBackingBean.selectedComplaintDTO.processStatus != null and inquiryProcessBackingBean.selectedComplaintDTO.processStatus == 'C'}"
											actionListener="#{inquiryProcessBackingBean.loadInquiryData}"
											update="frmInquiryProcess"></p:commandButton>



										<p:commandButton value="Warning Letter" update="@all"
											rendered="false" process="@all" styleClass="mainActionbtn"
											id="printBtn" style="width:15%"
											actionListener="#{inquiryProcessBackingBean.printWarning}"
											disabled="#{inquiryProcessBackingBean.selectedComplaintDTO.processStatus == 'C'}"
											oncomplete="window.open('/InfoNTC/showUpload?reportName=Warning Letter')">
											<f:attribute name="value"
												value="#{inquiryProcessBackingBean.valueForPrint}"></f:attribute>
										</p:commandButton>


										<p:commandButton value="Charge Sheet" title="Charge Sheet"
											alt="Charge Sheet" styleClass="mainActionbtn"
											style="width:108px" tabindex="1"
											actionListener="#{inquiryProcessBackingBean.loadChargeSheet}"
											update="frmChargeSheet"
											disabled="#{inquiryProcessBackingBean.selectedComplaintDTO.processStatus == 'C'}"></p:commandButton>

										<p:commandButton value="Recommend" title="Recommend"
											alt="Recommend" styleClass="mainActionbtn"
											style="width:108px" tabindex="1"
											actionListener="#{inquiryProcessBackingBean.loadInquiryRecommend}"
											update="frmInquiryRecommend"
											disabled="#{!inquiryProcessBackingBean.chargeSheetGenerated || inquiryProcessBackingBean.selectedComplaintDTO.recommended eq 'Y' || inquiryProcessBackingBean.selectedComplaintDTO.recommended eq 'N'}"></p:commandButton>

										<p:commandButton value="Approve" title="Approve" alt="Approve"
											styleClass="mainActionbtn" style="width:108px" tabindex="1"
											actionListener="#{inquiryProcessBackingBean.loadInquiryApproval}"
											update="frmInquiryApproval"
											disabled="#{inquiryProcessBackingBean.selectedComplaintDTO.recommended != 'Y' || inquiryProcessBackingBean.selectedComplaintDTO.approved eq 'Y' || inquiryProcessBackingBean.selectedComplaintDTO.approved eq 'N'}"></p:commandButton>

										<p:commandButton value="Close Complaint"
											title="Close Complaint" alt="Close Complaint"
											styleClass="mainActionbtn" tabindex="1" style="width:142px"
											disabled="#{inquiryProcessBackingBean.selectedComplaintDTO.processStatus != null and inquiryProcessBackingBean.selectedComplaintDTO.processStatus == 'C'}"
											actionListener="#{inquiryProcessBackingBean.closeComplaint}"
											update="frmInquiryProcess:pnlComplaintDetails"></p:commandButton>

										<p:commandButton styleClass="mainActionbtn"
											value="Document Management" update="uploadDocumentsDialog"
											tabindex="34" process="frmInquiryProcess" style="width:20%"
											action="#{inquiryProcessBackingBean.documentManagement}"></p:commandButton>
									</div>

								</p:panel>

							</p:panel>

						</h:panelGroup>

					</div>
				</h:form>
			</div>



			<p:dialog id="dlgComplaintHistory" widgetVar="dlgComplaintHistory"
				global="true" modal="true" header="Complaint History" width="60%"
				resizable="false">
				<h:form id="frmComplaintHistory">
					<p:panelGrid layout="grid" columns="4"
						columnClasses="ui-grid-col-1, ui-grid-col-4, ui-grid-col-6, ui-grid-col-1"
						styleClass="sm-padding">
						<p:spacer />
						<p:outputLabel
							value="#{inquiryProcessBackingBean.viewType == 'D' ?'Driver' :(inquiryProcessBackingBean.viewType == 'C' ?'Conductor' :'Owner')} Name"
							styleClass="bold"></p:outputLabel>
						<p:outputLabel
							value="#{inquiryProcessBackingBean.viewType == 'O' 
								?inquiryProcessBackingBean.selectedComplaintDTO.ownerName :(inquiryProcessBackingBean.viewType == 'C' 
																				?inquiryProcessBackingBean.conductorData.fullNameEng :inquiryProcessBackingBean.driverData.fullNameEng)} "></p:outputLabel>
						<p:spacer />


						<p:spacer />
						<p:outputLabel value="ID No." styleClass="bold"></p:outputLabel>
						<p:outputLabel
							value="#{inquiryProcessBackingBean.viewType == 'O' 
								?inquiryProcessBackingBean.selectedComplaintDTO.ownerNic :(inquiryProcessBackingBean.viewType == 'C' 
																				?inquiryProcessBackingBean.conductorData.driverConductorId :inquiryProcessBackingBean.driverData.driverConductorId)} "></p:outputLabel>
						<p:spacer />
					</p:panelGrid>

					<p:spacer height="5px" />

					<p:dataTable var="offence"
						value="#{inquiryProcessBackingBean.complaintHistoryList}"
						emptyMessage="No complaints." paginator="true" rows="5"
						rowsPerPageTemplate="5,10,15" paginatorPosition="bottom"
						paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
						reflow="true">
						<p:column headerText="Report No." width="20%"
							style="text-align:left">
							<h:outputText value="#{offence.complaintNo}" />
						</p:column>
						<p:column headerText="Date of Incident" width="20%"
							style="text-align:left">
							<h:outputText value="#{offence.eventDateTime}" />
						</p:column>
						<p:column headerText="Action" style="text-align:right">
							<h:outputText
								value="#{offence.actionCode} - #{offence.actionDesc}" />
						</p:column>
						<p:column headerText="Amount" width="15%" style="text-align:right">
							<h:outputText value="#{offence.totalCharge}" />
						</p:column>
						<p:column width="15" style="text-align:center">
							<p:commandLink
								action="#{inquiryProcessBackingBean.selectComplaintHistory}"
								title="View Complaint Details"
								update="frmComplaintHistory:historyData">
								<i class="fa fa-eye fa-lg" />
								<f:setPropertyActionListener value="#{offence}"
									target="#{inquiryProcessBackingBean.selectedHistory}" />
							</p:commandLink>
						</p:column>
					</p:dataTable>

					<p:panel id="historyData">
						<p:panel rendered="#{inquiryProcessBackingBean.historySelected}">
							<p:spacer height="15px" />
							<h3>Violations of Conditions</h3>
							<br></br>

							<p:dataTable var="com"
								value="#{inquiryProcessBackingBean.violationConditionList}"
								emptyMessage="No committed offences." paginator="true" rows="5"
								rowsPerPageTemplate="5,10,15" paginatorPosition="bottom"
								paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
								reflow="true">
								<p:column headerText="Code" width="20%">
									<h:outputText value="#{com.code}" />
								</p:column>
								<p:column headerText="Description">
									<h:outputText value="#{com.description}" />
								</p:column>
								<p:column headerText="Remark">
									<h:outputText value="#{com.remark}" />
								</p:column>
							</p:dataTable>

							<p:panelGrid layout="grid" columns="4"
								columnClasses="ui-grid-col-1, ui-grid-col-4, ui-grid-col-6, ui-grid-col-1"
								style="margin-top:5px">
								<p:spacer />
								<p:outputLabel value="Remarks" styleClass="bold"></p:outputLabel>
								<p:outputLabel
									value="#{inquiryProcessBackingBean.selectedHistory.otherOffence}"></p:outputLabel>
								<p:spacer />
							</p:panelGrid>
						</p:panel>
					</p:panel>

					<p:spacer height="5px" />
					<center>
						<p:commandButton value="OK" title="OK" styleClass="mainActionbtn"
							tabindex="1" oncomplete="PF('dlgComplaintHistory').hide();"></p:commandButton>
					</center>
					<p:spacer height="10" />
				</h:form>
			</p:dialog>


			<p:dialog id="dlgAction" widgetVar="dlgAction" global="true"
				modal="true" header="Action" width="40%" resizable="false">
				<h:form id="frmAction">
					<p:panelGrid layout="grid" columns="4"
						columnClasses="ui-grid-col-1, ui-grid-col-4, ui-grid-col-6, ui-grid-col-1">
						<p:spacer />
						<p:outputLabel value="Department Type"></p:outputLabel>
						<p:selectOneMenu
							value="#{inquiryProcessBackingBean.selectedComplaintDTO.departmentType}"
							style="width:calc(100% - 23px);">
							<f:selectItem itemLabel="-- Select Department --" itemValue=""></f:selectItem>
							<f:selectItems value="#{inquiryProcessBackingBean.deptList}"
								var="v" itemLabel="#{v.deptDesc}" itemValue="#{v.deptCode}"></f:selectItems>
						</p:selectOneMenu>
						<p:spacer />

						<p:spacer />
						<p:outputLabel value="Action Type"></p:outputLabel>
						<p:selectOneMenu
							value="#{inquiryProcessBackingBean.selectedComplaintDTO.actionCode}"
							style="width:calc(100% - 23px);">
							<f:selectItem itemLabel="-- Select Action Type --" itemValue=""></f:selectItem>
							<f:selectItems value="#{inquiryProcessBackingBean.actionList}"
								var="v" itemLabel="#{v.description}" itemValue="#{v.code}"></f:selectItems>
						</p:selectOneMenu>
						<p:spacer />

						<p:spacer />
						<p:outputLabel value="Action Description"></p:outputLabel>
						<p:inputTextarea
							value="#{inquiryProcessBackingBean.selectedComplaintDTO.actionDesc}"
							style="width:100%" onkeyup="this.value=this.value.toUpperCase();"></p:inputTextarea>
						<p:spacer />
					</p:panelGrid>
					<center>
						<br></br>
						<p:commandButton value="Save" title="Save"
							styleClass="mainActionbtn" tabindex="1"
							disabled="#{inquiryProcessBackingBean.selectedComplaintDTO.processStatus != null and inquiryProcessBackingBean.selectedComplaintDTO.processStatus == 'C'}"
							actionListener="#{inquiryProcessBackingBean.saveActionDialog}"></p:commandButton>
						<p:commandButton value="Reset" title="Reset"
							styleClass="mainActionbtn" tabindex="1"
							disabled="#{inquiryProcessBackingBean.selectedComplaintDTO.processStatus != null and inquiryProcessBackingBean.selectedComplaintDTO.processStatus == 'C'}"
							actionListener="#{inquiryProcessBackingBean.resetActionDialog}"
							update="frmAction"></p:commandButton>
						<br></br> <br></br>
					</center>
				</h:form>
			</p:dialog>


			<p:dialog id="dlgWarning" widgetVar="dlgWarning" global="true"
				modal="true" header="Warning Letter" width="30%" resizable="false">
				<h:form id="frmWarning">
					<center>
						<p:selectManyCheckbox
							value="#{inquiryProcessBackingBean.warningLetterPersons}"
							layout="grid" columns="1">
							<f:selectItem itemLabel="Owner" itemValue="O" />
							<f:selectItem itemLabel="Driver" itemValue="D" />
							<f:selectItem itemLabel="Conductor" itemValue="C" />
						</p:selectManyCheckbox>
						<br></br>
						<p:commandButton value="Send Letter" title="Send Letter"
							styleClass="mainActionbtn" style="width:114px" tabindex="1"
							disabled="#{inquiryProcessBackingBean.selectedComplaintDTO.processStatus != null and inquiryProcessBackingBean.selectedComplaintDTO.processStatus == 'C'}"
							action="#{inquiryProcessBackingBean.sendWarningLetters}"
							oncomplete="PF('dlgWarning').hide()"></p:commandButton>
					</center>
				</h:form>
			</p:dialog>


			<p:dialog id="dlgChargeSheet" widgetVar="dlgChargeSheet"
				global="true" modal="true" header="Charge Sheet" width="70%"
				resizable="false">
				<h:form id="frmChargeSheet">
					<p:dataTable id="dtCharge" var="offence"
						value="#{inquiryProcessBackingBean.selectedComplaintDTO.committedOffences}"
						emptyMessage="No committed offences." paginator="true" rows="5"
						rowsPerPageTemplate="5,10,15" paginatorPosition="bottom"
						paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
						reflow="true" sortBy="#{1}">
						<p:column width="0"></p:column>
						<p:column width="0"></p:column>
						<p:column headerText="Code" width="110" style="text-align:left">
							<h:outputText value="#{offence.code}" />
						</p:column>
						<p:column headerText="Offence Description" style="text-align:left">
							<h:outputText value="#{offence.description}" />
						</p:column>
						<p:column headerText="Charge Amount" width="120">
							<p:inputNumber value="#{offence.charge}" inputStyle="width:90%;"
								styleClass="right" decimalPlaces="2" maxValue="9999999999">
								<p:ajax
									listener="#{inquiryProcessBackingBean.calculateTotAmount}"
									update="frmChargeSheet"></p:ajax>
							</p:inputNumber>
						</p:column>
						<p:column headerText="Applicable to Driver" width="80"
							style="text-align:center">
							<p:selectBooleanCheckbox value="#{offence.driverApplicable}"
								disabled="#{(inquiryProcessBackingBean.driverData.driverConductorId == null or inquiryProcessBackingBean.driverData.driverConductorId == '') and (inquiryProcessBackingBean.driverData.nic == null or inquiryProcessBackingBean.driverData.nic =='')}">
								<p:ajax
									listener="#{inquiryProcessBackingBean.applyDriver(offence)}"
									update="dtCharge"></p:ajax>
							</p:selectBooleanCheckbox>
						</p:column>
						<p:column headerText="Points" width="72">
							<p:inputNumber value="#{offence.driverPoints}"
								inputStyle="width:90%;" styleClass="right" decimalPlaces="0"
								maxValue="10000" disabled="#{!offence.driverApplicable}">
								<p:ajax
									listener="#{inquiryProcessBackingBean.calculateDriPoints}"
									update="frmChargeSheet"></p:ajax>
							</p:inputNumber>
						</p:column>
						<p:column headerText="Applicable to Conductor" width="80"
							style="text-align:center">
							<p:selectBooleanCheckbox value="#{offence.conductorApplicable}"
								disabled="#{(inquiryProcessBackingBean.conductorData.driverConductorId == null or inquiryProcessBackingBean.conductorData.driverConductorId == '') and (inquiryProcessBackingBean.conductorData.nic == null or inquiryProcessBackingBean.conductorData.nic =='')}">
								<p:ajax
									listener="#{inquiryProcessBackingBean.applyConductor(offence)}"
									update="dtCharge"></p:ajax>
							</p:selectBooleanCheckbox>
						</p:column>
						<p:column headerText="Points" width="72">
							<p:inputNumber value="#{offence.conductorPoints}"
								inputStyle="width:90%;" styleClass="right" decimalPlaces="0"
								maxValue="10000" disabled="#{!offence.conductorApplicable}">
								<p:ajax
									listener="#{inquiryProcessBackingBean.calculateCondPoints}"
									update="frmChargeSheet"></p:ajax>
							</p:inputNumber>
						</p:column>
						<p:summaryRow>
							<p:column colspan="4"
								style="text-align:right; font-size:16px; padding-top: 10px;">
								<h:outputText value="Total:"></h:outputText>
							</p:column>
							<p:column
								style="text-align:right; font-size:16px; padding-top: 10px;">
								<h:outputText value="#{inquiryProcessBackingBean.totalAmt}" />
							</p:column>
							<p:column style="display:none" />
							<p:column style="display:none" />
							<p:column style="display:none" />
							<p:column style="display:none" />
							<p:column style="display:none" />
							<p:column style="display:none" />
							<p:column style="display:none" />

							<p:column style="text-align:right; padding-top: 10px;">
								<h:outputText value="Total Driver Points" />
							</p:column>
							<p:column style="text-align:right; padding-top: 10px;">
								<h:outputText
									value="#{inquiryProcessBackingBean.totalDriverPoints}" />
							</p:column>
							<p:column headerText=""
								style="text-align:right; padding-top: 10px;">
								<h:outputText value="Total Conductor Points" />
							</p:column>
							<p:column style="text-align:right; padding-top: 10px;">
								<h:outputText
									value="#{inquiryProcessBackingBean.totalConductorPoints}" />
							</p:column>
						</p:summaryRow>
					</p:dataTable>

					<br></br>
					<center>
						<p:commandButton value="Print Voucher" title="Print Voucher"
							styleClass="mainActionbtn" style="width:108px" tabindex="1"
							actionListener="#{inquiryProcessBackingBean.printChargeSheetVoucher()}"
							disabled="#{inquiryProcessBackingBean.disablePrint}"
							oncomplete="window.open('/InfoNTC/showUpload?reportName=Voucher')"
							update="@all,frmChargeSheet,frmInquiryProcess,frmInquiryProcess:pnlSearchResult"
							process="@all">

						</p:commandButton>

						<p:commandButton value="Save" title="Save"
							styleClass="mainActionbtn" tabindex="1"
							actionListener="#{inquiryProcessBackingBean.saveChargeSheet}"
							disabled="#{inquiryProcessBackingBean.selectedComplaintDTO.processStatus != null and inquiryProcessBackingBean.selectedComplaintDTO.processStatus == 'C' || inquiryProcessBackingBean.selectedComplaintDTO.approved eq 'Y'}"
							update="frmInquiryProcess,frmInquiryProcess:pnlSearchResult"></p:commandButton>
						<p:commandButton value="Reset" title="Reset"
							styleClass="mainActionbtn" tabindex="1"
							actionListener="#{inquiryProcessBackingBean.resetChargeSheet}"
							disabled="#{inquiryProcessBackingBean.selectedComplaintDTO.processStatus != null and inquiryProcessBackingBean.selectedComplaintDTO.processStatus == 'C'}"
							update="frmChargeSheet,frmInquiryProcess,frmInquiryProcess:pnlSearchResult"></p:commandButton>

						<p:commandButton value="Re-Print" title="Re-Print"
							styleClass="mainActionbtn" style="width:108px" tabindex="1"
							actionListener="#{inquiryProcessBackingBean.rePrintChargeSheetVoucher()}"
							disabled="#{inquiryProcessBackingBean.disableRePrint}"
							oncomplete="window.open('/InfoNTC/showUpload?reportName=Charge Sheet-RePrint')"
							update="@all,frmChargeSheet,frmInquiryProcess,frmInquiryProcess:pnlSearchResult"
							process="@all">

						</p:commandButton>

					</center>
					<br></br>
				</h:form>
			</p:dialog>


			<p:dialog id="dialogError" global="true" modal="true" header="Error"
				width="30%" severity="info" widgetVar="errorDialog"
				closeOnEscape="true" resizable="false">
				<h:form id="frmError">
					<center>
						<p:panelGrid columns="2" styleClass="ui-noborder">
							<p:graphicImage library="images" name="error-24.png"></p:graphicImage>
							<p:outputLabel value="#{inquiryProcessBackingBean.errorMsg}"></p:outputLabel>
						</p:panelGrid>
						<br></br>
						<p:commandButton style="margin-top:10px;margin-bottom:10px"
							process="frmError" value="OK" onclick="PF('errorDialog').hide()">
						</p:commandButton>

					</center>
				</h:form>
			</p:dialog>

			<p:dialog id="dialogSuccess" global="true" modal="true"
				header="Success" width="30%" severity="info"
				widgetVar="successDialog" closeOnEscape="true" resizable="false">
				<h:form id="frmSuccess">
					<center>
						<p:panelGrid columns="2" styleClass="ui-noborder">
							<p:graphicImage library="images" name="success-24.png"></p:graphicImage>
							<p:outputLabel value="#{inquiryProcessBackingBean.sucessMsg}"></p:outputLabel>
						</p:panelGrid>
						<br></br>
						<p:commandButton style="margin-top:10px;margin-bottom:10px"
							process="frmSuccess" value="OK"
							onclick="PF('successDialog').hide()">
						</p:commandButton>
					</center>
				</h:form>
			</p:dialog>


			<p:dialog styleClass="" id="frmInquiryRecommend" global="true"
				modal="true" header="Inquiry Recommendation" width="40%"
				severity="info" widgetVar="inquiryRecommendDlg" closeOnEscape="true"
				resizable="false">

				<h:form id="frmInquiryRecommendation">

					<p:panelGrid columns="2"
						columnClasses="ui-grid-col-3,ui-grid-col-9" layout="grid">

						<p:outputLabel value="Remark"></p:outputLabel>

						<p:inputTextarea rows="6" cols="33" maxlength="300"
							style="width:100%;height:150px" autoResize="false"
							value="#{inquiryProcessBackingBean.selectedComplaintDTO.recommendRemark}"></p:inputTextarea>

					</p:panelGrid>
					<br />
					<center>

						<p:commandButton
							style="margin-top:5px;margin-bottom:10px;width:30%"
							styleClass="mainActionbtn" value="Recommend"
							process="frmInquiryRecommend"
							update="frmInquiryRecommend,frmInquiryProcess"
							action="#{inquiryProcessBackingBean.inquiryRecommendationRecommend}">
						</p:commandButton>

						<p:commandButton
							style="margin-top:5px;margin-bottom:10px;width:30%"
							styleClass="mainActionbtn" value="Reject"
							process="frmInquiryRecommend"
							update="frmInquiryRecommend,frmInquiryProcess"
							action="#{inquiryProcessBackingBean.inquiryRecommendationReject}">
						</p:commandButton>


					</center>
				</h:form>
			</p:dialog>

			<p:dialog styleClass="" id="frmInquiryApproval" global="true"
				modal="true" header="Inquiry Approval" width="40%" severity="info"
				widgetVar="inquiryApprovalDlg" closeOnEscape="true"
				resizable="false">

				<h:form id="formInquiryApproval">

					<p:panelGrid columns="2"
						columnClasses="ui-grid-col-3,ui-grid-col-9" layout="grid">

						<p:outputLabel value="Remark"></p:outputLabel>

						<p:inputTextarea rows="6" cols="33" maxlength="300"
							style="width:100%;height:150px" autoResize="false"
							value="#{inquiryProcessBackingBean.selectedComplaintDTO.approvedRemark}"></p:inputTextarea>

					</p:panelGrid>
					<br />
					<center>

						<p:commandButton
							style="margin-top:5px;margin-bottom:10px;width:30%"
							styleClass="mainActionbtn" value="Approve"
							process="frmInquiryApproval"
							update="frmInquiryApproval,frmInquiryProcess"
							action="#{inquiryProcessBackingBean.inquiryApprovalApprove}">
						</p:commandButton>

						<p:commandButton
							style="margin-top:5px;margin-bottom:10px;width:30%"
							styleClass="mainActionbtn" value="Reject"
							process="frmInquiryApproval"
							update="frmInquiryApproval,frmInquiryProcess"
							action="#{inquiryProcessBackingBean.inquiryApprovalReject}">
						</p:commandButton>


					</center>
				</h:form>
			</p:dialog>

			<p:dialog id="uploadDocumentsDialog" global="true" modal="true"
				header="Upload Documents" width="80%" height="400px" severity="info"
				widgetVar="uploadDocument" closeOnEscape="true" resizable="false"
				style="postion: absolute;">


				<h:form id="frmdoc">

					<p:tabView>
						<p:tab title="Upload Documents">

							<p:accordionPanel>
								<p:growl id="msgs" showDetail="false" />
								<p:tab title="Mandatory Documents">


									<h:panelGrid>
										<p:dataTable id="abc" tableStyle="width:auto"
											var="docMandatory"
											value="#{inquiryProcessBackingBean.mandatoryList}" rows="5"
											paginator="true" sortOrder="ascending"
											paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
											rowsPerPageTemplate="5,10,15">

											<p:column headerText="Code"
												style="width: 100px; text-align: left;">
												<h:outputText value="#{docMandatory.doc_Code}" />
											</p:column>
											<p:column headerText="Description"
												style="width: 300px;text-align: left;">
												<h:outputText value="#{docMandatory.add_Doc_Description}" />
											</p:column>
											<p:column headerText="File Path"
												style="width: 300px;text-align: left;">

												<h:outputText value="#{docMandatory.uploadFilePath}" />
											</p:column>

											<p:column style="width: 150px !important;">
												<!-- "#{editPermitIssuanceBackingBean.strSelectedTitle}" -->

												<p:fileUpload
													fileUploadListener="#{documentManagementBean.saveGrievanceMandatoryUploadDocuments}"
													mode="advanced" dragDropSupport="false" multiple="true"
													auto="true" showButtons="false" update="@form"
													fileLimit="1" accept=".pdf,.jpg,.jpeg,.png" allowTypes="/(\.|\/)(jpe?g|png|pdf)$/" sizeLimit="15728640">
													

													<f:attribute name="uploadedObj" value="#{docMandatory}" />

												</p:fileUpload>

											</p:column>

										</p:dataTable>
									</h:panelGrid>

								</p:tab>
							</p:accordionPanel>

							<br></br>
							<br></br>

							<p:accordionPanel>
								<p:growl id="msgse" showDetail="false" />


								<p:tab title="Optional Documents">


									<h:panelGrid>
										<p:dataTable id="abcd" tableStyle="width:auto"
											var="docOptional"
											value="#{inquiryProcessBackingBean.optionalList}" rows="5"
											paginator="true" sortOrder="ascending"
											paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
											rowsPerPageTemplate="5,10,15">

											<p:column headerText="Code"
												style="width: 100px; text-align: left;">
												<h:outputText value="#{docOptional.doc_Code}" />
											</p:column>
											<p:column headerText="Description"
												style="width: 300px;text-align: left;">
												<h:outputText value="#{docOptional.add_Doc_Description}" />
											</p:column>
											<p:column headerText="File Path"
												style="width: 300px;text-align: left;">

												<h:outputText value="#{docOptional.uploadOptionalFilePath}" />
											</p:column>

											<p:column style="width: 150px !important;">
												<!-- "#{editPermitIssuanceBackingBean.strSelectedTitle}" -->

												<p:fileUpload
													fileUploadListener="#{documentManagementBean.saveGrievanceOptionalUploadDocuments}"
													mode="advanced" dragDropSupport="false" multiple="true"
													auto="true" showButtons="false" update="@form"
													fileLimit="1" accept=".pdf,.jpg,.jpeg,.png" allowTypes="/(\.|\/)(jpe?g|png|pdf)$/" sizeLimit="15728640">
													

													<f:attribute name="uploadedOptionalObj"
														value="#{docOptional}" />

												</p:fileUpload>

											</p:column>

										</p:dataTable>
									</h:panelGrid>

								</p:tab>


							</p:accordionPanel>

						</p:tab>

						<p:tab title="Upload History">


							<p:accordionPanel multiple="true">
								<p:growl showDetail="false" />
								<p:tab title="Grievances Management (Documents)" closable="true">


									<p:accordionPanel id="dkfj">
										<p:growl id="NP" showDetail="false" />
										<p:tab title="Mandatory Documents">


											<h:panelGrid>
												<p:dataTable id="mandatoryNP" tableStyle="width:auto"
													var="docMandatory"
													value="#{sessionBackingBean.sisuSariyaMandatoryDocumentList}"
													rows="5" paginator="true" sortOrder="ascending"
													paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
													rowsPerPageTemplate="5,10,15">

													<p:column headerText="Code"
														style="width: 100px;text-align: left;">
														<h:outputText value="#{docMandatory.doc_Code}" />
													</p:column>
													<p:column headerText="Description"
														style="width: 300px;text-align: left;">
														<h:outputText value="#{docMandatory.add_Doc_Description}" />
													</p:column>
													<p:column headerText="File Name"
														style="width: 200px;text-align: left;">

														<h:outputText value="#{docMandatory.documentName}" />
													</p:column>

													<p:column headerText="" style="width: 75px;">

														<p:commandLink
															actionListener="#{documentManagementBean.viewMandatoryUploadDocs}"
															oncomplete="window.open('/InfoNTC/showUpload?reportName=Upload Document')">
															<p:graphicImage library="images" name="view.png"
																style="width:20px;height:20px;" title="View"></p:graphicImage>
															<f:attribute name="documentMandatory"
																value="#{docMandatory}" />
														</p:commandLink>

													</p:column>


												</p:dataTable>
											</h:panelGrid>

										</p:tab>
									</p:accordionPanel>

									<br></br>
									<br></br>

									<p:accordionPanel>

										<p:growl showDetail="false" />

										<p:tab title="Optional Documents">

											<h:panelGrid>
												<p:dataTable id="optionalNP" tableStyle="width:auto"
													var="docOptional"
													value="#{sessionBackingBean.sisuSariyaOptionalDocumentList}"
													rows="5" paginator="true" sortOrder="ascending"
													scrollHeight="100%" liveResize="true" liveScroll="true"
													paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
													rowsPerPageTemplate="5,10,15">

													<p:column headerText="Code"
														style="width: 100px;text-align: left;">
														<h:outputText value="#{docOptional.doc_Code}" />
													</p:column>
													<p:column headerText="Description"
														style="width: 300px;text-align: left;">
														<h:outputText value="#{docOptional.add_Doc_Description}" />
													</p:column>
													<p:column headerText="File Name"
														style="width: 200px;text-align: left;">
														<h:outputText value="#{docOptional.documentName}" />
													</p:column>

													<p:column headerText="" style="width: 75px;">

														<p:commandLink
															actionListener="#{documentManagementBean.viewUploadedOptionalDocAction}"
															oncomplete="window.open('/InfoNTC/showUpload?reportName=Upload Document')">
															<p:graphicImage library="images" name="view.png"
																style="width:20px;height:20px;" title="View"></p:graphicImage>
															<f:attribute name="documentOptional"
																value="#{docOptional}" />
														</p:commandLink>

													</p:column>


												</p:dataTable>
											</h:panelGrid>
										</p:tab>

									</p:accordionPanel>

								</p:tab>
								<br></br>
							</p:accordionPanel>
						</p:tab>
					</p:tabView>



				</h:form>
			</p:dialog>


		</div>



	</ui:define>
</ui:composition>