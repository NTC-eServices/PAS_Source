<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="/WEB-INF/template/template.xhtml">
	<ui:define name="metadata">
	</ui:define>

	<ui:define name="content">

		<style>
.dateTimeField input {
	width: 100px;
}

.dateTimeField img {
	vertical-align: right;
}

.ui-dialog .ui-dialog-titlebar {
	padding: .4em .4em .4em 1em;
	position: relative;
	background: #07295b !important;
	padding: 5px 5px 5px 5px;
	margin: 0px 0px 0px 0px;
	color: #ffffff;
}

.ui-panelgrid .ui-panelgrid-cell {
	background-color: #f1f1f1;
}

.ui-icon.ui-confirm-dialog-severity {
	background-position: 0 0 !important;
	background-image: none !important;
}

.colorHighlight {
	background: yellow !important;
}

.ui-dialog .ui-widget .ui-widget-content .ui-corner-all .ui-shadow .ui-hidden-container .ui-draggable
	{
	width: 50%;
}

.firstColumn {
	width: 100%;
}

.secondColumn {
	width: 100%;
}

.dashboardNRResendDocRecord {
	background-color: #16e5d7 !important;
}

.ui-state-default a, .ui-state-default a:link, .ui-state-default a:visited
	{
	color: #07295b;
}

.mainDiv {
	width: 99%;
	height: auto;
	border-left: solid;
	border-right: solid;
	border-bottom: solid;
	border-top: solid;
	border-color: #07295b;
	border-width: 1px;
	margin-left: 5px;
	margin-top: 5px;
	margin-bottom: 5px;
	/*background-image: linear-gradient(to right bottom, #d9ddfa, #ccd4fb, #bdcafc, #aec2fe,
		#9cb9ff);*/
	background-image: linear-gradient(to right bottom, #f1f1f1, #dfdfe4, #f1f1f1, #e9eaeb,
		#bbb5b5);
}

.ui-inputfield, .ui-widget-content .ui-inputfield, .ui-widget-header .ui-inputfield
	{
	color: #07295b;
}

.mainLinkButton {
	font-weight: bold;
	background: #2571fa !important;
	text-align: center;
	padding: 7px 25px 7px 25px !important;
	height: 35px !important;
	text-decoration: none !important;
	color: white !important;
	white-space: nowrap !important;
	border-radius: 5px !important;
}

.mainLinkButton:hover {
	background: #fba026 !important;
}

.otherLinkButton {
	font-weight: bold;
	background: #296807 !important;
	text-align: center;
	padding: 7px 25px 7px 25px !important;
	height: 35px !important;
	text-decoration: none !important;
	color: white !important;
	white-space: nowrap !important;
	border-radius: 5px !important;
}

.otherLinkButton:hover {
	background: #fba026 !important;
}

.mainActionbtn {
	font-weight: bold;
	background: #2571fa !important;
	height: 30px !important;
	border-radius: 5px !important;
	color: white !important;
	text-align: center;
	width: 80px;
	white-space: nowrap !important;
	-webkit-transition: background-color 0.3s ease-out;
	-moz-transition: background-color 0.3s ease-out;
	-o-transition: background-color 0.3s ease-out;
	transition: background-color 0.3s ease-out;
}

.mainActionbtn:hover {
	background: #fba026 !important;
}

.OthActionbtn {
	font-weight: bold;
	background: #296807 !important;
	height: 30px !important;
	border-radius: 5px !important;
	color: white !important;
	text-align: center;
	width: 80px;
	white-space: nowrap !important;
	-webkit-transition: background-color 0.3s ease-out;
	-moz-transition: background-color 0.3s ease-out;
	-o-transition: background-color 0.3s ease-out;
	transition: background-color 0.3s ease-out;
	margin-bottom: 5px;
}

.OthActionbtn:hover {
	background: #fba026 !important;
}

.subDiv {
	margin: 0 auto;
	background: rgb(254, 255, 255); /* Old browsers */
	background: -moz-linear-gradient(-45deg, rgba(254, 255, 255, 1) 0%,
		rgba(210, 235, 249, 1) 100%); /* FF3.6-15 */
	background: -webkit-linear-gradient(-45deg, rgba(254, 255, 255, 1) 0%,
		rgba(210, 235, 249, 1) 100%); /* Chrome10-25,Safari5.1-6 */
	background: linear-gradient(135deg, rgba(254, 255, 255, 1) 0%,
		rgba(210, 235, 249, 1) 100%);
	/* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#feffff',
		endColorstr='#d2ebf9', GradientType=1);
	/* IE6-9 fallback on horizontal gradient */
}

.ui-input {
	margin-top: -20px;
}

.ui-inputfield ui-widget ui-state-default ui-corner-all {
	width: 10%;
}
</style>

		<h:form id="form">


			<div class="mainDiv">
				<h1
					style="margin-top: 0%; text-align: center; color: #ffffff; background-color: #404d6f !important;"
					class="common_form_header">Generate Receipt</h1>
				<div style="width: 96%;" class="subDiv">
					<p:panel id="panelOne">
						<br></br>
						<p:panelGrid columns="6"
							columnClasses="ui-grid-col-2,ui-grid-col-3,ui-grid-col-2,ui-grid-col-3,ui-grid-col-1,ui-grid-col-3"
							layout="grid">

							<p:panelGrid>
								<p:outputLabel value="Voucher No."></p:outputLabel>
								<p:outputLabel value="*" style="color:red;"></p:outputLabel>
							</p:panelGrid>

							<p:panelGrid>
								<p:selectOneMenu id="voucherNo" style="width:85%"
									value="#{generateReceiptBackingBean.generateReceiptDTO.voucherNo}"
									filter="true" filterMatchMode="contains" tabindex="1">
`									<p:ajax
										listener="#{generateReceiptBackingBean.onVoucherChange}"
										update="panelOne,dataTable" />
									<f:selectItem itemLabel="--Select Voucher No.--" itemValue=""
										noSelectionOption="true" />
									<f:selectItems
										value="#{generateReceiptBackingBean.voucherNoList}" var="v"
										itemLabel="#{v.voucherNo}" itemValue="#{v.voucherNo}" />
								</p:selectOneMenu>
							</p:panelGrid>

							<p:panelGrid>
								<p:outputLabel value="Reference No."></p:outputLabel>
							</p:panelGrid>
							<p:panelGrid>
								<p:selectOneMenu id="applicationNo" style="width:85%"
									value="#{generateReceiptBackingBean.generateReceiptDTO.applicationNo}"
									filter="true" filterMatchMode="contains" tabindex="1">

									<f:selectItem itemLabel="--Select Reference No.--" itemValue=""
										noSelectionOption="true" />
									<f:selectItems
										value="#{generateReceiptBackingBean.applicationNo}" var="a"
										itemLabel="#{a.applicationNo}" itemValue="#{a.applicationNo}" />
								</p:selectOneMenu>
							</p:panelGrid>

							<p:panelGrid>
								<p:outputLabel value="Date"></p:outputLabel>
							</p:panelGrid>

							<p:panelGrid>
								<p:calendar placeholder="--Enter Date--" inputStyle="width:85%;"
									id="datepicker"
									value="#{generateReceiptBackingBean.generateReceiptDTO.searchDate}"
									pattern="dd-MM-yyyy" mask="true" />
							</p:panelGrid>

							<p:panelGrid>
								<p:outputLabel value="Transaction Type "></p:outputLabel>

							</p:panelGrid>

							<p:panelGrid>
								<p:inputText id="transactionType"
									value="#{generateReceiptBackingBean.generateReceiptDTO.transactionDescription}"
									onkeyup="this.value=this.value.toUpperCase();"
									style="width:85%" maxlength="12" readonly="true" placeholder="">
								</p:inputText>
								<h:inputHidden id="transactionCode"
									value="#{generateReceiptBackingBean.generateReceiptDTO.transactionCode}" />


							</p:panelGrid>

							<p:panelGrid>
								<p:outputLabel value="Department "></p:outputLabel>

							</p:panelGrid>
							<p:panelGrid>
								<p:inputText id="department"
									value="#{generateReceiptBackingBean.generateReceiptDTO.departmentDescription}"
									onkeyup="this.value=this.value.toUpperCase();"
									style="width:85%" maxlength="12" readonly="true" placeholder="">
								</p:inputText>
								<h:inputHidden id="departmentCode"
									value="#{generateReceiptBackingBean.generateReceiptDTO.departmentCode}" />

							</p:panelGrid>

							<p:panelGrid>
								<p:outputLabel value="Unit"></p:outputLabel>
							</p:panelGrid>

							<p:panelGrid>
								<p:selectOneMenu id="unit" style="width:85%"
									value="#{generateReceiptBackingBean.generateReceiptDTO.unitCode}"
									filter="true" filterMatchMode="contains" tabindex="1">

									<f:selectItem itemLabel="--Select Unit--" itemValue=""
										noSelectionOption="true" />
									<f:selectItems value="#{generateReceiptBackingBean.unitList}"
										itemLabel="#{u.unitDiscription}" itemValue="#{u.unitCode}"
										var="u" />
								</p:selectOneMenu>
							</p:panelGrid>

							<!-- 			********************************************************************************************* -->

							<p:panelGrid>
								<p:outputLabel value="Permit No."></p:outputLabel>
							</p:panelGrid>

							<p:panelGrid>
								<p:inputText id="permitNo"
									value="#{generateReceiptBackingBean.generateReceiptDTO.permitNo}"
									onkeyup="this.value=this.value.toUpperCase();"
									style="width:85%" maxlength="12"
									placeholder="--Enter Permit No.--">
									
								</p:inputText>
							</p:panelGrid>

							<p:panelGrid>
								<p:outputLabel value="Receipt No."></p:outputLabel>
							</p:panelGrid>
							<p:panelGrid>
								<p:inputText id="receiptNo"
									value="#{generateReceiptBackingBean.generateReceiptDTO.receiptNo}"
									onkeyup="this.value=this.value.toUpperCase();"
									style="width:85%" maxlength="12" readonly="true" placeholder="">
								</p:inputText>

							</p:panelGrid>

							<p:panelGrid>
								<!-- <p:outputLabel value="Queue No."></p:outputLabel> -->
							</p:panelGrid>
							<p:panelGrid>

							</p:panelGrid>

							<!-- 			********************************************************************************************* -->
						</p:panelGrid>
						<br />
						<center>
							<p:commandButton value="Search" styleClass="mainActionbtn"
								id="cmdBtnSearch" action="#{generateReceiptBackingBean.search}"
								update="dataTable" />

							<p:commandButton value="Clear" styleClass="mainActionbtn"
								id="btnClearAll" update="form"
								action="#{generateReceiptBackingBean.clear}"></p:commandButton>
						</center>
					</p:panel>
					<p:panel id="panelTwo">

						<center>
							<p:dataTable id="dataTable" var="p" rows="5" paginator="true"
								value="#{generateReceiptBackingBean.generateReceiptList}"
								rowKey="#{p.applicationNo}"
								paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
								rowsPerPageTemplate="5,10,20" resizableColumns="false"
								liveResize="true" tableStyle="width:100%;font-size:12px;"
								rowIndexVar="index" styleClass="myTable"
								emptyMessage="No records available.">

								<p:column headerText="Voucher No./Advance Payment No. "
									style="width:20%;" sortBy="#{p.voucherNo}">
									<center>
										<h:outputText value="#{p.voucherNo}" />
									</center>
								</p:column>

								<p:column headerText="Transaction Type"
									style="width:20%;word-wrap: break-word;">
									<center>
										<h:outputText value="#{p.transactionDescription}" />
									</center>
								</p:column>

								<p:column headerText="Department"
									style="width:10%;word-wrap: break-word;">
									<center>
										<h:outputText value="#{p.departmentDescription}" />
									</center>
								</p:column>

								<p:column headerText="Reference No." style="width:10%">
									<center>
										<h:outputText value="#{p.applicationNo}" />
									</center>
								</p:column>

								<p:column headerText="Status" style="width:10%">
									<center>
										<h:outputText value="#{p.approveStatus}" />
									</center>
								</p:column>

								<p:column headerText="Date" style="width:10%">
									<center>
										<h:outputText value="#{p.paymentDate}" />
									</center>
								</p:column>

								<p:column headerText="Total Amount(Rs.)"
									style="text-align:right;width:10%">
									<center>
										<h:outputText value="#{p.totalAmount}" style="float:right">
											<f:convertNumber type="currency" currencySymbol="" />
										</h:outputText>
									</center>
								</p:column>

								<p:column headerText="Generate Receipt" style="width:10%">
									<center>
										<p:commandLink id="cmdbtnViewReceipt"
											action="#{generateReceiptBackingBean.view}">
											<f:setPropertyActionListener value="#{p}"
												target="#{generateReceiptBackingBean.selectedRow}" />
											<p:graphicImage library="images" name="receipt.png"
												style="width:22px;height:22px;" title="Generate Receipt"></p:graphicImage>
										</p:commandLink>
									</center>
								</p:column>

							</p:dataTable>
						</center>
						<br></br>
					</p:panel>
				</div>
			</div>

		</h:form>

		<p:dialog id="errorMSG" global="true" modal="true" header="Error"
			width="30%" severity="info" widgetVar="errorMessage"
			closeOnEscape="true" resizable="false">

			<h:form id="frmError">
				<center>
					<p:panelGrid columns="2" styleClass="ui-noborder">
						<p:graphicImage library="images" name="error-24.png"></p:graphicImage>

						<p:outputLabel value="#{generateReceiptBackingBean.errorMessage}"></p:outputLabel>

					</p:panelGrid>
					<br></br>
					<p:commandButton style="margin-top:10px;margin-bottom:10px"
						value="OK" process="frmError" onclick="PF('errorMessage').hide()">
					</p:commandButton>
				</center>
			</h:form>
		</p:dialog>

		<p:dialog id="successMSG" global="true" modal="true" header="Success"
			width="30%" severity="info" widgetVar="successMessage"
			closeOnEscape="true" resizable="false">

			<h:form id="frmsuccess">
				<center>
					<p:panelGrid columns="2" styleClass="ui-noborder">
						<p:graphicImage library="images" name="success-24.png"></p:graphicImage>

						<p:outputLabel
							value="#{generateReceiptBackingBean.successMessage}"></p:outputLabel>

					</p:panelGrid>
					<br></br>
					<p:commandButton style="margin-top:10px;margin-bottom:10px"
						value="OK" process="frmsuccess"
						onclick="PF('successMessage').hide()">
					</p:commandButton>
				</center>
			</h:form>
		</p:dialog>

		<p:dialog id="infoMSG" global="true" modal="true" header="Alert"
			width="30%" severity="info" widgetVar="infoMessage"
			closeOnEscape="true" resizable="false">

			<h:form id="frmInfo">
				<center>
					<p:panelGrid columns="2" styleClass="ui-noborder">
						<p:graphicImage library="images" name="warning_24.png"></p:graphicImage>

						<p:outputLabel value="#{generateReceiptBackingBean.infoMessage}"></p:outputLabel>

					</p:panelGrid>
					<br></br>
					<p:commandButton style="margin-top:10px;margin-bottom:10px"
						value="OK" process="frmInfo" onclick="PF('infoMessage').hide()">
					</p:commandButton>
				</center>
			</h:form>
		</p:dialog>



		<p:dialog header=" Receipt " widgetVar="voucherDialog" modal="true"
			id="dialogVoucher" resizable="false" height="100%" width="80%">
			<h:form id="frmVoucher">
				<p:panel id="panelOne">

					<p:panelGrid columns="4"
						columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
						layout="grid">

						<p:panelGrid>
							<p:outputLabel value="Transaction Type"></p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:inputText
								value="#{generateReceiptBackingBean.selectedRow.transactionDescription}"
								style="width:90%" readonly="true" />
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Receipt No."></p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:inputText id="vpReceiptNo"
								value="#{generateReceiptBackingBean.selectedRow.receiptNo}"
								style="width:90%;font-weight: bold;color: red;" readonly="true" />
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Voucher No."></p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:inputText
								value="#{generateReceiptBackingBean.selectedRow.voucherNo}"
								style="width:90%" readonly="true" />
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Date"></p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:inputText value="#{generateReceiptBackingBean.date1}"
								style="width:90%" readonly="true" />
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Payment Mode "></p:outputLabel>
							<p:outputLabel value="*" style="color:red;"></p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:selectOneMenu style="width:85%"
								value="#{generateReceiptBackingBean.selectedRow.paymentModeCode}"
								filter="true" filterMatchMode="contains" tabindex="1"
								disabled="#{generateReceiptBackingBean.disabledPaymentMode}">
								<p:ajax
									listener="#{generateReceiptBackingBean.onPaymentModeChange}"
									update="panelOne" />
								<f:selectItems
									value="#{generateReceiptBackingBean.paymentModeList}" var="d"
									itemLabel="#{d.paymentModeDescription}"
									itemValue="#{d.paymentModeCode}" />
							</p:selectOneMenu>
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Bank Name">
								<p:outputLabel value=" *"
									rendered="#{generateReceiptBackingBean.requiredBankDisplay}"
									style="color:red;"></p:outputLabel>
							</p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:selectOneMenu id="bank" style="width:85%"
								value="#{generateReceiptBackingBean.selectedRow.bankCode}"
								filter="true" filterMatchMode="contains" tabindex="1"
								disabled="#{generateReceiptBackingBean.disabledBank}">

								<p:ajax listener="#{generateReceiptBackingBean.onBankChange}"
									update="branch" />
								<f:selectItem itemLabel="--Select Bank Name--" itemValue=""
									noSelectionOption="true" />
								<f:selectItems
									value="#{generateReceiptBackingBean.bankNameList}" var="d"
									itemLabel="#{d.bankDescription}" itemValue="#{d.bankCode}" />
							</p:selectOneMenu>
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Deposit to Bank"></p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:selectBooleanCheckbox
								disabled="#{generateReceiptBackingBean.disabledDepositToBank}"
								value="#{generateReceiptBackingBean.selectedRow.depositToBank}">
								<p:ajax listener="#{generateReceiptBackingBean.ifDepositToBank}"
									update="panelOne" />
							</p:selectBooleanCheckbox>
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Branch Name">
								<p:outputLabel value=" *"
									rendered="#{generateReceiptBackingBean.requiredBankDisplay}"
									style="color:red;"></p:outputLabel>
							</p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:selectOneMenu id="branch" style="width:85%"
								value="#{generateReceiptBackingBean.selectedRow.branchCode}"
								filter="true" filterMatchMode="contains" tabindex="1"
								disabled="#{generateReceiptBackingBean.disabledBank}">

								<f:selectItem itemLabel="--Select Branch Name--" itemValue=""
									noSelectionOption="true" />
								<f:selectItems
									value="#{generateReceiptBackingBean.branchNameList}" var="d"
									itemLabel="#{d.branchDescription}" itemValue="#{d.branchCode}" />
							</p:selectOneMenu>
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Cheque No./ Bank Receipt No.">
								<p:outputLabel value=" *"
									rendered="#{generateReceiptBackingBean.requiredchequeReceiptNoDisplay}"
									style="color:red;"></p:outputLabel>
							</p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:inputText id="chequeBankReceiptNo"
								onkeyup="this.value = this.value.toUpperCase();"
								onblur="this.value = this.value.toUpperCase();"
								disabled="#{generateReceiptBackingBean.disabledChequeBankReceiptNo}"
								value="#{generateReceiptBackingBean.selectedRow.chequeOrBankReceipt}"
								style="width:90%" maxlength="20">
								
							</p:inputText>
						</p:panelGrid>

					</p:panelGrid>
				</p:panel>

				<p:panel id="panelTwo">

					<center>
						<p:dataTable id="dataTable" var="p"
							value="#{generateReceiptBackingBean.voucherDetailsList}"
							sortBy="#{1}" resizableColumns="false" liveResize="true"
							tableStyle="width:100%" styleClass="myTable"
							emptyMessage="No records available." rows="5" paginator="true"
							paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">

							<p:column headerText="Charge Type" style="text-align:left">
								<h:outputText style="float:left;" value="#{p.chargeDescription}" />
							</p:column>

							<p:column headerText="Account No." style="text-align:left">
								<h:outputText style="float:left;" value="#{p.accountNO}" />
							</p:column>

							<p:column headerText="Amount(Rs.)"
								style="text-align:right;margin-right:10%">
								<h:outputText style="float:right;" value="#{p.amount}">
									<f:convertNumber type="currency" currencySymbol="" />
								</h:outputText>
							</p:column>

							<p:columnGroup type="footer">
								<p:row>
									<p:column colspan="2" style="text-align:right"
										footerText="Total Fee (Rs.)" />

									<p:column style="text-align:right">
										<f:facet name="footer">
											<h:outputText style="float:right;"
												value="#{generateReceiptBackingBean.selectedRow.totalAmount}">
												<f:convertNumber type="currency" currencySymbol="" />
											</h:outputText>
										</f:facet>
									</p:column>

								</p:row>
							</p:columnGroup>



						</p:dataTable>
					</center>
				</p:panel>
				<p:panel id="panelThree">
					<p:panelGrid columns="4"
						columnClasses="ui-grid-col-3,ui-grid-col-9" layout="grid">

						<p:panelGrid>
							<p:outputLabel value="Special Remark"></p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:inputText
								disabled="#{generateReceiptBackingBean.disabledPaymentMode}"
								value="#{generateReceiptBackingBean.selectedRow.remarks}"
								style="width:90%" />
						</p:panelGrid>

					</p:panelGrid>
				</p:panel>
				<br />
				<center>
					<p:commandButton value="Generate Receipt"
						action="#{generateReceiptBackingBean.generateReceipt}"
						update="frmVoucher,panelOne,form" rendered="false"
						disabled="#{generateReceiptBackingBean.disableGenarate}"
						styleClass="mainActionbtn" id="btnGenerateVP" style="width:15%" />



					<p:commandButton value="Print"
						update="frmVoucher, btnPrintVP,panelOne,form"
						actionListener="#{generateReceiptBackingBean.generateReceipt}"
						disabled="#{generateReceiptBackingBean.disablePrint}"
						styleClass="mainActionbtn" id="btnPrintVP" style="width:15%">

					</p:commandButton>



					<p:commandButton value="Re-Print"
						actionListener="#{generateReceiptBackingBean.rePrint}"
						oncomplete="window.open('/InfoNTC/showUpload')"
						disabled="#{generateReceiptBackingBean.disableReprint}"
						styleClass="mainActionbtn" id="btnReprintVP" style="width:15%">
						<f:attribute name="value"
							value="#{generateReceiptBackingBean.valueForPrint}"></f:attribute>
					</p:commandButton>
					<p:commandButton value="Cancel" styleClass="mainActionbtn"
						style="width:15%" id="btnCancel" update="form"
						onclick="PF('voucherDialog').hide()" />

				</center>
			</h:form>
		</p:dialog>

		<p:dialog header=" Receipt " widgetVar="advancedPaymentDialog"
			modal="true" id="dialogAdvancedPayment" resizable="false"
			height="100%" width="80%">
			<h:form id="frmAdvancedPayment">
				<p:panel id="panelOne">

					<p:panelGrid columns="4"
						columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
						layout="grid">

						<p:panelGrid>
							<p:outputLabel value="Transaction Type"></p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:inputText
								value="#{generateReceiptBackingBean.selectedRow.transactionDescription}"
								style="width:90%" readonly="true" />
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Receipt No."></p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:inputText id="apReceiptNo"
								value="#{generateReceiptBackingBean.selectedRow.receiptNo}"
								style="width:90%;font-weight: bold;color: red;" readonly="true" />
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Voucher No."></p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:inputText
								value="#{generateReceiptBackingBean.selectedRow.voucherNo}"
								style="width:90%" readonly="true" />
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Date"></p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:inputText value="#{generateReceiptBackingBean.date1}"
								style="width:90%" readonly="true" />
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Payment Mode"></p:outputLabel>
							<p:outputLabel value=" *" style="color:red;"></p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:selectOneMenu style="width:85%"
								value="#{generateReceiptBackingBean.selectedRow.paymentModeCode}"
								filter="true" filterMatchMode="contains" tabindex="1"
								disabled="#{generateReceiptBackingBean.disabledPaymentMode}">
								<p:ajax
									listener="#{generateReceiptBackingBean.onPaymentModeChange}"
									update="panelOne" />

								<f:selectItems
									value="#{generateReceiptBackingBean.paymentModeList}" var="d"
									itemLabel="#{d.paymentModeDescription}"
									itemValue="#{d.paymentModeCode}" />
							</p:selectOneMenu>
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Bank Name">
								<p:outputLabel value=" *"
									rendered="#{generateReceiptBackingBean.requiredBankDisplay}"
									style="color:red;"></p:outputLabel>
							</p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:selectOneMenu id="bank" style="width:85%"
								value="#{generateReceiptBackingBean.selectedRow.bankCode}"
								filter="true" filterMatchMode="contains" tabindex="1"
								disabled="#{generateReceiptBackingBean.disabledBank}">

								<p:ajax listener="#{generateReceiptBackingBean.onBankChange}"
									update="branch" />
								<f:selectItem itemLabel="--Select Bank Name--" itemValue=""
									noSelectionOption="true" />

								<f:selectItems
									value="#{generateReceiptBackingBean.bankNameList}" var="d"
									itemLabel="#{d.bankDescription}" itemValue="#{d.bankCode}" />
							</p:selectOneMenu>
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Deposit to Bank"></p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:selectBooleanCheckbox
								disabled="#{generateReceiptBackingBean.disabledDepositToBank}"
								value="#{generateReceiptBackingBean.selectedRow.depositToBank}">
								<p:ajax listener="#{generateReceiptBackingBean.ifDepositToBank}"
									update="panelOne" />
							</p:selectBooleanCheckbox>
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Branch Name">
								<p:outputLabel value=" *"
									rendered="#{generateReceiptBackingBean.requiredBankDisplay}"
									style="color:red;"></p:outputLabel>
							</p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:selectOneMenu id="branch" style="width:85%"
								value="#{generateReceiptBackingBean.selectedRow.branchCode}"
								filter="true" filterMatchMode="contains" tabindex="1"
								disabled="#{generateReceiptBackingBean.disabledBank}">

								<f:selectItem itemLabel="--Select Branch Name--" itemValue=""
									noSelectionOption="true" />
								<f:selectItems
									value="#{generateReceiptBackingBean.branchNameList}" var="d"
									itemLabel="#{d.branchDescription}" itemValue="#{d.branchCode}" />
							</p:selectOneMenu>
						</p:panelGrid>

						<p:panelGrid>
							<p:outputLabel value="Cheque No./ Bank Receipt No.">
								<p:outputLabel value=" *"
									rendered="#{generateReceiptBackingBean.requiredchequeReceiptNoDisplay}"
									style="color:red;"></p:outputLabel>
							</p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:inputText id="chequeBankReceiptNo"
								onkeyup="this.value = this.value.toUpperCase();"
								onblur="this.value = this.value.toUpperCase();"
								disabled="#{generateReceiptBackingBean.disabledChequeBankReceiptNo}"
								value="#{generateReceiptBackingBean.selectedRow.chequeOrBankReceipt}"
								style="width:90%" maxlength="20">
								
							</p:inputText>
						</p:panelGrid>

					</p:panelGrid>
				</p:panel>

				<p:panel id="panelTwo">

					<center>
						<p:dataTable id="dataTable" var="p"
							value="#{generateReceiptBackingBean.advancedPaymentDetailsList}"
							resizableColumns="false" liveResize="true"
							tableStyle="width:100%" sortBy="#{p.cratedDate}"
							styleClass="myTable" emptyMessage="No records available."
							rows="5" paginator="true"
							paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">

							<p:column style="width:10%;text-align:left" headerText="Date">
								<h:outputText value="#{p.cratedDate}" style="float:left">
									<f:convertDateTime pattern="MM/dd/yyyy" />
								</h:outputText>
							</p:column>

							<p:column style="width:50%;text-align:left;"
								headerText="Details of Services or Items Provided">
								<h:outputText value="#{p.serviceDetails}" />
							</p:column>

							<p:column style="width:20%" headerText="No. of Unit/Rate">
								<center>
									<h:outputText value="#{p.noofUnits}" />
								</center>
							</p:column>

							<p:column style="width:20%;text-align:right;margin-right:10%"
								headerText="Amount(Rs.)">
								<h:outputText style="float:right;" value="#{p.amount}">
									<f:convertNumber type="currency" currencySymbol="" />
								</h:outputText>
							</p:column>

							<p:columnGroup type="footer">
								<p:row>
									<p:column colspan="3" style="text-align:right"
										footerText="Total Fee (Rs.)" />

									<p:column style="text-align:right">
										<f:facet name="footer">
											<h:outputText style="float:right;"
												value="#{generateReceiptBackingBean.selectedRow.totalAmount}">
												<f:convertNumber type="currency" currencySymbol="" />
											</h:outputText>
										</f:facet>
									</p:column>

								</p:row>
							</p:columnGroup>



						</p:dataTable>
					</center>
				</p:panel>
				<p:panel id="panelThree">
					<p:panelGrid columns="4"
						columnClasses="ui-grid-col-3,ui-grid-col-9" layout="grid">

						<p:panelGrid>
							<p:outputLabel value="Special Remark"></p:outputLabel>
						</p:panelGrid>

						<p:panelGrid>
							<p:inputText
								disabled="#{generateReceiptBackingBean.disabledPaymentMode}"
								value="#{generateReceiptBackingBean.selectedRow.remarks}"
								style="width:90%" />
						</p:panelGrid>

					</p:panelGrid>
				</p:panel>
				<br />
				<center>
					<p:commandButton value="Generate Receipt"
						action="#{generateReceiptBackingBean.generateReceipt}"
						update="frmAdvancedPayment,form" rendered="false"
						disabled="#{generateReceiptBackingBean.disableGenarate}"
						styleClass="mainActionbtn" id="btnGenerateAP" style="width:15%" />
					<p:commandButton value="Print"
						update="frmAdvancedPayment, btnPrintAP,form"
						actionListener="#{generateReceiptBackingBean.generateReceipt}"
						oncomplete="window.open('/InfoNTC/showUpload')"
						disabled="#{generateReceiptBackingBean.disablePrint}"
						styleClass="mainActionbtn" id="btnPrintAP" style="width:15%">
						<f:attribute name="value"
							value="#{generateReceiptBackingBean.valueForPrint}"></f:attribute>
					</p:commandButton>

					<p:commandButton value="Re-Print"
						actionListener="#{generateReceiptBackingBean.rePrint}"
						oncomplete="window.open('/InfoNTC/showUpload')"
						disabled="#{generateReceiptBackingBean.disableReprint}"
						styleClass="mainActionbtn" id="btnReprintAP" style="width:15%">
						<f:attribute name="value"
							value="#{generateReceiptBackingBean.valueForPrint}"></f:attribute>
					</p:commandButton>
					<p:commandButton value="Cancel" styleClass="mainActionbtn"
						style="width:15%" id="btnCancel"
						onclick="PF('advancedPaymentDialog').hide()" />
				</center>
			</h:form>
		</p:dialog>

	</ui:define>
</ui:composition>