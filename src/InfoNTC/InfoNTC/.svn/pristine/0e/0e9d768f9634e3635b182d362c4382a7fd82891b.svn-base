<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<f:facet name="first">
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport"
			content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<link type="image/x-icon"
			href="#{facesContext.externalContext.requestContextPath}/resources/icons/favicon.ico"
			rel="shortcut icon" />
		<link type="image/x-icon"
			href="#{facesContext.externalContext.requestContextPath}/resources/icons/favicon.ico"
			rel="icon" />
	</f:facet>

	<title>National Transport Commission</title>
	<h:outputScript name="js/nanoscroller.js" library="theme-layout" />
	<h:outputScript name="js/layout.js" library="theme-layout" />

	<style>
.mainDiv {
	width: 99%;
	height: auto;
	margin: 10px;
}

.ui-carousel .ui-carousel-button {
	display: none;
}

.ui-carousel .ui-carousel-page-link {
	display: none;
}

.footer {
	position: fixed;
	left: 0;
	bottom: 0;
	width: 100%;
	height: 20px;
	background-color: #07295b;
	/* padding: .7em 1.5em 0em 1.5em; */
	text-align: center;
	color: #ffffff;
}

.ui-widget-content {
	border: none;
}

.ui-widget-header {
	background: #000000;
	font-weight: normal;
	text-align: center;
}

.ui-state-default {
	background: #000000;
}

.ui-datatable thead th {
	text-align: left;
	font-size: 2.00em;
	padding: 10px 10px !important;
	color: #FFFFFF;
	font-weight: normal;
}

.ui-datatable .ui-datatable-header {
	background-color: #000000;
}

.ui-g-3 {
	display: none !important;
}

.ui-hidden-container {
	border: none !important;
}

.ui-panelgrid, .ui-panelgrid-cell {
	border: none !important;
	text-align: center;
}

.ui-datatable thead th {
	background-color: #ffffff !important;
	border: 1px solid #A3A7A7;
	font-size: 2.0rem !important;
}

.ui-datatable tbody td {
	background-color: #ffffff !important;
	border: 1px solid #A3A7A7;
}

.ui-carousel-header {
	background-color: #07295b !important;
	font-size: 1.50rem !important;
	padding: 5px 10px !important;
	color: #FFFFFF;
	border: none;
	border-radius: 25px;
}

#headder-counter {
	text-align: left;
	color: #41385f;
	font-size: 2.5rem;
	padding: 10px 10px;
	margin: auto;
	border-radius: 20px;
	background-image: linear-gradient(to right, #ffffff, #ebe5ff, #d9caff, #c8b0ff, #b994ff);
}

.ui-hidden-container {
	background-color: #FFFFFF !important;
	height: 40px !important;
}

.next-numbers {
	text-align: center !important;
}

.ui-widget .ui-state-default .ui-corner-all {
	height: 1.80rem;
	font-size: 1.80rem !important;
	box-shadow: inset 0 2px 2px white;
}

.ui-state-default, .ui-widget-content .ui-state-default,
	.ui-widget-header {
	background: #F6E4FF !important;
	border-color: #A3A7A7;
	border-radius: 3px;
	font-weight: normal;
}
</style>
</h:head>

<h:body styleClass="main-body">


	<div class="mainDiv">

		<h:form id="counterMainDisplay">

			<p:poll interval="3"
				listener="#{customerDashboardBean.onDepartmentChange}"
				update='queueTable' />

			<p:panel>

				<!-- Heading Section -->
				<div class="ui-g">
					<div class="ui-g-4">
						<div
							style="background: url(resources/images/loginHeader.jpg) no-repeat center; margin-left: auto; margin-right: auto; width: 100%; height: 100%">
						</div>
					</div>
					<div class="ui-g-8">
						<div id="headder-counter">
							<h:outputText value="Counter Details" />
						</div>
					</div>
				</div>



				<!-- Content Sections  -->

				<p:panelGrid columns="4" style="margin: 20px 0px 0px 0px;"
					columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-2,ui-grid-col-4"
					layout="grid">

					<p:panelGrid></p:panelGrid>

					<p:panelGrid>
						<h:outputLabel value="Department :"
							style="font-size: 1.80rem !important;" />
					</p:panelGrid>

					<p:panelGrid>
						<p:selectOneMenu style="width: 180%;text-align: left;"
							value="#{customerDashboardBean.departmentDTO.code}" effect="fold"
							filter="true" filterMatchMode="contains">
							<f:selectItem itemLabel="-- Select Department --" />
							<f:selectItems value="#{customerDashboardBean.departmentList}"
								var="d" itemValue="#{d.code}" itemLabel="#{d.description}" />

							<p:ajax update="@form"
								listener="#{customerDashboardBean.onDepartmentChange}" />

						</p:selectOneMenu>
					</p:panelGrid>


					<p:panelGrid></p:panelGrid>

				</p:panelGrid>


				<div class="ui-g" style="border: 0px !important; margin-top: 40px">

					<div class="ui-g-8" style="border: 0px !important; margin: 0 auto;">
						<p:dataTable id="queueTable" var="panel2"
							value="#{customerDashboardBean.counterList}"
							style="ui-datatable thead th:text-align:left ;background-color:#ffffff;border:0px !important">
							<!-- Table headings -->
							<p:columnGroup type="header"
								style=" background-color: #000000 !important;padding: 10px 10px !important;left !important;">
								<p:row>
									<p:column headerText="Counter"
										style="text-align: left !important;" />
									<p:column headerText="Current No."
										style="text-align: left !important;" />
								</p:row>
							</p:columnGroup>

							<!-- Set table columns -->

							<!-- counterId -->
							<p:column
								style="color: #41385f !important; font-size: 2.50rem !important;text-align: left !important;">

								<h:outputText id="next-numbers"
									style="border-radius: 15px;width:30%;margin:auto;"
									value="#{panel2.counterName}" />


							</p:column>
							<!-- counterCurrentNo -->
							<p:column
								style="border-radius: 20px;color: white !important; font-size: 2.50rem !important;">
								<h:outputText rendered="#{panel2.servingQueueNo != null}"
									style="width:1500px;background-color:#1C4E80;border-radius: 5px;padding:0px 5px 0px 5px"
									value="#{panel2.servingQueueNo}" />
							</p:column>
						</p:dataTable>
					</div>

				</div>


			</p:panel>



			<div class="footer">
				<span>Copyright Â© 2021 Informatics International Ltd.</span>
			</div>

		</h:form>
	</div>


</h:body>

</html>