<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.3.0.final using JasperReports Library version 6.3.0  -->
<!-- 2019-10-10T16:24:51 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="AdvancepaymentReceipt" language="groovy" columnCount="2" pageWidth="842" pageHeight="595" orientation="Landscape" whenNoDataType="BlankPage" columnWidth="401" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isFloatColumnFooter="true" uuid="55eb195e-17f7-4a79-831e-0d4f1a2b70b7">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="ntcDataAdapter.xml"/>
	<subDataset name="nameandtenderNo" uuid="e3852237-6be2-4c40-a658-5bf49753100a">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="ntcDataAdapter.xml"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<parameter name="voucher_no" class="java.lang.String"/>
		<queryString>
			<![CDATA[select o.pmo_full_name,a.pm_vehicle_regno
from nt_m_payment_voucher v inner join nt_t_pm_application a 
on a.pm_application_no = v.pav_application_no inner join nt_t_pm_vehi_owner o
on a.pm_application_no = o.pmo_application_no
where v.pav_voucher_no= $P{voucher_no}]]>
		</queryString>
		<field name="pmo_full_name" class="java.lang.String"/>
		<field name="pm_vehicle_regno" class="java.lang.String"/>
	</subDataset>
	<subDataset name="ForVoucherGen" uuid="07ba515a-306a-4666-af7f-7c64079ce54b">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="ntcDataAdapter.xml"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<parameter name="P_Voucher_no" class="java.lang.String"/>
		<queryString>
			<![CDATA[select a.vod_account_no , a.vod_amount ,b.description
from nt_t_voucher_details a ,public.nt_r_charge_type b
where a.vod_charge_code=b.code
and a.vod_voucher_no=$P{P_Voucher_no}]]>
		</queryString>
		<field name="vod_account_no" class="java.lang.String"/>
		<field name="vod_amount" class="java.math.BigDecimal"/>
		<field name="description" class="java.lang.String"/>
	</subDataset>
	<subDataset name="transactionType" uuid="05f2a3fd-5e24-4085-8b07-1c5a8ddce27c">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="ntcDataAdapter.xml"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<parameter name="P_voucher" class="java.lang.String"/>
		<queryString>
			<![CDATA[select pav_tran_type ,b.code,b.description from nt_m_payment_voucher a
inner join nt_r_transaction_type b on  a.pav_tran_type=b.code
where a.pav_voucher_no= $P{P_voucher}]]>
		</queryString>
		<field name="pav_tran_type" class="java.lang.String"/>
		<field name="code" class="java.lang.String"/>
		<field name="description" class="java.lang.String"/>
	</subDataset>
	<parameter name="P_Voucher_No" class="java.lang.String">
		<defaultValueExpression><![CDATA["VRN1900045"]]></defaultValueExpression>
	</parameter>
	<parameter name="image_path" class="java.lang.String"/>
	<parameter name="P_login_user" class="java.lang.String"/>
	<queryString>
		<![CDATA[select apd_amount, apd_details_of_service,pav_receipt_no,pav_permit_no,pav_payment_type,pav_application_no 
from nt_m_payment_voucher, nt_t_advance_payment_det,nt_t_receipt
where nt_m_payment_voucher.pav_seq_no = nt_t_advance_payment_det.apd_payment_vou_seq
and nt_t_receipt.rec_voucher_no = nt_t_advance_payment_det.apd_voucher_no
and pav_voucher_no= $P{P_Voucher_No}
and pav_approved_status ='A']]>
	</queryString>
	<field name="apd_amount" class="java.math.BigDecimal"/>
	<field name="apd_details_of_service" class="java.lang.String"/>
	<field name="pav_receipt_no" class="java.lang.String"/>
	<field name="pav_permit_no" class="java.lang.String"/>
	<field name="pav_payment_type" class="java.lang.String"/>
	<field name="pav_application_no" class="java.lang.String"/>
	<variable name="apd_amount1" class="java.math.BigDecimal" resetType="Column" calculation="Sum">
		<variableExpression><![CDATA[$F{apd_amount}]]></variableExpression>
	</variable>
	<variable name="apd_amount2" class="java.math.BigDecimal" resetType="Column" calculation="Sum">
		<variableExpression><![CDATA[$F{apd_amount}]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="145" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="43" width="800" height="20" uuid="b8c02559-c134-4f1e-b0d3-9df3b42e9b65"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[NATIONAL TRANSPORT COMMISSION]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="63" width="800" height="20" uuid="4e90df25-1e12-4089-b3f3-40efef56f5fc"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Payment Receipt]]></text>
			</staticText>
			<staticText>
				<reportElement stretchType="ContainerHeight" x="530" y="84" width="90" height="22" uuid="e76a4bd6-89db-4f7b-93b4-de8a444e8e61"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[Tender/Vehicle No.  ]]></text>
			</staticText>
			<componentElement>
				<reportElement x="0" y="83" width="530" height="24" uuid="44ec4d71-96dc-4fee-9632-3634437b7684"/>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="nameandtenderNo" uuid="e2cec3f7-d65e-4c55-911a-675c0fcdef13">
						<datasetParameter name="voucher_no">
							<datasetParameterExpression><![CDATA[$P{P_Voucher_No}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:listContents height="24" width="530">
						<textField isStretchWithOverflow="true" pattern="">
							<reportElement x="0" y="0" width="530" height="24" uuid="bc73bb44-7aee-416f-a88e-bcd239af4040"/>
							<textElement verticalAlignment="Middle"/>
							<textFieldExpression><![CDATA[$F{pmo_full_name}.equals( null )?"Name :":"Name  : "+$F{pmo_full_name}]]></textFieldExpression>
						</textField>
					</jr:listContents>
				</jr:list>
			</componentElement>
			<componentElement>
				<reportElement x="626" y="84" width="174" height="23" uuid="39ed00f7-ffca-47b9-a8ee-b49e6fe7aaeb"/>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="nameandtenderNo" uuid="e909c5d0-d78f-4d6b-9362-186bca4ef998">
						<datasetParameter name="voucher_no">
							<datasetParameterExpression><![CDATA[$P{P_Voucher_No}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:listContents height="23" width="174">
						<textField isStretchWithOverflow="true">
							<reportElement x="0" y="0" width="174" height="23" uuid="1e22192a-8ac0-453a-84bc-ab9c49ec2cae"/>
							<textElement verticalAlignment="Middle"/>
							<textFieldExpression><![CDATA[$F{pm_vehicle_regno}]]></textFieldExpression>
						</textField>
					</jr:listContents>
				</jr:list>
			</componentElement>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="570" y="0" width="230" height="20" uuid="a96bc46b-f3a4-4a36-b1cb-6fe106693b18"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["NTC No.  : "+$F{pav_permit_no}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="124" width="800" height="1" uuid="0d147f2f-6160-4929-b08a-6831868e6860">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
			</line>
			<staticText>
				<reportElement x="620" y="84" width="6" height="22" uuid="a2c07616-b24c-4c63-982c-c73eaf928211">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="107" width="80" height="17" uuid="457d4258-72d2-4c62-8fe2-5e89b19f766f"/>
				<text><![CDATA[Transaction Type ]]></text>
			</staticText>
			<staticText>
				<reportElement x="80" y="107" width="10" height="15" uuid="14498b8d-c2a4-446d-9aa5-24c06ff3dc50"/>
				<text><![CDATA[:]]></text>
			</staticText>
			<componentElement>
				<reportElement x="90" y="108" width="540" height="14" uuid="35f9fe37-06a4-4bf1-a957-2b36f8c42242"/>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="transactionType" uuid="94a47b1c-68e6-45f0-b44d-dd36816f8c19">
						<datasetParameter name="P_voucher">
							<datasetParameterExpression><![CDATA[$P{P_Voucher_No}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:listContents height="14" width="540">
						<textField>
							<reportElement x="0" y="0" width="540" height="14" uuid="95af926f-6795-46b4-bb15-c85f0f2d1a2f"/>
							<textFieldExpression><![CDATA[$F{description}]]></textFieldExpression>
						</textField>
					</jr:listContents>
				</jr:list>
			</componentElement>
			<textField isStretchWithOverflow="true">
				<reportElement x="570" y="20" width="230" height="20" uuid="0481c21d-b507-4580-a3e7-da0c29a8cdaf"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA["Application  No.  : "+$F{pav_application_no}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="20" splitType="Stretch">
			<staticText>
				<reportElement positionType="FixRelativeToBottom" x="0" y="0" width="200" height="20" uuid="502a8b6e-345d-47fe-96ee-8bb5911b622e"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement verticalAlignment="Middle">
					<paragraph leftIndent="5"/>
				</textElement>
				<text><![CDATA[Reason For Charge]]></text>
			</staticText>
			<staticText>
				<reportElement x="201" y="0" width="100" height="20" uuid="3c686f34-1957-43cf-8340-0fc924458755"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<paragraph leftIndent="0" rightIndent="5"/>
				</textElement>
				<text><![CDATA[Fee(Rs.)]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="0" width="200" height="20" uuid="73732be8-3d54-4018-97c5-f5392eee6f53">
					<printWhenExpression><![CDATA[$F{pav_payment_type}.equals( "AP" )?true:null]]></printWhenExpression>
				</reportElement>
				<box>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement>
					<paragraph leftIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{apd_details_of_service}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="###,###,###,###.00">
				<reportElement x="201" y="0" width="100" height="20" uuid="de449a8d-2020-4a4b-a1ce-b9aab655a2e3"/>
				<box>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Right">
					<paragraph rightIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{apd_amount}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="160" splitType="Stretch">
			<staticText>
				<reportElement x="161" y="0" width="40" height="20" uuid="bbfb680e-28b4-4769-a2be-8e6fef060f93">
					<printWhenExpression><![CDATA[$V{COLUMN_COUNT}==19?( new Boolean($V{COLUMN_NUMBER}==2)): (new Boolean($V{COLUMN_NUMBER}==1))]]></printWhenExpression>
				</reportElement>
				<box>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Total]]></text>
			</staticText>
			<staticText>
				<reportElement stretchType="ContainerHeight" x="0" y="63" width="55" height="18" uuid="8ac262be-55c4-49f6-9d15-53f0b3c60d69">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<text><![CDATA[Receipt No.]]></text>
			</staticText>
			<staticText>
				<reportElement x="610" y="78" width="190" height="16" uuid="fa1330ea-75eb-48f0-a219-32699b597e76">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Center"/>
				<text><![CDATA[Date]]></text>
			</staticText>
			<staticText>
				<reportElement x="63" y="63" width="120" height="18" uuid="9cc42514-6fd4-4927-8ca6-7e0312688376">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<textElement verticalAlignment="Top"/>
				<text><![CDATA[..........................................]]></text>
			</staticText>
			<staticText>
				<reportElement x="370" y="59" width="190" height="18" uuid="a00b008b-844d-4e33-bbaa-923381626eea">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<textElement verticalAlignment="Bottom"/>
				<text><![CDATA[..........................................................................]]></text>
			</staticText>
			<staticText>
				<reportElement x="610" y="59" width="189" height="18" uuid="112c72a7-a4a9-418e-b1cd-79fad3e04144">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<textElement verticalAlignment="Bottom"/>
				<text><![CDATA[...........................................................]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy h:mm a">
				<reportElement x="610" y="56" width="190" height="22" isPrintWhenDetailOverflows="true" uuid="bd814083-57a6-48ab-b6fe-477e8aa6d230"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="350" y="100" width="60" height="60" uuid="1b5a772a-feac-4e45-bbf5-6738b161bc1b">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<imageExpression><![CDATA[$P{image_path}+"paid.jfif"]]></imageExpression>
			</image>
			<textField isStretchWithOverflow="true" pattern="###,###,###,###.00">
				<reportElement x="201" y="0" width="100" height="20" uuid="950c673f-9f0a-4acb-9771-e8f487295b7f"/>
				<box>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Right">
					<paragraph rightIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{apd_amount2}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="60" y="61" width="120" height="18" uuid="8fbe9cb3-451e-4cdf-af03-48370cac7282"/>
				<textFieldExpression><![CDATA[$F{pav_receipt_no}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="55" y="63" width="5" height="18" uuid="5c0f1339-ac2a-406e-990e-2c9da90ea325">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<textField isStretchWithOverflow="true">
				<reportElement x="369" y="77" width="191" height="23" isPrintWhenDetailOverflows="true" uuid="8e42235d-9508-4844-b184-1496d5b7a3d0">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$P{P_login_user}]]></textFieldExpression>
			</textField>
		</band>
	</columnFooter>
</jasperReport>
