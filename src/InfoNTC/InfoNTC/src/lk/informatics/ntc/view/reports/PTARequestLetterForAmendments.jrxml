<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.3.0.final using JasperReports Library version 6.3.0  -->
<!-- 2021-02-11T09:21:48 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="PTARequestLetterForAmendments" language="groovy" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20" uuid="75a39b53-b3f9-4687-8685-abc2943b3bff">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="NTC.xml"/>
	<subDataset name="OldBusService" uuid="ff3f74e8-d925-4205-8518-79bfe3872615">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="ntcDataAdapter.xml"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<parameter name="P_Old_App_No" class="java.lang.String"/>
		<parameter name="pm_permit_no" class="java.lang.String"/>
		<parameter name="P_new_service" class="java.lang.String"/>
		<parameter name="P_transaction_Type" class="java.lang.String"/>
		<parameter name="P_new_owner" class="java.lang.String"/>
		<queryString>
			<![CDATA[select a.pm_service_type,b.description_si,c.pmo_full_name_sinhala as oldOwner,c.pmo_permit_no as oldPermitNO
from public.nt_t_pm_application a
inner join public.nt_r_service_types b on b.code=a.pm_service_type
inner join public.nt_t_pm_vehi_owner c on c.pmo_application_no= $P{P_Old_App_No}
where a.pm_application_no= $P{P_Old_App_No}]]>
		</queryString>
		<field name="pm_service_type" class="java.lang.String"/>
		<field name="description_si" class="java.lang.String"/>
		<field name="oldowner" class="java.lang.String"/>
		<field name="oldpermitno" class="java.lang.String"/>
	</subDataset>
	<parameter name="P_permit_no" class="java.lang.String"/>
	<parameter name="P_old_Origin" class="java.lang.String"/>
	<parameter name="P_Old_Destination" class="java.lang.String"/>
	<parameter name="P_transaction" class="java.lang.String"/>
	<parameter name="P_Amend_APP_no" class="java.lang.String"/>
	<queryString>
		<![CDATA[select amd_application_no,amd_permit_no ,b.pm_application_no,b.pm_permit_no ,b.pm_status ,
b.pm_old_application_no,b.pm_route_no,c.rou_service_origine as newOrigin,c.rou_service_destination as newDestination,
c.rou_service_origine_sin as neworiginsinhala,c.rou_service_destination_sin as newDestinationSinhala ,b.pm_service_type,
d.description_si as serviceTypeNewSinhala,b.pm_vehicle_regno,
e.pmo_full_name_sinhala as newOwner,f.pmo_full_name_sinhala as oldOwner,
f.pmo_permit_no as oldPermitNO,(select d.description_si as oldService
from public.nt_t_pm_application  x
inner join public.nt_r_service_types d on d.code=x.pm_service_type
where pm_application_no= b.pm_old_application_no),
(select t.trr_origin as tempOrgin
from public.nt_temp_route_request t where t.trr_application_no=b.pm_application_no  and t.trr_status not in('C')),
(select t.trr_destination as tempDestination
from public.nt_temp_route_request t where t.trr_application_no=b.pm_application_no and t.trr_status not in('C') ),
(select t.trr_via as tempVia
from public.nt_temp_route_request t where t.trr_application_no=b.pm_application_no and t.trr_status not in('C'))
from public.nt_m_amendments a
inner join public.nt_t_pm_application b on b.pm_application_no=a.amd_application_no 
left outer join public.nt_r_route c on c.rou_number=b.pm_route_no
inner join public.nt_r_service_types d on d.code=b.pm_service_type
inner join public.nt_t_pm_vehi_owner e on e.pmo_application_no=a.amd_application_no
inner join public.nt_t_pm_vehi_owner f on f.pmo_application_no=b.pm_old_application_no
where amd_permit_no=   $P{P_permit_no}  and amd_application_no= $P{P_Amend_APP_no}]]>
	</queryString>
	<field name="amd_application_no" class="java.lang.String"/>
	<field name="amd_permit_no" class="java.lang.String"/>
	<field name="pm_application_no" class="java.lang.String"/>
	<field name="pm_permit_no" class="java.lang.String"/>
	<field name="pm_status" class="java.lang.String"/>
	<field name="pm_old_application_no" class="java.lang.String"/>
	<field name="pm_route_no" class="java.lang.String"/>
	<field name="neworigin" class="java.lang.String"/>
	<field name="newdestination" class="java.lang.String"/>
	<field name="neworiginsinhala" class="java.lang.String"/>
	<field name="newdestinationsinhala" class="java.lang.String"/>
	<field name="pm_service_type" class="java.lang.String"/>
	<field name="servicetypenewsinhala" class="java.lang.String"/>
	<field name="pm_vehicle_regno" class="java.lang.String"/>
	<field name="newowner" class="java.lang.String"/>
	<field name="oldowner" class="java.lang.String"/>
	<field name="oldpermitno" class="java.lang.String"/>
	<field name="oldservice" class="java.lang.String"/>
	<field name="temporgin" class="java.lang.String"/>
	<field name="tempdestination" class="java.lang.String"/>
	<field name="tempvia" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="117" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
		</band>
	</pageHeader>
	<detail>
		<band height="494" splitType="Stretch">
			<staticText>
				<reportElement positionType="Float" x="0" y="249" width="535" height="40" isPrintWhenDetailOverflows="true" uuid="fe28be02-ce3b-4810-96ec-ad1ecc465304"/>
				<textElement textAlignment="Justified">
					<font fontName="Iskoola Pota" size="14"/>
					<paragraph lineSpacing="1_1_2" lineSpacingSize="2.0" leftIndent="25"/>
				</textElement>
				<text><![CDATA[එම සංශෝධනය  සම්බන්ධයෙන් ඔබගේ නිර්දේශයන් සහ ලබාදිය හැකි ධාවන වේලාව මා වෙත දන්වන මෙන් කාරුණිකව ඉල්ලා සිටිමි.]]></text>
			</staticText>
			<staticText>
				<reportElement positionType="Float" x="0" y="303" width="535" height="70" isPrintWhenDetailOverflows="true" uuid="53cf05d7-4d58-46df-b360-1be6bc2cf224">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Iskoola Pota" size="14"/>
					<paragraph lineSpacing="1_1_2" leftIndent="25"/>
				</textElement>
				<text><![CDATA[ධාවන වේලාව  නිර්දේශ කිරීමේදි දැනට ධාවනය වන  පුද්ගලික  බස්‍ රථ වේලාවන් මෙන්ම ශ්‍රි ලංගම බස්‍ රථ ධාවනය කරන වේලාවන් සම්බන්ධයෙන් අවධානය යොමු කරන ලෙසද වැඩිදුරටත් දන්වා සිටිමි.]]></text>
			</staticText>
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" x="0" y="169" width="535" height="60" isPrintWhenDetailOverflows="true" uuid="6d095cfe-9f6f-4045-a2f9-78d7bdafea04">
					<printWhenExpression><![CDATA[$P{P_transaction}.equalsIgnoreCase( "22" ) ]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Iskoola Pota" size="14"/>
					<paragraph lineSpacing="1_1_2" lineSpacingSize="0.0" leftIndent="25"/>
				</textElement>
				<textFieldExpression><![CDATA["ජාතික ගමනාගමන කොමිෂන් සභාව විසින් නිකුත් කරන ලද   "+$F{pm_permit_no}+ "  අංක   දරණ  "+($P{P_old_Origin}.equals(null)?" ":$P{P_old_Origin})+"    සිට​  "+($P{P_Old_Destination}.equals(null)?" ":$P{P_Old_Destination} )+"  දක්වා වූ   මගී සේවා අවසරපත්‍රය ​ "+($F{neworiginsinhala}.equals(null)?$F{temporgin}:$F{neworiginsinhala})+" සිට "+ ($F{newdestinationsinhala}.equals(null)?$F{tempdestination}:$F{newdestinationsinhala})+ " දක්වා  මාර්ග සංශෝධනය කරදෙන  මෙන් ඉල්ලීමක් කර ඇත​."]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="0" y="420" width="280" height="20" uuid="5a30ff83-a58c-40cc-825c-ab7b26e0b067"/>
				<textElement>
					<font fontName="Iskoola Pota" size="15" isBold="true"/>
					<paragraph leftIndent="25"/>
				</textElement>
				<text><![CDATA[අධ්‍යක්‍ෂ(ධාවන හා සේවා අධීක්‍ෂණ​)]]></text>
			</staticText>
			<staticText>
				<reportElement positionType="Float" x="0" y="440" width="280" height="20" uuid="bd70a091-a037-45f5-99ad-fb6aff3771e6"/>
				<textElement>
					<font fontName="Iskoola Pota" size="14"/>
					<paragraph leftIndent="25"/>
				</textElement>
				<text><![CDATA[ජාතික ගමනාගමන කොමිෂන් සභාව]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="75" width="280" height="20" uuid="4d927436-3651-4e99-ac18-ccd8bf729a69"/>
				<textElement>
					<font fontName="Iskoola Pota" size="14"/>
					<paragraph leftIndent="25"/>
				</textElement>
				<text><![CDATA[සමාන්‍යාධිකාරී / අධ්‍යක්‍ෂ ජනරාල්]]></text>
			</staticText>
			<staticText>
				<reportElement positionType="Float" x="0" y="95" width="500" height="20" uuid="ba454c1c-6b41-40c5-9e17-cc883b09c19f"/>
				<textElement>
					<font fontName="Iskoola Pota" size="14"/>
					<paragraph leftIndent="25"/>
				</textElement>
				<text><![CDATA[.................................පළාත් මාර්ගස්ථ මගී ප්‍රවාහන අධිකාරිය​]]></text>
			</staticText>
			<staticText>
				<reportElement positionType="Float" x="0" y="145" width="550" height="20" uuid="2adc3199-ee07-4410-a774-9c614cabf779"/>
				<textElement verticalAlignment="Bottom">
					<font fontName="Iskoola Pota" size="14" isBold="true" isUnderline="true"/>
					<paragraph leftIndent="25"/>
				</textElement>
				<text><![CDATA[සංශෝධන සදහා නිර්දේශ ලබා ගැනීම​]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement positionType="Float" x="48" y="-4" width="280" height="30" uuid="b9ce8890-35c0-44e1-892b-c359efc7c260"/>
				<textElement>
					<font fontName="Iskoola Pota" size="11"/>
					<paragraph leftIndent="25"/>
				</textElement>
				<textFieldExpression><![CDATA["ජාගකොස​/  "+""]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" x="0" y="169" width="535" height="60" isPrintWhenDetailOverflows="true" uuid="78121394-ce89-49fb-bea8-e0d87ce9f403">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<printWhenExpression><![CDATA[$P{P_transaction}.equalsIgnoreCase( "14" )]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Iskoola Pota" size="14"/>
					<paragraph lineSpacing="1_1_2" lineSpacingSize="0.0" leftIndent="25"/>
				</textElement>
				<textFieldExpression><![CDATA["ජාතික ගමනාගමන කොමිෂන් සභාව විසින් නිකුත් කරන ලද   "+$F{oldpermitno}+ "  අංක   දරණ  "+$F{oldowner} + "  යන අයගේ මගී සේවා අවසරපත්‍රය "+$P{P_permit_no}+" සහ  "+$F{newowner}+"   යන අයගෙ නමට​ ​ සංශෝධනය කරදෙන  මෙන් ඉල්ලීමක් කර ඇත​."]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" x="0" y="169" width="535" height="60" isPrintWhenDetailOverflows="true" uuid="9da5aa0c-367b-4e2c-a5ae-d5b084fd2254">
					<printWhenExpression><![CDATA[$P{P_transaction}.equalsIgnoreCase( "21" )]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Iskoola Pota" size="14"/>
					<paragraph lineSpacing="1_1_2" lineSpacingSize="0.0" leftIndent="25"/>
				</textElement>
				<textFieldExpression><![CDATA["ජාතික ගමනාගමන කොමිෂන් සභාව විසින් නිකුත් කරන ලද   "+$P{P_permit_no}+ "  අංක   දරණ  "+$F{oldservice}+ "   මගී සේවා අවසරපත්‍රය  "+$F{servicetypenewsinhala}+"  ලෙස සේවා සංශෝධනය කරදෙන  මෙන් ඉල්ලීමක් කර ඇත​."]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="420" y="-4" width="100" height="30" uuid="27d0f5da-06d9-4007-b603-271dd1fa562d"/>
				<textElement textAlignment="Right" verticalAlignment="Top"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="460" width="280" height="20" uuid="821aec99-163d-441a-b4e7-71d26547ca3a">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<printWhenExpression><![CDATA[$P{P_transaction}.equalsIgnoreCase( "22" )]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font fontName="Iskoola Pota" size="12"/>
					<paragraph leftIndent="25"/>
				</textElement>
				<textFieldExpression><![CDATA["පිටපත​   "+$F{oldowner}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement positionType="Float" x="0" y="169" width="535" height="60" isPrintWhenDetailOverflows="true" uuid="aba04875-7281-47dc-a4d7-66852c96a87e">
					<printWhenExpression><![CDATA[$P{P_transaction}.equalsIgnoreCase( "23" ) ]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Iskoola Pota" size="14"/>
					<paragraph lineSpacing="1_1_2" lineSpacingSize="0.0" leftIndent="25"/>
				</textElement>
				<textFieldExpression><![CDATA["ජාතික ගමනාගමන කොමිෂන් සභාව විසින් නිකුත් කරන ලද   "+$F{pm_permit_no}+ "  අංක   දරණ  "+($P{P_old_Origin}.equals(null)?" ":$P{P_old_Origin})+"    සිට​  "+($P{P_Old_Destination}.equals(null)?" ":$P{P_Old_Destination} )+"  දක්වා වූ   මගී සේවා අවසරපත්‍රය ​ "+($F{newdestinationsinhala}.equals(null)?$F{tempdestination}:$F{newdestinationsinhala})+" සිට "+ ($F{neworiginsinhala}.equals(null)?$F{temporgin}:$F{neworiginsinhala})+ " දක්වා  මාර්ග සංශෝධනය කරදෙන  මෙන් ඉල්ලීමක් කර ඇත​."]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
