<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.4.0.final using JasperReports Library version 6.4.1  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="sisuSariyaSchoolWiseBusInfor" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="6933592b-d2d5-493c-88fd-fb75413f3755">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="ntcDataAdapter.xml"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<subDataset name="getProvince" uuid="5b1e95f1-9ae1-4a05-8e57-cd00fa611d71">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="ntcDataAdapter.xml"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<parameter name="P_Provonce_code" class="java.lang.String"/>
		<queryString>
			<![CDATA[select * from nt_r_province where code = $P{P_Provonce_code}]]>
		</queryString>
		<field name="code" class="java.lang.String"/>
		<field name="description" class="java.lang.String"/>
		<field name="description_si" class="java.lang.String"/>
		<field name="description_ta" class="java.lang.String"/>
		<field name="active" class="java.lang.String"/>
		<field name="created_by" class="java.lang.String"/>
		<field name="created_date" class="java.sql.Timestamp"/>
		<field name="modified_by" class="java.lang.String"/>
		<field name="modified_date" class="java.sql.Timestamp"/>
	</subDataset>
	<subDataset name="getDistrict" uuid="1b305831-2fac-49c3-87d0-1c3017d2c1b5">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="ntcDataAdapter.xml"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<parameter name="P_district_code" class="java.lang.String"/>
		<queryString>
			<![CDATA[select * from nt_r_district where code=  $P{P_district_code}]]>
		</queryString>
		<field name="code" class="java.lang.String"/>
		<field name="description" class="java.lang.String"/>
		<field name="description_si" class="java.lang.String"/>
		<field name="description_ta" class="java.lang.String"/>
		<field name="active" class="java.lang.String"/>
		<field name="created_by" class="java.lang.String"/>
		<field name="created_date" class="java.sql.Timestamp"/>
		<field name="modified_by" class="java.lang.String"/>
		<field name="modified_date" class="java.sql.Timestamp"/>
		<field name="province_code" class="java.lang.String"/>
	</subDataset>
	<parameter name="P_school" class="java.lang.String"/>
	<parameter name="P_district_code" class="java.lang.String"/>
	<parameter name="P_province_code" class="java.lang.String"/>
	<parameter name="P_ntc_logo" class="java.lang.String"/>
	<parameter name="P_national_logo" class="java.lang.String"/>
	<queryString>
		<![CDATA[select distinct a.ssc_school_name ,b.sps_operator_name,b.sps_service_no,b.sps_bus_no,b.sps_origin,b.sps_destination
from public.nt_m_sisu_permit_hol_school_info a
inner join public.nt_m_sisu_permit_hol_service_info b on a.ssc_service_ref_no=b.sps_service_ref_no
and b.sps_service_no is not null
and a.ssc_school_name = case when $P{P_school}   is null then a.ssc_school_name else  $P{P_school}  end
and a.ssc_school_district_code=case when  $P{P_district_code}  is null then  a.ssc_school_district_code else   $P{P_district_code} end
and a.ssc_school_province_code= case when $P{P_province_code}   is null then a.ssc_school_province_code else   $P{P_province_code} end]]>
	</queryString>
	<field name="ssc_school_name" class="java.lang.String"/>
	<field name="sps_operator_name" class="java.lang.String"/>
	<field name="sps_service_no" class="java.lang.String"/>
	<field name="sps_bus_no" class="java.lang.String"/>
	<field name="sps_origin" class="java.lang.String"/>
	<field name="sps_destination" class="java.lang.String"/>
	<group name="SchoolGroup">
		<groupExpression><![CDATA[$F{ssc_school_name}]]></groupExpression>
		<groupHeader>
			<band height="51">
				<staticText>
					<reportElement x="0" y="27" width="100" height="24" uuid="4dc63ffe-6482-43d1-9eea-8d461dca4877">
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					</reportElement>
					<box>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font size="9" isBold="true"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<text><![CDATA[Service Agreement No]]></text>
				</staticText>
				<staticText>
					<reportElement x="100" y="27" width="107" height="24" uuid="609c70c2-6259-4eb3-9463-9e32fd0de690"/>
					<box>
						<topPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font size="9" isBold="true"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<text><![CDATA[Operator]]></text>
				</staticText>
				<staticText>
					<reportElement x="207" y="27" width="120" height="24" uuid="22472412-00b0-40e4-b1d6-4ce9c6ac3f51"/>
					<box>
						<topPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font size="9" isBold="true"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<text><![CDATA[From]]></text>
				</staticText>
				<staticText>
					<reportElement x="327" y="27" width="123" height="24" uuid="0dece78d-1faf-4a0c-94b9-2ef927a2076a"/>
					<box>
						<topPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font size="9" isBold="true"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<text><![CDATA[To]]></text>
				</staticText>
				<staticText>
					<reportElement x="450" y="27" width="100" height="24" uuid="2799dc9c-2f6b-488b-bbd3-c5f84e6ce14f"/>
					<box>
						<topPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font size="9" isBold="true"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<text><![CDATA[Bus Number]]></text>
				</staticText>
				<rectangle>
					<reportElement x="0" y="9" width="550" height="18" backcolor="#F0EDED" uuid="5bebafed-b5b2-458e-bd4a-70927252d201">
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
						<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					</reportElement>
					<graphicElement>
						<pen lineColor="#FFFFFF"/>
					</graphicElement>
				</rectangle>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement x="0" y="9" width="550" height="18" uuid="1685727d-8c3c-4c34-93cf-f4208eae78b0"/>
					<box>
						<topPen lineWidth="1.0"/>
						<leftPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font size="11" isBold="true"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{ssc_school_name}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="0" width="550" height="9" uuid="c3986312-6a1c-42dd-bd3b-6957e9c9902e"/>
					<text><![CDATA[]]></text>
				</staticText>
			</band>
		</groupHeader>
	</group>
	<pageHeader>
		<band height="120">
			<image>
				<reportElement x="0" y="0" width="50" height="50" uuid="4bad274a-59c1-4968-ad5d-d89ce32ac574"/>
				<imageExpression><![CDATA[$P{P_national_logo}+"nationalLogo.png"]]></imageExpression>
			</image>
			<image>
				<reportElement x="505" y="0" width="50" height="50" uuid="5f5262a4-075e-40b8-8cb4-8dcfc2342423"/>
				<imageExpression><![CDATA[$P{P_ntc_logo}+"ntclogo.jpg"]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="50" y="0" width="455" height="36" uuid="81427df8-e647-495c-a7d7-562026013329"/>
				<textElement textAlignment="Center">
					<font fontName="Iskoola Pota" size="22" isBold="true" isUnderline="false"/>
				</textElement>
				<text><![CDATA[NATIONAL TRANSPORT COMMISSION]]></text>
			</staticText>
			<staticText>
				<reportElement x="50" y="36" width="455" height="34" uuid="772ab667-6d9e-488e-8ceb-c0e73449f483"/>
				<textElement textAlignment="Center">
					<font size="16"/>
				</textElement>
				<text><![CDATA[Sisu Sariya Bus Information Report ]]></text>
			</staticText>
			<componentElement>
				<reportElement x="0" y="82" width="550" height="18" uuid="2b1c3abf-1b3b-4531-95f6-73a2c0b70b51">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
				</reportElement>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="getProvince" uuid="92614608-9b35-4b98-8a67-625654dea7ce">
						<datasetParameter name="P_Provonce_code">
							<datasetParameterExpression><![CDATA[$P{P_province_code}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:listContents height="18" width="550">
						<textField isStretchWithOverflow="true" isBlankWhenNull="true">
							<reportElement x="0" y="0" width="550" height="18" isPrintWhenDetailOverflows="true" uuid="2aa21f0a-9079-4ca9-b89b-d5dda0750b75"/>
							<textElement>
								<font size="12" isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA["Province : "+$F{description}]]></textFieldExpression>
						</textField>
					</jr:listContents>
				</jr:list>
			</componentElement>
			<componentElement>
				<reportElement x="0" y="100" width="550" height="20" uuid="5164d623-c6b1-4c68-a41b-1029835208ab"/>
				<jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
					<datasetRun subDataset="getDistrict" uuid="ffffcf35-74d9-420a-82af-6e47a6c0a1e8">
						<datasetParameter name="P_district_code">
							<datasetParameterExpression><![CDATA[$P{P_district_code}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:listContents height="20" width="550">
						<textField isStretchWithOverflow="true" isBlankWhenNull="true">
							<reportElement x="0" y="0" width="550" height="20" isPrintWhenDetailOverflows="true" uuid="c3917432-28cf-4d22-a4e9-ce4ad36d04d6"/>
							<textElement>
								<font size="12" isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA["District  : "+$F{description}]]></textFieldExpression>
						</textField>
					</jr:listContents>
				</jr:list>
			</componentElement>
			<staticText>
				<reportElement x="0" y="82" width="391" height="20" uuid="d69cd0e4-06e1-4e95-bc66-b2e4fff90aee">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<printWhenExpression><![CDATA[$P{P_province_code}.equals( null )]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font size="10" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<text><![CDATA[Province : ALL]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="100" width="391" height="20" uuid="a3bedc3a-4656-47e7-9951-f462d59d78e3">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<printWhenExpression><![CDATA[$P{P_district_code}.equals( null )]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font size="10" isBold="true"/>
					<paragraph leftIndent="5"/>
				</textElement>
				<text><![CDATA[District : ALL]]></text>
			</staticText>
		</band>
	</pageHeader>
	<detail>
		<band height="15" splitType="Stretch">
			<frame>
				<reportElement positionType="Float" x="0" y="0" width="550" height="15" uuid="bc1c05d9-0408-4289-9c3f-ca9dc1fe173a">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="100" height="15" isPrintWhenDetailOverflows="true" uuid="5282d60c-96d7-4941-b786-d6f0e4bbe4c2">
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					</reportElement>
					<box>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font size="8"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{sps_service_no}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="100" y="0" width="107" height="15" isPrintWhenDetailOverflows="true" uuid="5bf7584f-7edd-44bd-b878-067939d0f2ca"/>
					<box>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font size="8"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{sps_operator_name}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="207" y="0" width="120" height="15" isPrintWhenDetailOverflows="true" uuid="f0040d80-5647-4579-a215-b1b232b4f6fd"/>
					<box>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font size="8"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{sps_origin}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="327" y="0" width="123" height="15" isPrintWhenDetailOverflows="true" uuid="5a86876f-a9a0-4dba-b069-08c784bbedb3"/>
					<box>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font size="8"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{sps_destination}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="450" y="0" width="100" height="15" isPrintWhenDetailOverflows="true" uuid="8b1f17a7-719b-4d70-a8ca-42c0daf1844a"/>
					<box>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font size="8"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{sps_bus_no}]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</detail>
	<pageFooter>
		<band height="30">
			<textField>
				<reportElement x="450" y="0" width="100" height="30" uuid="e00892e9-b79f-4c54-a5fd-922e9543f4b8"/>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
