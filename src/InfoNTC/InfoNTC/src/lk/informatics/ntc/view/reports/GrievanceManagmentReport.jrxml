<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.3.0.final using JasperReports Library version 6.3.0  -->
<!-- 2021-04-03T11:32:29 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="GrievanceManagmentReport" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="dcbce44f-7693-4055-a8f9-836c1b2911c1">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="NTC_Dev.xml"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<parameter name="P_Permit_Authority" class="java.lang.String"/>
	<parameter name="P_User" class="java.lang.String"/>
	<parameter name="P_Start_Date" class="java.lang.String"/>
	<parameter name="P_End_Date" class="java.lang.String"/>
	<parameter name="P_Complain_Type" class="java.lang.String"/>
	<parameter name="P_Provice" class="java.lang.String"/>
	<parameter name="P_Complaint_No" class="java.lang.String"/>
	<queryString>
		<![CDATA[select b.permit_authority,b.complain_no ,case when b.type_of_contact='I' then 'Inquiry' when  b.type_of_contact='F' then 'Fatal Accident' when  b.type_of_contact='C' then 'Complaint' else 'All' end,b.details_of_complain,b.permit_no,b.vehicle_no,b.event_datetime,b.investigation_date,b.created_date
,b.priority_order,b.complainer_name,b.contact_no1,b.contact_no2,b.event_place,b.province,a.description,b.created_by,b.type_of_contact
,c.description  as priority from public.nt_m_complain_request  b
inner join public.nt_r_province a on a.code=b.province
inner join public.nt_r_priority_order c on c.code=b.priority_order
where c.active='A'
and b.province =case when  $P{P_Provice}    is null then  b.province else  $P{P_Provice}  end 
and b.complain_no =case when  $P{P_Complaint_No}    is null then  b.complain_no else  $P{P_Complaint_No} end 
and b.permit_authority= case when  $P{P_Permit_Authority}  is null then b.permit_authority else  $P{P_Permit_Authority}  end
and b.created_by= case when  $P{P_User}  is null then b.created_by else $P{P_User}  end
and b.type_of_contact= case when  $P{P_Complain_Type}  is null then b.type_of_contact else  $P{P_Complain_Type} end
and to_char(b.created_date,'yyyy-MM-dd')>=case when  $P{P_Start_Date}   is null then to_char(b.created_date,'yyyy-MM-dd') else $P{P_Start_Date}  end
and to_char(b.created_date,'yyyy-MM-dd')<=case when   $P{P_End_Date}   is null then to_char(b.created_date,'yyyy-MM-dd') else   $P{P_End_Date}  end
group by b.permit_authority,b.type_of_contact,b.details_of_complain,b.permit_no,b.vehicle_no,b.event_datetime,b.investigation_date,b.created_date
,b.priority_order,b.complainer_name,b.contact_no1,b.contact_no2,b.event_place,b.province,a.description,b.created_by,b.complain_no ,c.description
order by b.permit_authority,b.type_of_contact,b.province]]>
	</queryString>
	<field name="permit_authority" class="java.lang.String"/>
	<field name="complain_no" class="java.lang.String"/>
	<field name="case" class="java.lang.String"/>
	<field name="details_of_complain" class="java.lang.String"/>
	<field name="permit_no" class="java.lang.String"/>
	<field name="vehicle_no" class="java.lang.String"/>
	<field name="event_datetime" class="java.sql.Timestamp"/>
	<field name="investigation_date" class="java.sql.Date"/>
	<field name="created_date" class="java.sql.Timestamp"/>
	<field name="priority_order" class="java.lang.String"/>
	<field name="complainer_name" class="java.lang.String"/>
	<field name="contact_no1" class="java.lang.String"/>
	<field name="contact_no2" class="java.lang.String"/>
	<field name="event_place" class="java.lang.String"/>
	<field name="province" class="java.lang.String"/>
	<field name="description" class="java.lang.String"/>
	<field name="created_by" class="java.lang.String"/>
	<field name="type_of_contact" class="java.lang.String"/>
	<field name="priority" class="java.lang.String"/>
	<group name="PermitAuthorityGroup">
		<groupExpression><![CDATA[$F{permit_authority}]]></groupExpression>
		<groupHeader>
			<band height="20"/>
		</groupHeader>
	</group>
	<group name="TypeOfComplainGroup">
		<groupExpression><![CDATA[$F{case}]]></groupExpression>
	</group>
	<group name="Group2">
		<groupExpression><![CDATA[$F{permit_authority} + $F{type_of_contact}]]></groupExpression>
		<groupHeader>
			<band height="80">
				<staticText>
					<reportElement x="0" y="23" width="80" height="20" uuid="e0b39f4c-53aa-4eff-b117-1879f0c0110c"/>
					<textElement>
						<font isBold="true"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<text><![CDATA[Complain Type]]></text>
				</staticText>
				<staticText>
					<reportElement x="89" y="23" width="10" height="20" uuid="b1de8b4b-9a94-464e-9a85-a5a110d95a74"/>
					<textElement>
						<font isBold="true"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<text><![CDATA[:]]></text>
				</staticText>
				<textField>
					<reportElement x="99" y="23" width="570" height="20" uuid="8534908d-2483-4e17-9b6a-d770f3060909"/>
					<textElement>
						<font isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$P{P_Complain_Type}.equals( 'I' )?"Inquiry":$P{P_Complain_Type}.equals( 'F' )?"Fatal Accident": $P{P_Complain_Type}.equals( 'C' )? "Complaint" :$F{case}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="3" width="140" height="20" uuid="8da41634-610a-48f8-9501-aa5a5acd3f28"/>
					<textElement>
						<font isBold="true"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<text><![CDATA[Permit Authority]]></text>
				</staticText>
				<staticText>
					<reportElement x="89" y="3" width="10" height="20" uuid="d0afeddc-9a22-4eea-9d3c-88e8bbd8ca8a"/>
					<textElement>
						<font isBold="true"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<text><![CDATA[:]]></text>
				</staticText>
				<textField>
					<reportElement x="99" y="3" width="570" height="20" uuid="29229bb0-3f38-4f7e-854d-073a73e7b6b8"/>
					<textElement>
						<font isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$P{P_Permit_Authority}.equals( null )?$F{permit_authority}:$P{P_Permit_Authority}]]></textFieldExpression>
				</textField>
				<frame>
					<reportElement positionType="Float" x="1" y="50" width="799" height="30" uuid="dabb9356-2f6e-47bb-8cc5-b19374b10514"/>
					<rectangle>
						<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="799" height="30" backcolor="#F0EDED" uuid="1f29a267-cf0e-4744-8a74-7f6566e0824d">
							<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
							<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
						</reportElement>
						<graphicElement>
							<pen lineColor="#FFFFFF"/>
						</graphicElement>
					</rectangle>
					<staticText>
						<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="738" y="0" width="60" height="30" uuid="647a7e49-9649-4288-a283-645ccf630519"/>
						<box>
							<topPen lineWidth="1.0"/>
							<leftPen lineWidth="1.0"/>
							<bottomPen lineWidth="1.0"/>
							<rightPen lineWidth="1.0"/>
						</box>
						<textElement>
							<font isBold="true"/>
							<paragraph leftIndent="5"/>
						</textElement>
						<text><![CDATA[User]]></text>
					</staticText>
					<staticText>
						<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="308" y="0" width="70" height="30" uuid="58308d7a-ed3c-49d4-a696-0fb1f7ae06d0"/>
						<box>
							<topPen lineWidth="1.0"/>
							<leftPen lineWidth="1.0"/>
							<bottomPen lineWidth="1.0"/>
						</box>
						<textElement>
							<font isBold="true"/>
							<paragraph leftIndent="5"/>
						</textElement>
						<text><![CDATA[Date & Time]]></text>
					</staticText>
					<staticText>
						<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="184" y="0" width="62" height="30" uuid="d4dea696-921b-4889-8695-30c87d486e52"/>
						<box>
							<topPen lineWidth="1.0"/>
							<leftPen lineWidth="1.0"/>
							<bottomPen lineWidth="1.0"/>
						</box>
						<textElement>
							<font isBold="true"/>
							<paragraph leftIndent="5"/>
						</textElement>
						<text><![CDATA[Permit No.]]></text>
					</staticText>
					<staticText>
						<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="508" y="0" width="80" height="30" uuid="18e8dc56-0181-4010-a5f9-50dca9a49512"/>
						<box>
							<topPen lineWidth="1.0"/>
							<leftPen lineWidth="1.0"/>
							<bottomPen lineWidth="1.0"/>
						</box>
						<textElement>
							<font isBold="true"/>
							<paragraph leftIndent="5"/>
						</textElement>
						<text><![CDATA[Contact No.]]></text>
					</staticText>
					<staticText>
						<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="378" y="0" width="49" height="30" uuid="b348aef2-78fd-439f-960f-f1886dc048bb"/>
						<box>
							<topPen lineWidth="1.0"/>
							<leftPen lineWidth="1.0"/>
							<bottomPen lineWidth="1.0"/>
						</box>
						<textElement>
							<font isBold="true"/>
							<paragraph leftIndent="5"/>
						</textElement>
						<text><![CDATA[Priority Order]]></text>
					</staticText>
					<staticText>
						<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="59" y="0" width="125" height="30" uuid="103fe25b-b2da-4b54-8225-39ed87e0dbc7"/>
						<box>
							<topPen lineWidth="1.0"/>
							<leftPen lineWidth="1.0"/>
							<bottomPen lineWidth="1.0"/>
						</box>
						<textElement>
							<font isBold="true"/>
							<paragraph leftIndent="5"/>
						</textElement>
						<text><![CDATA[Complain Details]]></text>
					</staticText>
					<staticText>
						<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="246" y="0" width="61" height="30" uuid="a2b48009-c566-4023-839c-69dc10ea38f4"/>
						<box>
							<topPen lineWidth="1.0"/>
							<leftPen lineWidth="1.0"/>
							<bottomPen lineWidth="1.0"/>
						</box>
						<textElement>
							<font isBold="true"/>
							<paragraph leftIndent="5"/>
						</textElement>
						<text><![CDATA[Vehicle No.]]></text>
					</staticText>
					<staticText>
						<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="668" y="0" width="70" height="30" uuid="0c2aaadb-0b1a-4c81-b180-20578c1ca33a"/>
						<box>
							<topPen lineWidth="1.0"/>
							<leftPen lineWidth="1.0"/>
							<bottomPen lineWidth="1.0"/>
						</box>
						<textElement>
							<font isBold="true"/>
							<paragraph leftIndent="5"/>
						</textElement>
						<text><![CDATA[Province ]]></text>
					</staticText>
					<staticText>
						<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="589" y="0" width="79" height="30" uuid="d176363c-cbb8-498b-a685-942d1e99d669"/>
						<box>
							<topPen lineWidth="1.0"/>
							<leftPen lineWidth="1.0"/>
							<bottomPen lineWidth="1.0"/>
						</box>
						<textElement>
							<font isBold="true"/>
							<paragraph leftIndent="5"/>
						</textElement>
						<text><![CDATA[Event Place]]></text>
					</staticText>
					<staticText>
						<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="-1" y="0" width="60" height="30" uuid="aa21363e-1089-4fab-8b7f-9b8090c60f80"/>
						<box>
							<topPen lineWidth="1.0"/>
							<leftPen lineWidth="1.0"/>
							<bottomPen lineWidth="1.0"/>
						</box>
						<textElement>
							<font isBold="true"/>
							<paragraph leftIndent="5"/>
						</textElement>
						<text><![CDATA[Reference No.]]></text>
					</staticText>
					<staticText>
						<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="428" y="0" width="80" height="30" uuid="1fc76233-b175-452a-96dd-7bb8abb450f0"/>
						<box>
							<topPen lineWidth="1.0"/>
							<leftPen lineWidth="1.0"/>
							<bottomPen lineWidth="1.0"/>
						</box>
						<textElement>
							<font isBold="true"/>
							<paragraph leftIndent="5"/>
						</textElement>
						<text><![CDATA[Name of Complainer]]></text>
					</staticText>
				</frame>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="29">
				<textField isStretchWithOverflow="true">
					<reportElement x="1" y="6" width="800" height="16" isPrintWhenDetailOverflows="true" uuid="c26b5df8-26a9-4278-9399-aba1cdd71566"/>
					<textElement>
						<font isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA["Total of Applications:  "+$V{Group2_COUNT}]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="59" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="2" width="800" height="28" uuid="4e165bf9-6657-4bf5-ab3a-2b9fdaf07d52">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[NATIONAL TRANSPORT COMMISSION]]></text>
			</staticText>
			<staticText>
				<reportElement x="10" y="20" width="800" height="28" uuid="7da4610a-43e1-4f2c-81a7-2637d8027f45">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true"/>
				</textElement>
				<text><![CDATA[Grievance  Management Report]]></text>
			</staticText>
		</band>
	</title>
	<detail>
		<band height="40" splitType="Stretch">
			<frame>
				<reportElement positionType="Float" x="0" y="0" width="800" height="40" uuid="11a7f63b-c62a-4258-831b-76521448fc45"/>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="ContainerHeight" x="60" y="0" width="125" height="40" isPrintWhenDetailOverflows="true" uuid="76ce2a8c-e1c3-4cc1-979e-a9fcd2c72d3d"/>
					<box>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font fontName="Iskoola Pota" size="9"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{details_of_complain}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="185" y="0" width="62" height="40" isPrintWhenDetailOverflows="true" uuid="4f26b084-bea6-465c-a3a0-f4ceaa886b18"/>
					<box>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font fontName="Iskoola Pota" size="9"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{permit_no}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="247" y="0" width="61" height="40" isPrintWhenDetailOverflows="true" uuid="33546501-8625-49e9-a041-dc1dd19657b5"/>
					<box>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font fontName="Iskoola Pota" size="9"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{vehicle_no}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="309" y="0" width="70" height="40" isPrintWhenDetailOverflows="true" uuid="851c8fc0-4b21-4b16-8bb3-42d9a1dbc351"/>
					<box>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font fontName="Iskoola Pota" size="9"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{created_date}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="379" y="0" width="50" height="40" isPrintWhenDetailOverflows="true" uuid="b399c694-ab40-40d7-90e8-0f8cfb6c09b0"/>
					<box>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font fontName="Iskoola Pota" size="9"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{priority}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="429" y="0" width="80" height="40" isPrintWhenDetailOverflows="true" uuid="858dfa39-fce1-493a-b76e-01ecd9c4a790"/>
					<box>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font fontName="Iskoola Pota" size="9"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{complainer_name}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="509" y="0" width="80" height="40" isPrintWhenDetailOverflows="true" uuid="878bbfcb-d473-47d9-9e7d-c9ac64146d2a"/>
					<box>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font fontName="Iskoola Pota" size="9"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{contact_no1}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="590" y="0" width="79" height="40" isPrintWhenDetailOverflows="true" uuid="93f6cd97-48b6-43c7-beb5-5df1a8797715"/>
					<box>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font fontName="Iskoola Pota" size="9"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{event_place}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="669" y="0" width="70" height="40" isPrintWhenDetailOverflows="true" uuid="fcd2d354-0113-43ed-854d-dcdfc451fe0f"/>
					<box>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font fontName="Iskoola Pota" size="9"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{description}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="739" y="0" width="60" height="40" isPrintWhenDetailOverflows="true" uuid="940661e3-564b-402c-a843-7fb12b722c85"/>
					<box>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
						<rightPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font fontName="Iskoola Pota" size="9"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{created_by}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement positionType="Float" stretchType="RelativeToTallestObject" x="0" y="0" width="60" height="40" isPrintWhenDetailOverflows="true" uuid="f8f2a5d2-3842-4cc2-9f5b-fc5d4c51e0f8"/>
					<box>
						<leftPen lineWidth="1.0"/>
						<bottomPen lineWidth="1.0"/>
					</box>
					<textElement>
						<font fontName="Iskoola Pota" size="9"/>
						<paragraph leftIndent="5"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{complain_no}]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</detail>
	<pageFooter>
		<band height="34">
			<textField>
				<reportElement x="0" y="0" width="801" height="34" uuid="0007f74b-33c7-4fea-b673-37708766d5a7"/>
				<textElement textAlignment="Right">
					<paragraph rightIndent="5"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<lastPageFooter>
		<band height="12">
			<line>
				<reportElement x="0" y="5" width="370" height="1" uuid="20992c3e-6396-4c4c-bfcb-e1259bcf8b38">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
			</line>
			<staticText>
				<reportElement x="0" y="0" width="801" height="12" uuid="f960e26a-944a-4074-ad72-2e0b444c7b50">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Center">
					<font size="8"/>
				</textElement>
				<text><![CDATA[End of Report]]></text>
			</staticText>
			<line>
				<reportElement x="429" y="5" width="372" height="1" uuid="a90f3a78-4712-473b-9cfe-4d272720a227">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
			</line>
		</band>
	</lastPageFooter>
</jasperReport>
