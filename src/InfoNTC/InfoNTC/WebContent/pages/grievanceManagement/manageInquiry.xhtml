<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="/WEB-INF/template/template.xhtml">
	<ui:define name="metadata">
	</ui:define>
	<ui:define name="content">

		<style>
.ui-datatable-scrollable-theadclone {
	visibility: collapse;
}

.ui-dialog .ui-dialog-titlebar {
	padding: .4em .4em .4em 1em;
	position: relative;
	background: #07295b !important;
	padding: 5px 5px 5px 5px;
	margin: 0px 0px 0px 0px;
	color: #ffffff;
}

.ui-panelgrid .ui-panelgrid-cell {
	background-color: #f1f1f1;
}

.ui-icon.ui-confirm-dialog-severity {
	background-position: 0 0 !important;
	background-image: none !important;
}

.colorHighlight {
	background: yellow !important;
}

.ui-dialog .ui-widget .ui-widget-content .ui-corner-all .ui-shadow .ui-hidden-container .ui-draggable
	{
	width: 50%;
}

.firstColumn {
	width: 100%;
}

.secondColumn {
	width: 100%;
}

.dashboardNRResendDocRecord {
	background-color: #16e5d7 !important;
}

.ui-state-default a, .ui-state-default a:link, .ui-state-default a:visited
	{
	color: #07295b;
}

.mainDiv {
	width: 99%;
	height: auto;
	border-left: solid;
	border-right: solid;
	border-bottom: solid;
	border-top: solid;
	border-color: #07295b;
	border-width: 1px;
	margin-left: 5px;
	margin-top: 5px;
	margin-bottom: 5px;
	/*background-image: linear-gradient(to right bottom, #d9ddfa, #ccd4fb, #bdcafc, #aec2fe,
		#9cb9ff);*/
	background-image: linear-gradient(to right bottom, #f1f1f1, #dfdfe4, #f1f1f1, #e9eaeb,
		#bbb5b5);
}

.ui-inputfield, .ui-widget-content .ui-inputfield, .ui-widget-header .ui-inputfield
	{
	color: #07295b;
}

.mainLinkButton {
	font-weight: bold;
	background: #2571fa !important;
	text-align: center;
	padding: 7px 25px 7px 25px !important;
	height: 35px !important;
	text-decoration: none !important;
	color: white !important;
	white-space: nowrap !important;
	border-radius: 5px !important;
}

.mainLinkButton:hover {
	background: #fba026 !important;
}

.otherLinkButton {
	font-weight: bold;
	background: #296807 !important;
	text-align: center;
	padding: 7px 25px 7px 25px !important;
	height: 35px !important;
	text-decoration: none !important;
	color: white !important;
	white-space: nowrap !important;
	border-radius: 5px !important;
}

.otherLinkButton:hover {
	background: #fba026 !important;
}

.mainActionbtn {
	font-weight: bold;
	background: #2571fa !important;
	height: 30px !important;
	border-radius: 5px !important;
	color: white !important;
	text-align: center;
	width: 80px;
	white-space: nowrap !important;
	-webkit-transition: background-color 0.3s ease-out;
	-moz-transition: background-color 0.3s ease-out;
	-o-transition: background-color 0.3s ease-out;
	transition: background-color 0.3s ease-out;
}

.mainActionbtn:hover {
	background: #fba026 !important;
}

.OthActionbtn {
	font-weight: bold;
	background: #296807 !important;
	height: 30px !important;
	border-radius: 5px !important;
	color: white !important;
	text-align: center;
	width: 80px;
	white-space: nowrap !important;
	-webkit-transition: background-color 0.3s ease-out;
	-moz-transition: background-color 0.3s ease-out;
	-o-transition: background-color 0.3s ease-out;
	transition: background-color 0.3s ease-out;
	margin-bottom: 5px;
}

.OthActionbtn:hover {
	background: #fba026 !important;
}

.subDiv {
	margin: 0 auto;
	background: rgb(254, 255, 255); /* Old browsers */
	background: -moz-linear-gradient(-45deg, rgba(254, 255, 255, 1) 0%,
		rgba(210, 235, 249, 1) 100%); /* FF3.6-15 */
	background: -webkit-linear-gradient(-45deg, rgba(254, 255, 255, 1) 0%,
		rgba(210, 235, 249, 1) 100%); /* Chrome10-25,Safari5.1-6 */
	background: linear-gradient(135deg, rgba(254, 255, 255, 1) 0%,
		rgba(210, 235, 249, 1) 100%);
	/* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#feffff',
		endColorstr='#d2ebf9', GradientType=1);
	/* IE6-9 fallback on horizontal gradient */
}

.internalPanel .ui-panelgrid-cell {
	padding: 5px 0px;
}

.internalInput .ui-panelgrid-cell {
	padding: 0px;
}

#Dob {
	width: 80% !important;
}

.calendarClass input {
	width: 79% !important;
}

.numField .ui-inputfield {
	width: 89% !important;
	font-weight: bold;
	text-align: right;
}

.footer {
	height: 20px;
	background-color: #07295b;
	/* padding: .7em 1.5em 0em 1.5em; */
	text-align: center;
	colour: #84063A;
	color: #777373;
}

.ui-datatable-scrollable .ui-datatable-scrollable-header {
	min-height: 20px;
}

.ui-datatable-scrollable-body {
	height: 125px !important;
}

.genReqNumButton {
	font-weight: bold;
	background: #2571fa !important;
	text-align: center;
	text-decoration: none !important;
	color: white !important;
	border-radius: 5px !important;
}

.high {
	background-color: #e4a6a6 !important;
	background-image: none !important;
	color: #000000 !important;
}

.middle {
	background-color: #f5ba76 !important;
	background-image: none !important;
	color: #000000 !important;
}

.low {
	background-color: #f8e7ac !important;
	background-image: none !important;
	color: #000000 !important;
}
</style>

		<div class="mainDiv">
			<!-- header -->
			<h1
				style="margin-top: 0%; text-align: center; color: #ffffff; background-color: #404d6f !important;"
				class="common_form_header">Manage Inquiry</h1>

			<div style="width: 95%;" class="subDiv">

				<h:form id="manageInqFrm">
					<p:panel id="pnl-search">
						<p:panelGrid columns="2"
							columnClasses="ui-grid-col-9,ui-grid-col-3" layout="grid">
							<p:panelGrid columns="3"
								columnClasses="ui-grid-col-4,ui-grid-col-4,ui-grid-col-4"
								layout="grid">

								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Permit Authority">
									</p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:selectOneMenu id="permitAuthority" style="width:85%;"
										disabled="#{manageInquiryBean.disableSearchOptions}"
										effect="fold" filter="true" filterMatchMode="contains"
										value="#{manageInquiryBean.manageInquiryDTO.authority}">
										<f:selectItem itemLabel="-- Select Permit Authority --"
											itemValue="" />
										<f:selectItem itemValue="NTC" itemLabel="NTC"></f:selectItem>
										<f:selectItem itemValue="TP" itemLabel="Temporary Permit"></f:selectItem>
										<f:selectItem itemValue="PTA" itemLabel="PTA"></f:selectItem>
										<f:selectItem itemValue="CTB" itemLabel="CTB"></f:selectItem>
										<f:selectItem itemValue="OTHER" itemLabel="Other"></f:selectItem>

										<p:ajax event="itemSelect"
											listener="#{manageInquiryBean.onPermitAuthorityChange}"
											update="province,complainNumsId" />
									</p:selectOneMenu>
								</p:panelGrid>


								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Province">
									</p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:selectOneMenu id="province" style="width:85%;" effect="fold"
										filter="true" filterMatchMode="contains"
										disabled="#{manageInquiryBean.disableProvinceSearch or manageInquiryBean.disableSearchOptions}"
										value="#{manageInquiryBean.manageInquiryDTO.province}">
										<p:ajax />
										<f:selectItem itemLabel="-- Select Province --" itemValue="" />
										<f:selectItems
											value="#{complaintInitiationBackingBean.provincelList}"
											var="p" itemValue="#{p.code}" itemLabel="#{p.description}"></f:selectItems>

										<p:ajax event="itemSelect"
											listener="#{manageInquiryBean.onProvinceChange}"
											update="complainNumsId" />
									</p:selectOneMenu>
								</p:panelGrid>


								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Complaint No.">
										<!-- <span style="color: red">*</span> -->
									</p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:selectOneMenu id="complainNumsId" style="width:85%;"
										disabled="#{manageInquiryBean.disableSearchOptions}"
										effect="fold" filter="true" filterMatchMode="contains"
										value="#{manageInquiryBean.manageInquiryDTO.complainNo}">
										<f:selectItem itemLabel="--Select Complaint No.--"
											itemValue="" />
										<f:selectItems value="#{manageInquiryBean.complaintNumList}" />
									</p:selectOneMenu>
								</p:panelGrid>


								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Vehicle No.">
										<!-- <span style="color: red">*</span> -->
									</p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:selectOneMenu id="vehicleNumsId" style="width:85%;"
										disabled="#{manageInquiryBean.disableSearchOptions}"
										effect="fold" filter="true" filterMatchMode="contains"
										value="#{manageInquiryBean.manageInquiryDTO.vehicleNum}">
										<f:selectItem itemLabel="--Select Vehicle No.--" itemValue="" />
										<f:selectItems value="#{manageInquiryBean.vehicleNumList}" />
									</p:selectOneMenu>
								</p:panelGrid>


								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Start Date">
										<!-- <span style="color: red">*</span> -->
									</p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:calendar id="startDateCalId"
										disabled="#{manageInquiryBean.disableSearchOptions}"
										value="#{manageInquiryBean.manageInquiryDTO.startDate}"
										style="height:18px;" navigator="true" locale="en_US"
										showOn="button" pattern="dd/MM/yyyy" placeholder="DD/MM/YYYY"
										yearRange="c-100:c+100" readonlyInput="true"></p:calendar>
								</p:panelGrid>


								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="End Date">
										<!-- <span style="color: red">*</span> -->
									</p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:calendar id="endDateCalId"
										disabled="#{manageInquiryBean.disableSearchOptions}"
										value="#{manageInquiryBean.manageInquiryDTO.endDate}"
										style="height:18px;" navigator="true" locale="en_US"
										showOn="button" pattern="dd/MM/yyyy" placeholder="DD/MM/YYYY"
										yearRange="c-100:c+100" readonlyInput="true"></p:calendar>
								</p:panelGrid>


								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Priority Order"></p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:selectOneMenu id="priorityOrdersId" style="width:85%;"
										disabled="#{manageInquiryBean.disableSearchOptions}"
										effect="fold" filter="true" filterMatchMode="contains"
										value="#{manageInquiryBean.manageInquiryDTO.prioirtyOrderCode}">
										<f:selectItem itemLabel="--Select Priority Order--"
											itemValue="" />
										<f:selectItems value="#{manageInquiryBean.priorityOrderList}"
											var="priOrdrList"
											itemLabel="#{priOrdrList.priorityOrderDesc}"
											itemValue="#{priOrdrList.prioirtyOrderCode}" />
									</p:selectOneMenu>
								</p:panelGrid>


								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Severity"></p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:selectOneMenu id="severityId" style="width:85%;"
										disabled="#{manageInquiryBean.disableSearchOptions}"
										effect="fold" filter="true" filterMatchMode="contains"
										value="#{manageInquiryBean.manageInquiryDTO.severityCode}">
										<f:selectItem itemLabel="--Select Severity--" itemValue="" />
										<f:selectItems value="#{manageInquiryBean.severityList}"
											var="sevList" itemLabel="#{sevList.severityDesc}"
											itemValue="#{sevList.severityCode}" />
									</p:selectOneMenu>
								</p:panelGrid>


							</p:panelGrid>
							<p:panelGrid columns="2"
								columnClasses="ui-grid-col-3,ui-grid-col-9" layout="grid"
								rendered="#{manageInquiryBean.mainDataTableShow}">
								<p:panelGrid></p:panelGrid>
								<p:panelGrid style="margin-bottom:5px;">
									<b>Priority</b>
								</p:panelGrid>
								<p:panelGrid>
									<p style="color: #e4a6a6;">
										<i class="fa fa-square fa-2x" />
									</p>
								</p:panelGrid>
								<p:panelGrid>
									<span style="color: #000000"> High Priority </span>
								</p:panelGrid>
								<p:panelGrid>
									<p style="color: #f5ba76;">
										<i class="fa fa-square fa-2x" />
									</p>
								</p:panelGrid>
								<p:panelGrid>
									<span style="color: #000000"> Middle Priority </span>
								</p:panelGrid>
								<p:panelGrid>
									<p style="color: #f8e7ac;">
										<i class="fa fa-square fa-2x" />
									</p>
								</p:panelGrid>
								<p:panelGrid>
									<span style="color: #000000"> Low Priority </span>
								</p:panelGrid>

								<p:panelGrid></p:panelGrid>
								<p:panelGrid style="margin-bottom:5px;margin-bottom:10px;">
									<b> Severity </b>
								</p:panelGrid>
								<p:panelGrid>
									<b> H </b>
								</p:panelGrid>
								<p:panelGrid>
									<span style="color: #000000"> - High Severity </span>
								</p:panelGrid>
								<p:panelGrid>
									<b> M </b>
								</p:panelGrid>
								<p:panelGrid>
									<span style="color: #000000"> - Middle Severity </span>
								</p:panelGrid>
								<p:panelGrid>
									<b> N </b>
								</p:panelGrid>
								<p:panelGrid>
									<span style="color: #000000"> - Normal Severity </span>
								</p:panelGrid>
							</p:panelGrid>
						</p:panelGrid>

						<p:panelGrid columns="4" style="margin-top:2%;"
							columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3,ui-grid-col-3"
							layout="grid">

							<p:panelGrid></p:panelGrid>

							<p:commandButton id="searchBtn" styleClass="mainLinkButton"
								style="width: 100%" value="Search" update="@form"
								disabled="#{manageInquiryBean.disableSearchOptions}"
								action="#{manageInquiryBean.searchButtonAction}">

							</p:commandButton>

							<p:commandButton id="clearBtn" styleClass="mainLinkButton"
								style="width: 100%" value="Clear" update="@form"
								action="#{manageInquiryBean.clearButtonAction}">
							</p:commandButton>
							<p:panelGrid></p:panelGrid>
						</p:panelGrid>

						<p:panelGrid columns="1" columnClasses="ui-grid-col-12"
							layout="grid" style="margin-top:2%;"
							rendered="#{manageInquiryBean.mainDataTableShow}">

							<p:dataTable id="manageInqDT" var="managInq"
								value="#{manageInquiryBean.manageInquiryDTOList}"
								rowStyleClass="#{managInq.prioirtyOrderCode eq '003' ? 'high' : 
                 (managInq.prioirtyOrderCode eq '002' ? 'middle' :
				 (managInq.prioirtyOrderCode eq '001' ? 'low' :
                 null))}"
								rows="5" width="auto" paginator="true"
								selection="#{manageInquiryBean.selectDTOList}"
								rowIndexVar="index" rowKey="#{managInq.complainNo}"
								paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
								rowsPerPageTemplate="5,10,15">

								<p:ajax event="rowSelect"
									listener="#{manageInquiryBean.selectRow}" process="@form"
									update="@form" />

								<p:column headerText="Select" selectionMode="multiple"
									style="text-align:center;width:30px" />

								<p:column headerText="Authority"
									style="text-align:left;width:60px">
									<h:outputText value="#{managInq.authority}" />
								</p:column>
								<p:column headerText="Priority"
									style="text-align:left;width:60px">
									<h:outputText value="#{managInq.priorityOrderDesc}" />
								</p:column>
								<p:column headerText="Severity"
									style="text-align:left;width:50px">
									<h:outputText value="#{managInq.severityCode}" />
								</p:column>
								<p:column headerText="Complaint No."
									style="text-align:left;width:80px">
									<h:outputText value="#{managInq.complainNo}" />
								</p:column>
								<p:column headerText="Vehicle No."
									style="text-align:left;width:70px">
									<h:outputText value="#{managInq.vehicleNum}" />
								</p:column>
								<p:column headerText="Event Date"
									style="text-align:left;width:65px">
									<h:outputText value="#{managInq.eventDate}">
										<f:convertDateTime type="date" pattern="dd/MM/yyyy" />
									</h:outputText>
								</p:column>
								<p:column headerText="Investigation Date"
									style="text-align:left;width:75px">
									<h:outputText value="#{managInq.investigationDateStr}">
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</h:outputText>
								</p:column>
								<p:column headerText="Investigation Time"
									style="text-align:left;width:80px">
									<h:outputText value="#{managInq.investigationTime}" />
								</p:column>
								<p:column headerText="Status" style="text-align:left;width:55px">
									<h:outputText value="#{managInq.process_status_des}" />
								</p:column>
								<p:column headerText="Closed Date"
									style="text-align:left;width:80px">
									<h:outputText value="#{managInq.closedDate}" />
								</p:column>
								<p:column style="width:30px">
									<p:commandLink id="cmdbtnAdddMidPoint"
										action="#{manageInquiryBean.complaintAction}">
										<p:graphicImage library="images" name="complaint.png"
											style="margin:2px;width:25px;height:25px;border-radius: 50%;"
											title="Complaint"></p:graphicImage>
										<f:setPropertyActionListener value="#{managInq}"
											target="#{manageInquiryBean.selectedData}" />
									</p:commandLink>
								</p:column>
								<p:column style="width:30px">
									<p:commandLink id="cmdbtndAddMidPoint"
										action="#{manageInquiryBean.viewVehicleInfoAction}">
										<p:graphicImage library="images" name="vehicleInfo.png"
											style="margin:2px;width:25px;height:25px;border-radius: 50%;"
											title="Vehicle Info"></p:graphicImage>
										<f:setPropertyActionListener value="#{managInq}"
											target="#{manageInquiryBean.selectedData}" />
									</p:commandLink>
								</p:column>
								<p:column style="width:30px">
									<p:commandLink id="cmdbtnAddMdidPoint"
										action="#{manageInquiryBean.checkTimeAvailablityAction}"
										rendered="#{managInq.process_status_des != 'Closed'}">
										<p:graphicImage library="images" name="setTime.png"
											style="margin:2px;width:20px;height:20px;border-radius: 50%;"
											title="Set Time"></p:graphicImage>
										<f:setPropertyActionListener value="#{managInq}"
											target="#{manageInquiryBean.selectedData}" />
									</p:commandLink>
								</p:column>
								<p:column style="width:30px">
									<p:commandLink id="cmdbtnPrintLetter" ajax ="false"
										actionListener="#{manageInquiryBean.printInquiryLetterBtnAction(managInq)}">
										<p:graphicImage library="images" name="print.png"
											style="margin:2px;width:20px;height:20px;border-radius: 30%;"
											title="Inquiry Letter"></p:graphicImage>
										<!-- <f:setPropertyActionListener value="#{managInq}"
											target="#{manageInquiryBean.selectedData}" /> -->
										<p:fileDownload value="#{manageInquiryBean.file}" />
									</p:commandLink>
								</p:column>
								<p:column style="text-align:left;width:60px">
									<p:commandLink id="cmdbtdnAddMidPoint"
										action="#{manageInquiryBean.checkDateTimeDeletionAction}">
										<p:graphicImage library="images" name="delete.png"
											style="margin:2px;width:20px;height:20px;border-radius: 50%;"
											title="Delete Time"></p:graphicImage>
										<f:setPropertyActionListener value="#{managInq}"
											target="#{manageInquiryBean.selectedData}" />
									</p:commandLink>
								</p:column>
								<p:column headerText="Action Department"
									style="text-align:left;width:130px">
									<p:selectOneMenu style="width:80%;"
										disabled="#{(managInq.actionStatus !=null and managInq.actionStatus != '') or managInq.authority =='PTA' or managInq.authority =='CTB'}"
										value="#{managInq.actionDepartment}">
										<f:selectItem itemLabel="-Select-" itemValue=""
											noSelectionOption="true" />
										<f:selectItems
											value="#{manageInquiryBean.actionDepartmentsList}" var="d"
											itemLabel="#{d.actionDepartment_desc}"
											itemValue="#{d.actionDepartment}" />
									</p:selectOneMenu>
								</p:column>
								<p:column headerText="Province"
									style="text-align:left;width:70px;word-wrap: break-word;">
									<h:outputText value="#{managInq.province_desc}" />
								</p:column>
								<p:column headerText="Action Status"
									style="text-align:left;width:60px">
									<h:outputText value="#{managInq.actionStatus_desc}" />
								</p:column>
								<p:column style="text-align:left;width:30px">
									<p:commandLink id="cmdbtdnview"
										action="#{manageInquiryBean.viewActionTaken}">
										<p:graphicImage library="images" name="view.png"
											style="margin:2px;width:22px;height:22px;border-radius: 50%;"
											title="View Action"></p:graphicImage>
										<f:setPropertyActionListener value="#{managInq}"
											target="#{manageInquiryBean.selectedData}" />
									</p:commandLink>
								</p:column>
								<p:column style="width:30px">
									<p:commandLink id="cmdbtnDocumentManagement"
										action="#{manageInquiryBean.documentManagement}">
										<p:graphicImage library="images" name="upload.png"
											style="margin:2px;width:20px;height:20px;border-radius: 30%;"
											title="Document Management"></p:graphicImage>
										<f:setPropertyActionListener value="#{managInq}"
											target="#{manageInquiryBean.selectedData}" />
									</p:commandLink>
								</p:column>
							</p:dataTable>
						</p:panelGrid>

						<p:panelGrid columns="1" columnClasses="ui-grid-col-12"
							layout="grid" rendered="#{manageInquiryBean.mainDataTableShow}">
							<p:spacer height="10px"></p:spacer>
							<p:panelGrid layout="grid" columns="4"
								columnClasses="ui-grid-col-1,ui-grid-col-2,ui-grid-col-8,ui-grid-col-1">
								<p:panelGrid></p:panelGrid>
								<p:outputLabel value="Special Remark"></p:outputLabel>
								<p:inputTextarea maxlength="300"
									value="#{manageInquiryBean.specialRemark}" style="width:100%">
									
								</p:inputTextarea>
							</p:panelGrid>
						</p:panelGrid>

						<p:panelGrid>
							<center>
								<p:commandButton id="warningletterBtn"
									rendered="#{manageInquiryBean.showbutton}"
									styleClass="mainLinkButton"
									style="width:200px;background: #f44336 !important;"
									value="Warning Letter" update="@([id$=manageInqDT])"
									disabled="#{manageInquiryBean.printWarningDisable}"
									action="#{manageInquiryBean.printWarningLetter}">
								</p:commandButton>

								<p:commandButton id="ptactbBtn"
									rendered="#{manageInquiryBean.showbutton}"
									disabled="#{manageInquiryBean.disablePtaCtbBtn}"
									styleClass="mainLinkButton"
									style="width:200px;background: #9e9e9e !important;"
									value="PTA/CTB Email"
									action="#{manageInquiryBean.ptactbBtnAction}">
								</p:commandButton>

								<p:commandButton id="sendBtn"
									rendered="#{manageInquiryBean.showbutton}"
									styleClass="mainLinkButton"
									style="width:200px;background: #4caf50 !important;"
									value="Send" action="#{manageInquiryBean.sendBtnAction}">
								</p:commandButton>

								<p:commandButton id="closeBtn"
									rendered="#{manageInquiryBean.showbutton and manageInquiryBean.renderCloseBtn}"
									styleClass="mainLinkButton"
									style="width:200px;background: #3f51b5 !important;"
									value="Closed" action="#{manageInquiryBean.closeBtnAction}">
								</p:commandButton>
							</center>
							<br></br>

						</p:panelGrid>
					</p:panel>
				</h:form>
				<p:dialog header="Confirmation" id="confirmTimeDlg"
					widgetVar="confirmTimeDlg" minHeight="40" global="true"
					modal="true">
					<h:form>
						<p:panel>
							<h:outputText value="Are you sure to set the time?"
								style="margin-bottom:3%;" />

							<center>
								<p:commandButton value="Yes"
									action="#{manageInquiryBean.setTimeForIvestigationBtn}"
									update="@all">
								</p:commandButton>
								<p:commandButton value="No" type="button"
									onclick="PF('confirmTimeDlg').hide()" />
							</center>
						</p:panel>
					</h:form>
				</p:dialog>



				<p:dialog header="Confirmation" id="confirmDeleteDlg"
					widgetVar="confirmDeleteDlg" minHeight="40" global="true"
					modal="true">
					<h:form>
						<p:panel>
							<h:outputText
								value="Are you sure to delete the Time and the Investigation Date?"
								style="margin-bottom:3%;" />

							<center>
								<p:commandButton value="Yes"
									action="#{manageInquiryBean.deleteInvestigationBtnAction}"
									update="@all">
								</p:commandButton>
								<p:commandButton value="No" type="button"
									onclick="PF('confirmDeleteDlg').hide()" />
							</center>
						</p:panel>
					</h:form>
				</p:dialog>

				<p:dialog header="Vehicle Info" id="vehicelInfoDlg"
					widgetVar="vehicelInfoDlg" height="400" width="600" modal="true">
					<h:form>
						<p:panel id="dlg-search">
							<p:panelGrid columns="4"
								columnClasses="ui-grid-col-4,ui-grid-col-4,ui-grid-col-4,ui-grid-col-4"
								layout="grid">

								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Vehicle No."></p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:inputText style="width:91%;" id="vehicleNoId"
										value="#{manageInquiryBean.vehicleInfoData.vehicleNo}"
										disabled="true">
									</p:inputText>
								</p:panelGrid>
								<p:panelGrid></p:panelGrid>

								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Owner Name"></p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:inputText style="width:200%;" id="ownerNameId"
										value="#{manageInquiryBean.vehicleInfoData.permitOwner}"
										disabled="true"></p:inputText>
								</p:panelGrid>
								<p:panelGrid></p:panelGrid>

								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Permit No."></p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:inputText style="width:91%;" id="permitNoId"
										value="#{manageInquiryBean.vehicleInfoData.permitNo}"
										disabled="true"></p:inputText>
								</p:panelGrid>
								<p:panelGrid></p:panelGrid>

								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Expiry Date"></p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:inputText style="width:91%;" id="expDateId"
										value="#{manageInquiryBean.vehicleInfoData.expireDate}"
										disabled="true"></p:inputText>
								</p:panelGrid>
								<p:panelGrid></p:panelGrid>

								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Renewal Period"></p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:inputText style="width:91%;" id="renewalPeriodId"
										value="#{manageInquiryBean.vehicleInfoData.renewalPeriod}"
										disabled="true"></p:inputText>
								</p:panelGrid>
								<p:panelGrid></p:panelGrid>

								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Valid From"></p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:inputText style="width:91%;" id="validFromId"
										value="#{manageInquiryBean.vehicleInfoData.validFrom}"
										disabled="true"></p:inputText>
								</p:panelGrid>
								<p:panelGrid></p:panelGrid>

								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Valid To"></p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:inputText style="width:91%;" id="validToId"
										value="#{manageInquiryBean.vehicleInfoData.validTo}"
										disabled="true"></p:inputText>
								</p:panelGrid>
								<p:panelGrid></p:panelGrid>

								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Service Type"></p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:inputText style="width:91%;" id="serviceTypeId"
										value="#{manageInquiryBean.vehicleInfoData.serviceType}"
										disabled="true"></p:inputText>
								</p:panelGrid>
								<p:panelGrid></p:panelGrid>

							</p:panelGrid>

							<p:panelGrid columns="3"
								columnClasses="ui-grid-col-4,ui-grid-col-4,ui-grid-col-4"
								layout="grid" style="margin-top:4%;">
								<p:panelGrid></p:panelGrid>
								<p:commandButton id="okBtn" styleClass="mainLinkButton"
									style="width:100%" value="OK"
									onclick="PF('vehicelInfoDlg').hide()">
								</p:commandButton>
								<p:panelGrid></p:panelGrid>
							</p:panelGrid>

						</p:panel>
					</h:form>
				</p:dialog>

				<p:dialog header="Check Availability" id="checkAvailabilityDlg"
					widgetVar="checkAvailabilityDlg" height="600" width="600"
					modal="true" resizable="false">
					<h:form>
						<p:panel id="dlg-search">
							<p:panelGrid columns="4"
								columnClasses="ui-grid-col-3,ui-grid-col-2,ui-grid-col-6,ui-grid-col-1"
								layout="grid">

								<p:panelGrid></p:panelGrid>
								<p:panelGrid>
									<p:outputLabel value="Date">
									</p:outputLabel>
								</p:panelGrid>
								<p:panelGrid>
									<p:calendar id="availblDateCalId"
										value="#{manageInquiryBean.manageInquiryDTO.availableDateSelect}"
										navigator="true" locale="en_US" showOn="button" width="100"
										pattern="dd/MM/yyyy" placeholder="DD/MM/YYYY"
										yearRange="c-100:c+100" readonlyInput="true"
										mindate="#{manageInquiryBean.today}">
										<p:ajax event="dateSelect"
											listener="#{manageInquiryBean.onDateSelect}"
											update="availblTmeDTId" />
									</p:calendar>
								</p:panelGrid>
								<p:panelGrid>
								</p:panelGrid>
							</p:panelGrid>

							<p:panelGrid columns="1" columnClasses="ui-grid-col-12"
								layout="grid">
								<p:dataTable id="availblTmeDTId" var="availblTmeDT"
									value="#{manageInquiryBean.availableTimesList}"
									rowStyleClass="#{availblTmeDT.timeTaken==true ? 'high' : '' }"
									style="text-align:center">

									<p:column headerText="Start Time">
										<h:outputText value="#{availblTmeDT.startTime}"
											rendered="#{!availblTmeDT.lunchTime}" />
										<p:graphicImage library="images" name="lunch.JPG" width="15%"
											rendered="#{availblTmeDT.lunchTime}"></p:graphicImage>
									</p:column>
									<p:column headerText="End Time">
										<h:outputText value="#{availblTmeDT.endTime}"
											rendered="#{!availblTmeDT.lunchTime}" />
										<p:graphicImage library="images" name="lunch.JPG" width="15%"
											rendered="#{availblTmeDT.lunchTime}"></p:graphicImage>
									</p:column>
									<p:column rendered="#{manageInquiryBean.setTimeBtnRender}">
										<p:commandButton value="Set Time"
											disabled="#{availblTmeDT.timeTaken}"
											action="#{manageInquiryBean.setTimeConfirmAction}">
											<f:setPropertyActionListener value="#{availblTmeDT}"
												target="#{manageInquiryBean.selectedTime}" />
										</p:commandButton>
									</p:column>
								</p:dataTable>

							</p:panelGrid>

						</p:panel>
					</h:form>
				</p:dialog>

				<p:dialog header="Send Message" id="sendSMSDlg"
					widgetVar="sendSMSDlg" height="520" width="600" modal="true"
					resizable="false">
					<h:form id="smsDlgFrm">
						<p:panel id="dlg-sendSMS">
							<p:tabView id="tabView" tabindex="0">
								<p:ajax event="tabChange"
									listener="#{manageInquiryBean.onTabChange}"
									update="sentenceSMS,sentenceemail1,sentenceemail2,sentenceemail3" />
								<p:tab title="Contact Info" id="infoTab">
									<p:panelGrid columns="4"
										columnClasses="ui-grid-col-1,ui-grid-col-3,ui-grid-col-7,ui-grid-col-1"
										layout="grid">

										<p:panelGrid></p:panelGrid>
										<p:panelGrid>
											<p:outputLabel value="Contact Name"></p:outputLabel>
										</p:panelGrid>
										<p:panelGrid>
											<p:selectOneMenu id="driverConductorName" style="width:70%"
												value="#{manageInquiryBean.sendMailDTO.contactName}"
												editable="true" effect="fold" filter="true"
												filterMatchMode="contains" tabindex="1">
												<p:ajax
													listener="#{manageInquiryBean.onConducterDriverSelectShowContactNum}"
													update="contactNumber,sentenceSMS,sentenceemail1,sentenceemail2,sentenceemail3" />

												<f:selectItem itemLabel="-- Select Name --" itemValue=""
													noSelectionOption="true" />
												<f:selectItems
													value="#{manageInquiryBean.conductorDriverList}" var="b"
													itemValue="#{b.contactName}" itemLabel="#{b.contactName}" />
											</p:selectOneMenu>
										</p:panelGrid>
										<p:panelGrid></p:panelGrid>

										<p:panelGrid></p:panelGrid>
										<p:panelGrid>
											<p:outputLabel value="Contact Number"></p:outputLabel>
										</p:panelGrid>
										<p:panelGrid>
											<p:inputText id="contactNumber" rows="10" cols="30"
												value="#{manageInquiryBean.sendMailDTO.contactNum}" />
										</p:panelGrid>
										<p:panelGrid></p:panelGrid>

										<p:panelGrid></p:panelGrid>
										<p:panelGrid>
											<p:outputLabel value="Email"></p:outputLabel>
										</p:panelGrid>
										<p:panelGrid>
											<p:inputText id="email" rows="10" cols="30"
												value="#{manageInquiryBean.sendMailDTO.email}" />
										</p:panelGrid>
										<p:panelGrid></p:panelGrid>

									</p:panelGrid>
								</p:tab>
								<p:tab title="Letter" id="detailTab">
									<p:panelGrid columns="2"
										columnClasses="ui-grid-col-2,ui-grid-col-10" layout="grid">

										<p:panelGrid>Message</p:panelGrid>
										<p:panelGrid>
											<p:inputTextarea id="sentenceSMS" rows="5" cols="50"
												value="#{manageInquiryBean.sendMailDTO.notifySentenceOne}"
												maxlength="200" />
										</p:panelGrid>

										<p:panelGrid>Email</p:panelGrid>
										<p:panelGrid>
											<p:inputTextarea id="sentenceemail1" rows="5" cols="50"
												value="#{manageInquiryBean.sendMailDTO.notifySentenceTwo}"
												maxlength="500" />
										</p:panelGrid>

										<p:panelGrid></p:panelGrid>
										<p:panelGrid>
											<p:inputTextarea id="sentenceemail2" rows="5" cols="50"
												value="#{manageInquiryBean.sendMailDTO.notifySentenceThree}"
												maxlength="500" />
										</p:panelGrid>

										<p:panelGrid></p:panelGrid>
										<p:panelGrid>
											<p:inputTextarea id="sentenceemail3" rows="5" cols="50"
												value="#{manageInquiryBean.sendMailDTO.notifySentencFour}"
												maxlength="500" />
										</p:panelGrid>

									</p:panelGrid>
								</p:tab>
							</p:tabView>

							<p:panelGrid columns="3"
								columnClasses="ui-grid-col-4,ui-grid-col-4,ui-grid-col-4"
								layout="grid" style="margin-top:4%;">

								<p:commandButton id="saveBtnId" styleClass="mainLinkButton"
									style="width:100%" value="Save"
									action="#{manageInquiryBean.saveSendSMSBtnAction}">
								</p:commandButton>

								<p:commandButton id="clearBtnId" styleClass="mainLinkButton"
									style="width:100%" value="Clear" update="@form"
									action="#{manageInquiryBean.clearSendSMSBtnAction}">
								</p:commandButton>

								<p:commandButton id="sendMailBtnId" styleClass="mainLinkButton"
									style="width:100%" value="Send Mail"
									action="#{manageInquiryBean.sendSMSBtnAction}">
								</p:commandButton>


							</p:panelGrid>

						</p:panel>
					</h:form>
				</p:dialog>

				<p:dialog header="Print Letter" id="printLetterDlg"
					widgetVar="printLetterDlg" height="520" width="600" modal="true"
					resizable="false">
					<h:form id="printLetterFrm">
						<p:panel id="dlg-sendMail">
							<p:tabView>
								<p:ajax event="tabChange"
									listener="#{manageInquiryBean.tabChangeLetter}"
									update="sentenceOne,sentenceTwo,sentenceThree" />
								<p:tab title="Contact Info">
									<p:panelGrid columns="4"
										columnClasses="ui-grid-col-1,ui-grid-col-3,ui-grid-col-7,ui-grid-col-1"
										layout="grid">

										<p:panelGrid></p:panelGrid>
										<p:panelGrid>
											<p:outputLabel value="Contact Name"></p:outputLabel>
										</p:panelGrid>
										<p:panelGrid>
											<p:selectOneMenu id="driverConductorName" style="width:70%"
												value="#{manageInquiryBean.sendMailDTO.contactName}"
												editable="true" effect="fold" filter="true"
												filterMatchMode="contains" tabindex="1">
												<p:ajax
													listener="#{manageInquiryBean.onConducterDriverSelect}"
													update="contactAdress,sentenceOne,sentenceTwo,sentenceThree" />

												<f:selectItem itemLabel="-- Select Name --" itemValue=""
													noSelectionOption="true" />
												<f:selectItems
													value="#{manageInquiryBean.conductorDriverList}" var="b"
													itemValue="#{b.contactName}" itemLabel="#{b.contactName}" />
											</p:selectOneMenu>
										</p:panelGrid>
										<p:panelGrid></p:panelGrid>

										<p:panelGrid></p:panelGrid>
										<p:panelGrid>
											<p:outputLabel value="Contact Address"></p:outputLabel>
										</p:panelGrid>
										<p:panelGrid>
											<p:inputTextarea id="contactAdress" rows="10" cols="30"
												value="#{manageInquiryBean.sendMailDTO.contactAddress}" />
										</p:panelGrid>
										<p:panelGrid></p:panelGrid>

									</p:panelGrid>
								</p:tab>
								<p:tab title="Letter" id="letterInfo">
									<p:panelGrid columns="3"
										columnClasses="ui-grid-col-1,ui-grid-col-10,ui-grid-col-1"
										layout="grid">

										<p:panelGrid></p:panelGrid>
										<p:panelGrid>
											<p:inputTextarea id="sentenceOne" rows="5" cols="50"
												value="#{manageInquiryBean.sendMailDTO.notifySentenceOne}"
												maxlength="500" />
										</p:panelGrid>
										<p:panelGrid></p:panelGrid>

										<p:panelGrid></p:panelGrid>
										<p:panelGrid>
											<p:inputTextarea id="sentenceTwo" rows="5" cols="50"
												value="#{manageInquiryBean.sendMailDTO.notifySentenceTwo}"
												maxlength="500" />
										</p:panelGrid>
										<p:panelGrid></p:panelGrid>

										<p:panelGrid></p:panelGrid>
										<p:panelGrid>
											<p:inputTextarea id="sentenceThree" rows="5" cols="50"
												value="#{manageInquiryBean.sendMailDTO.notifySentenceThree}"
												maxlength="500" />
										</p:panelGrid>
										<p:panelGrid></p:panelGrid>

									</p:panelGrid>
								</p:tab>
							</p:tabView>

							<p:panelGrid columns="3"
								columnClasses="ui-grid-col-4,ui-grid-col-4,ui-grid-col-4"
								layout="grid" style="margin-top:4%;">

								<p:commandButton id="saveBtnId" styleClass="mainLinkButton"
									style="width:100%" value="Save"
									action="#{manageInquiryBean.savePrintLetterBtnAction}">
								</p:commandButton>

								<p:commandButton id="clearBtnId" styleClass="mainLinkButton"
									style="width:100%" value="Clear" update="@form"
									action="#{manageInquiryBean.clearPrintLetterBtnAction}">
								</p:commandButton>

								<p:commandButton id="sendMailBtnId" disabled="true"
									styleClass="mainLinkButton" style="width:100%"
									value="Print Letter"
									action="#{manageInquiryBean.printLetterAction}">
								</p:commandButton>


							</p:panelGrid>

						</p:panel>
					</h:form>
				</p:dialog>

				<p:dialog header="Complaint" id="complaintDlg"
					widgetVar="complaintDlg" height="550" width="1000" modal="true"
					resizable="true" focus="complaintDlgFrm:dlg-complaint">
					<h:form id="complaintDlgFrm">
						<p:panel id="dlg-complaint">
							<p:panel
								style="margin-top: -9px; margin-right: -15px; margin-left: -15px; background-color: #bed6f8 !important;">
								<h2 style="text-align: center;">Details of Complaint
									#{manageInquiryBean.selectedComplaintDTO.complaintNo}</h2>
							</p:panel>

							<h:panelGroup id="editableView">

								<p:panelGrid columns="2"
									columnClasses="ui-grid-col-8,ui-grid-col-4" layout="grid"
									style="margin-top:4%;">
									<p:panel header="Initiate Details"
										style="border:1px solid #b1cbef">
										<p:panelGrid columns="2" layout="grid"
											columnClasses="ui-grid-col-5, ui-grid-col-6">
											<p:outputPanel>
												<p:outputLabel value="Priority Order"></p:outputLabel>
												<p:outputLabel value=" *" style="color:#ff0000;"></p:outputLabel>
											</p:outputPanel>
											<p:selectOneMenu
												value="#{manageInquiryBean.selectedComplaintDTO.priorityOrder}"
												tabindex="1" style="width:calc(100% - 18px);">
												<f:selectItem itemLabel="-- Select Order --" itemValue=""></f:selectItem>
												<f:selectItems
													value="#{complaintInitiationBackingBean.priorityOrderList}"
													var="p" itemValue="#{p.code}" itemLabel="#{p.description}"></f:selectItems>
											</p:selectOneMenu>
											<p:outputPanel>
												<p:outputLabel value="Severity"></p:outputLabel>
												<p:outputLabel value=" *" style="color:#ff0000;"></p:outputLabel>
											</p:outputPanel>
											<p:selectOneMenu
												value="#{manageInquiryBean.selectedComplaintDTO.severityNo}"
												tabindex="1" style="width:calc(100% - 18px);">
												<f:selectItem itemLabel="-- Select Severity --" itemValue=""></f:selectItem>
												<f:selectItems
													value="#{complaintInitiationBackingBean.severityList}"
													var="p" itemValue="#{p.code}" itemLabel="#{p.description}"></f:selectItems>
											</p:selectOneMenu>

											<p:outputPanel>
												<p:outputLabel value="Event Place"></p:outputLabel>
												<p:outputLabel value=" *" style="color:#ff0000;"></p:outputLabel>
											</p:outputPanel>
											<p:inputText
												value="#{manageInquiryBean.selectedComplaintDTO.eventPlace}"
												tabindex="1" style="width:100%">
												<p:ajax />
											</p:inputText>

											<p:outputPanel>
												<p:outputLabel value="Event Date &amp; Time"></p:outputLabel>
												<p:outputLabel value=" *" style="color:#ff0000;"></p:outputLabel>
											</p:outputPanel>
											<p:calendar
												value="#{manageInquiryBean.selectedComplaintDTO.eventDateTime}"
												tabindex="1" pattern="yyyy-MM-dd HH:mm:ss"
												converterMessage="Format must be: yyyy-MM-dd HH:mm:ss"
												inputStyle="width:100%">
												<p:ajax event="dateSelect"
													listener="#{manageInquiryBean.eventDateTimeSelect}" />
											</p:calendar>

											<p:outputPanel>
												<p:outputLabel value="Complaint Media"></p:outputLabel>
												<p:outputLabel value=" *" style="color:#ff0000;"></p:outputLabel>
											</p:outputPanel>
											<p:selectOneMenu
												value="#{manageInquiryBean.selectedComplaintDTO.complainMedia}"
												tabindex="1" style="width:calc(100% - 18px);">
												<f:selectItem itemLabel="-- Select Complaint Media --"
													itemValue=""></f:selectItem>
												<f:selectItems
													value="#{complaintInitiationBackingBean.complainMediaList}"
													var="p" itemValue="#{p.code}" itemLabel="#{p.description}"></f:selectItems>
											</p:selectOneMenu>

											<p:outputLabel value="Has Written Proof"></p:outputLabel>
											<p:panelGrid columns="2">
												<p:selectBooleanCheckbox
													value="#{manageInquiryBean.selectedComplaintDTO.hasWrittenProof}"
													tabindex="1">

												</p:selectBooleanCheckbox>
											</p:panelGrid>

											<p:outputLabel value="Complainer Participation"></p:outputLabel>
											<p:panelGrid columns="2">
												<p:selectBooleanCheckbox
													value="#{manageInquiryBean.selectedComplaintDTO.complainerParticipation}"
													tabindex="1">
													<p:ajax update="panelComplainer" />
												</p:selectBooleanCheckbox>
											</p:panelGrid>

											<p:outputLabel value="Details of the Complaint"></p:outputLabel>
											<p:inputTextarea
												value="#{manageInquiryBean.selectedComplaintDTO.detailOfComplain}"
												tabindex="1" style="width:100%"></p:inputTextarea>

										</p:panelGrid>

									</p:panel>

									<p:panel header="Bus Details" style="border:1px solid #b1cbef">
										<p:panelGrid columns="2" layout="grid"
											columnClasses="ui-grid-col-5, ui-grid-col-7">
											<p:outputLabel value="Vehicle No."></p:outputLabel>
											<p:inputText
												value="#{manageInquiryBean.selectedComplaintDTO.vehicleNo}"
												style="width:100%;"></p:inputText>

											<p:outputLabel value="Permit No."></p:outputLabel>
											<p:inputText
												value="#{manageInquiryBean.selectedComplaintDTO.permitNo}"
												style="width:100%;"></p:inputText>

											<p:outputLabel value="Route No."></p:outputLabel>
											<p:selectOneMenu
												value="#{manageInquiryBean.selectedComplaintDTO.routeNo}"
												style="width:calc(100% - 18px);" autoWidth="false"
												effect="fold" filter="true" filterMatchMode="contains">
												<p:ajax />
												<f:selectItem itemLabel="-- Select Route --" itemValue="" />
												<f:selectItems
													value="#{terminalPaymentBackingBean.routeList}"
													var="routeList"
													itemLabel="#{routeList.routeNo}&#160;:&#160;#{routeList.startFrom}-#{routeList.endAt}"
													itemValue="#{routeList.routeNo}" />
											</p:selectOneMenu>

											<p:outputLabel value="Province"></p:outputLabel>
											<p:selectOneMenu
												value="#{manageInquiryBean.selectedComplaintDTO.province}"
												style="width:calc(100% - 18px);">
												<p:ajax />
												<f:selectItem itemLabel="-- Select Province --" itemValue="" />
												<f:selectItems
													value="#{complaintInitiationBackingBean.provincelList}"
													var="p" itemValue="#{p.code}" itemLabel="#{p.description}"></f:selectItems>
											</p:selectOneMenu>

											<p:outputLabel value="Origin"></p:outputLabel>
											<p:inputText
												value="#{manageInquiryBean.selectedComplaintDTO.origin}"
												style="width:100%;">
												<p:ajax />
											</p:inputText>

											<p:outputLabel value="Destination"></p:outputLabel>
											<p:inputText
												value="#{manageInquiryBean.selectedComplaintDTO.destination}"
												style="width:100%;">
												<p:ajax />
											</p:inputText>

											<p:outputLabel value="Depot"></p:outputLabel>
											<p:inputText
												value="#{manageInquiryBean.selectedComplaintDTO.depot}"
												style="width:100%;">
												<p:ajax />
											</p:inputText>
										</p:panelGrid>
									</p:panel>
								</p:panelGrid>

								<div class="ui-grid-row">

									<div class="gridspadding ui-grid-col-12">
										<p:panel id="panelComplainer" header="Complainer Details"
											style="border:1px solid #b1cbef;">

											<p:panelGrid columns="4" layout="grid"
												columnClasses="ui-grid-col-1, ui-grid-col-3, ui-grid-col-10, ui-grid-col-4">
												<h:panelGroup />
												<p:outputLabel value=""></p:outputLabel>
												<p:outputPanel>
													<p:outputLabel value="Name of the Complainer"></p:outputLabel>
													<p:outputLabel value=" *" style="color:#ff0000;"></p:outputLabel>
												</p:outputPanel>
												<h:panelGroup />

												<h:panelGroup />
												<p:outputLabel value="In English" style="font-size:12px"></p:outputLabel>
												<p:inputText
													value="#{manageInquiryBean.selectedComplaintDTO.complainerName}"
													style="width:100%">
													<p:ajax />
												</p:inputText>
												<h:panelGroup />

												<h:panelGroup />
												<p:outputLabel value="In Sinhala" style="font-size:12px"></p:outputLabel>
												<p:inputText
													value="#{manageInquiryBean.selectedComplaintDTO.complainerName_si}"
													style="width:100%">
													<p:ajax />
												</p:inputText>
												<h:panelGroup />

												<h:panelGroup />
												<p:outputLabel value="In Tamil" style="font-size:12px"></p:outputLabel>
												<p:inputText
													value="#{manageInquiryBean.selectedComplaintDTO.complainerName_ta}"
													style="width:100%">
													<p:ajax />
												</p:inputText>
												<h:panelGroup />
											</p:panelGrid>

											<p:spacer height="10"></p:spacer>

											<p:panelGrid columns="6" layout="grid"
												columnClasses="ui-grid-col-1, ui-grid-col-3, ui-grid-col-5, ui-grid-col-5, ui-grid-col-3, ui-grid-col-1">
												<h:panelGroup />
												<p:outputLabel value=""></p:outputLabel>
												<p:outputPanel>
													<p:outputLabel value="Address Line 1"></p:outputLabel>
													<p:outputLabel value=" *" style="color:#ff0000;"
														rendered="#{manageInquiryBean.selectedComplaintDTO.complainerParticipation}"></p:outputLabel>
												</p:outputPanel>
												<p:outputLabel value="Address Line 2"></p:outputLabel>
												<p:outputLabel value="City"></p:outputLabel>
												<h:panelGroup />

												<h:panelGroup />
												<p:outputLabel value="In English" style="font-size:12px"></p:outputLabel>
												<p:inputText
													value="#{manageInquiryBean.selectedComplaintDTO.address1}"
													style="width:100%">
													<p:ajax />
												</p:inputText>
												<p:inputText
													value="#{manageInquiryBean.selectedComplaintDTO.address2}"
													style="width:100%">
													<p:ajax />
												</p:inputText>
												<p:inputText
													value="#{manageInquiryBean.selectedComplaintDTO.city}"
													style="width:100%">
													<p:ajax />
												</p:inputText>
												<h:panelGroup />

												<h:panelGroup />
												<p:outputLabel value="In Sinhala" style="font-size:12px"></p:outputLabel>
												<p:inputText
													value="#{manageInquiryBean.selectedComplaintDTO.address1_si}"
													style="width:100%">
													<p:ajax />
												</p:inputText>
												<p:inputText
													value="#{manageInquiryBean.selectedComplaintDTO.address2_si}"
													style="width:100%">
													<p:ajax />
												</p:inputText>
												<p:inputText
													value="#{manageInquiryBean.selectedComplaintDTO.city_si}"
													style="width:100%">
													<p:ajax />
												</p:inputText>
												<h:panelGroup />

												<h:panelGroup />
												<p:outputLabel value="In Tamil" style="font-size:12px"></p:outputLabel>
												<p:inputText
													value="#{manageInquiryBean.selectedComplaintDTO.address1_ta}"
													style="width:100%">
													<p:ajax />
												</p:inputText>
												<p:inputText
													value="#{manageInquiryBean.selectedComplaintDTO.address2_ta}"
													style="width:100%">
													<p:ajax />
												</p:inputText>
												<p:inputText
													value="#{manageInquiryBean.selectedComplaintDTO.city_ta}"
													style="width:100%">
													<p:ajax />
												</p:inputText>
												<h:panelGroup />
											</p:panelGrid>

											<p:spacer height="10"></p:spacer>

											<p:panelGrid columns="6" layout="grid"
												columnClasses="ui-grid-col-1, ui-grid-col-3, ui-grid-col-5, ui-grid-col-3,ui-grid-col-5, ui-grid-col-1">
												<h:panelGroup />
												<p:outputPanel>
													<p:outputLabel value="Contact No 1"></p:outputLabel>
													<p:outputLabel value=" *" style="color:#ff0000;"
														rendered="#{manageInquiryBean.selectedComplaintDTO.complainerParticipation}"></p:outputLabel>
												</p:outputPanel>
												<p:inputText
													value="#{manageInquiryBean.selectedComplaintDTO.contact1}"
													maxlength="10">
													<p:ajax />
													<p:keyFilter regEx="/[-+()0-9]+/"></p:keyFilter>
												</p:inputText>
												<p:outputPanel>
													<p:outputLabel value="Contact No 2"></p:outputLabel>
													<p:outputLabel value=" *" style="color:#ff0000;"
														rendered="#{manageInquiryBean.selectedComplaintDTO.complainerParticipation}"></p:outputLabel>
												</p:outputPanel>
												<p:inputText
													value="#{manageInquiryBean.selectedComplaintDTO.contact2}"
													maxlength="10">
													<p:ajax />
													<p:keyFilter regEx="/[-+()0-9]+/"></p:keyFilter>
												</p:inputText>
												<h:panelGroup />
											</p:panelGrid>

										</p:panel>
									</div>
								</div>

								<div class="ui-grid-row">
									<div class="gridspadding ui-grid-col-12">
										<p:panel id="panelCommitedOffences"
											header="Committed Offences" style="border:1px solid #b1cbef;">
											<p:dataTable id="dtOffencePanel" var="offence"
												value="#{manageInquiryBean.selectedComplaintDTO.committedOffences}"
												emptyMessage="No committed offences" paginator="true"
												rows="10" rowsPerPageTemplate="5,10,15"
												paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
												reflow="true">
												<p:column rendered="false">
													<h:outputText value="#{offence.code}" />
												</p:column>
												<p:column headerText="Applicable (Yes/No)" width="70">
													<p:selectBooleanCheckbox value="#{offence.applicable}"
														disabled="true">
														<p:ajax />
													</p:selectBooleanCheckbox>
												</p:column>
												<p:column headerText="Offence" style="text-align:left">
													<h:outputText value="#{offence.description}" />
												</p:column>
												<p:column headerText="Remarks" style="text-align:left">
													<p:inputText value="#{offence.remark}" style="width:90%">
														<p:ajax />
													</p:inputText>
												</p:column>
											</p:dataTable>

											<p:spacer height="10px"></p:spacer>
											<p:panelGrid layout="grid" columns="2"
												columnClasses="ui-grid-col-3, ui-grid-col-8">
												<p:outputLabel value="Other"></p:outputLabel>
												<p:inputTextarea
													value="#{manageInquiryBean.selectedComplaintDTO.otherOffence}"
													style="width:100%">
													<p:ajax />
												</p:inputTextarea>
											</p:panelGrid>
										</p:panel>
									</div>
								</div>

							</h:panelGroup>


						</p:panel>
					</h:form>
				</p:dialog>

				<p:dialog id="actionTakenDialog" global="true" modal="true"
					header="Action Taken" width="80%" height="300px" severity="info"
					widgetVar="actionTakenDialog" closeOnEscape="true"
					resizable="false" style="postion: absolute;">

					<h:form id="frmRenewalHistory">
						<p:dataTable var="h" value="#{manageInquiryBean.actionTakenList}">

							<p:column style="text-align: left;width: 10%;"
								headerText="Complaint No.">
								<h:outputText value="#{h.complainNo}" />
							</p:column>

							<p:column style="text-align: left;width: 20%;"
								headerText="Department">
								<h:outputText value="#{h.actionDepartment_desc}" />
							</p:column>

							<p:column style="text-align: left;width: 20%;"
								headerText="Action Taken By Grievence Management">
								<h:outputText value="#{h.actionTakenByGM}" />
							</p:column>

							<p:column style="text-align: left;width: 15%;"
								headerText="Date and Time">
								<h:outputText value="#{h.actionTakenByGMDate}" />
							</p:column>

							<p:column style="text-align: left;width: 25%;"
								headerText="Action Taken By Department">
								<h:outputText value="#{h.actionTakenByDepartment}" />
							</p:column>

							<p:column style="text-align: left;width: 15%;"
								headerText="Date and Time">
								<h:outputText value="#{h.actionTakenByDepartmentDate}" />
							</p:column>

						</p:dataTable>
					</h:form>

				</p:dialog>

				<p:dialog id="uploadDocumentsDialog" global="true" modal="true"
					header="View Documents" width="80%" height="500px" severity="info"
					widgetVar="uploadDocument" closeOnEscape="true" resizable="false"
					style="postion: absolute;">

					<h:form id="frmdoc">

						<p:tabView>

							<p:tab title="Upload History">


								<p:accordionPanel multiple="true">
									<p:growl showDetail="false" />
									<p:tab title="Grievances Management (Documents)"
										closable="true">


										<p:accordionPanel id="dkfj">
											<p:growl id="NP" showDetail="false" />
											<p:tab title="Mandatory Documents">


												<h:panelGrid>
													<p:dataTable id="mandatoryNP" tableStyle="width:auto"
														var="docMandatory"
														value="#{sessionBackingBean.sisuSariyaMandatoryDocumentList}"
														rows="5" paginator="true" sortOrder="ascending"
														paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
														rowsPerPageTemplate="5,10,15">

														<p:column headerText="Code"
															style="width: 100px;text-align: left;">
															<h:outputText value="#{docMandatory.doc_Code}" />
														</p:column>
														<p:column headerText="Description"
															style="width: 300px;text-align: left;">
															<h:outputText value="#{docMandatory.add_Doc_Description}" />
														</p:column>
														<p:column headerText="File Name"
															style="width: 200px;text-align: left;">

															<h:outputText value="#{docMandatory.documentName}" />
														</p:column>

														<p:column headerText="" style="width: 75px;">

															<p:commandLink
																actionListener="#{documentManagementBean.viewMandatoryUploadDocs}"
																oncomplete="window.open('/InfoNTC/showUpload?reportName=Upload Document')">
																<p:graphicImage library="images" name="view.png"
																	style="width:20px;height:20px;" title="view"></p:graphicImage>
																<f:attribute name="documentMandatory"
																	value="#{docMandatory}" />
															</p:commandLink>

														</p:column>


													</p:dataTable>
												</h:panelGrid>

											</p:tab>
										</p:accordionPanel>

										<br></br>
										<br></br>

										<p:accordionPanel>

											<p:growl showDetail="false" />

											<p:tab title="Optional Documents">

												<h:panelGrid>
													<p:dataTable id="optionalNP" tableStyle="width:auto"
														var="docOptional"
														value="#{sessionBackingBean.sisuSariyaOptionalDocumentList}"
														rows="5" paginator="true" sortOrder="ascending"
														scrollHeight="100%" liveResize="true" liveScroll="true"
														paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
														rowsPerPageTemplate="5,10,15">

														<p:column headerText="Code"
															style="width: 100px;text-align: left;">
															<h:outputText value="#{docOptional.doc_Code}" />
														</p:column>
														<p:column headerText="Description"
															style="width: 300px;text-align: left;">
															<h:outputText value="#{docOptional.add_Doc_Description}" />
														</p:column>
														<p:column headerText="File Name"
															style="width: 200px;text-align: left;">
															<h:outputText value="#{docOptional.documentName}" />
														</p:column>

														<p:column headerText="" style="width: 75px;">

															<p:commandLink
																actionListener="#{documentManagementBean.viewUploadedOptionalDocAction}"
																oncomplete="window.open('/InfoNTC/showUpload?reportName=Upload Document')">
																<p:graphicImage library="images" name="view.png"
																	style="width:20px;height:20px;" title="view"></p:graphicImage>
																<f:attribute name="documentOptional"
																	value="#{docOptional}" />
															</p:commandLink>

														</p:column>


													</p:dataTable>
												</h:panelGrid>
											</p:tab>

										</p:accordionPanel>

									</p:tab>
									<br></br>
								</p:accordionPanel>
							</p:tab>
						</p:tabView>

					</h:form>
				</p:dialog>

				<p:dialog id="successMSG" global="true" modal="true"
					header="Success" width="30%" severity="info"
					widgetVar="successMessage" closeOnEscape="true" resizable="false">

					<h:form id="frmsuccess">
						<center>
							<p:panelGrid columns="2" styleClass="ui-noborder">
								<p:graphicImage library="images" name="success-24.png"></p:graphicImage>

								<p:outputLabel value="#{manageInquiryBean.successMessage}"></p:outputLabel>

							</p:panelGrid>
							<br></br>
							<p:commandButton style="margin-top:10px;margin-bottom:10px"
								value="OK" process="frmsuccess"
								onclick="PF('successMessage').hide()">
							</p:commandButton>
						</center>
					</h:form>
				</p:dialog>

				<p:dialog id="errorMSG" global="true" modal="true" header="Error"
					width="30%" severity="info" widgetVar="errorMessage"
					closeOnEscape="true" resizable="false">

					<h:form id="frmError">
						<center>
							<p:panelGrid columns="2" styleClass="ui-noborder">
								<p:graphicImage library="images" name="error-24.png"></p:graphicImage>

								<p:outputLabel value="#{manageInquiryBean.errorMessage}"></p:outputLabel>

							</p:panelGrid>
							<br></br>
							<p:commandButton style="margin-top:10px;margin-bottom:10px"
								value="OK" process="frmError"
								onclick="PF('errorMessage').hide()">
							</p:commandButton>
						</center>
					</h:form>
				</p:dialog>

			</div>
		</div>

	</ui:define>
</ui:composition>