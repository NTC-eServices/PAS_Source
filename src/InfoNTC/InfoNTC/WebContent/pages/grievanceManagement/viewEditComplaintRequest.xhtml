<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="/WEB-INF/template/template.xhtml">
	<ui:define name="metadata">
	</ui:define>
	<ui:define name="content">
		<style>
.ui-dialog .ui-dialog-titlebar {
	padding: .4em .4em .4em 1em;
	position: relative;
	background: #07295b !important;
	padding: 5px 5px 5px 5px;
	margin: 0px 0px 0px 0px;
	color: #ffffff;
}

.ui-panelgrid .ui-panelgrid-cell {
	background-color: #f1f1f1;
}

.ui-icon.ui-confirm-dialog-severity {
	background-position: 0 0 !important;
	background-image: none !important;
}

.colorHighlight {
	background: yellow !important;
}

.ui-dialog .ui-widget .ui-widget-content .ui-corner-all .ui-shadow .ui-hidden-container .ui-draggable
	{
	width: 50%;
}

.firstColumn {
	width: 100%;
}

.secondColumn {
	width: 100%;
}

.dashboardNRResendDocRecord {
	background-color: #16e5d7 !important;
}

.ui-state-default a, .ui-state-default a:link, .ui-state-default a:visited
	{
	color: #07295b;
}

.mainDiv {
	width: 99%;
	height: auto;
	border-left: solid;
	border-right: solid;
	border-bottom: solid;
	border-top: solid;
	border-color: #07295b;
	border-width: 1px;
	margin-left: 5px;
	margin-top: 5px;
	margin-bottom: 5px;
	/*background-image: linear-gradient(to right bottom, #d9ddfa, #ccd4fb, #bdcafc, #aec2fe,
		#9cb9ff);*/
	background-image: linear-gradient(to right bottom, #f1f1f1, #dfdfe4, #f1f1f1, #e9eaeb,
		#bbb5b5);
}

.ui-inputfield, .ui-widget-content .ui-inputfield, .ui-widget-header .ui-inputfield
	{
	color: #07295b;
}

.mainLinkButton {
	font-weight: bold;
	background: #2571fa !important;
	text-align: center;
	padding: 7px 25px 7px 25px !important;
	height: 35px !important;
	text-decoration: none !important;
	color: white !important;
	white-space: nowrap !important;
	border-radius: 5px !important;
}

.mainLinkButton:hover {
	background: #fba026 !important;
}

.otherLinkButton {
	font-weight: bold;
	background: #296807 !important;
	text-align: center;
	padding: 7px 25px 7px 25px !important;
	height: 35px !important;
	text-decoration: none !important;
	color: white !important;
	white-space: nowrap !important;
	border-radius: 5px !important;
}

.otherLinkButton:hover {
	background: #fba026 !important;
}

.mainActionbtn {
	font-weight: bold;
	background: #2571fa !important;
	height: 30px !important;
	border-radius: 5px !important;
	color: white !important;
	text-align: center;
	width: 80px;
	white-space: nowrap !important;
	-webkit-transition: background-color 0.3s ease-out;
	-moz-transition: background-color 0.3s ease-out;
	-o-transition: background-color 0.3s ease-out;
	transition: background-color 0.3s ease-out;
}

.mainActionbtn:hover {
	background: #fba026 !important;
}

.OthActionbtn {
	font-weight: bold;
	background: #296807 !important;
	height: 30px !important;
	border-radius: 5px !important;
	color: white !important;
	text-align: center;
	width: 80px;
	white-space: nowrap !important;
	-webkit-transition: background-color 0.3s ease-out;
	-moz-transition: background-color 0.3s ease-out;
	-o-transition: background-color 0.3s ease-out;
	transition: background-color 0.3s ease-out;
	margin-bottom: 5px;
}

.OthActionbtn:hover {
	background: #fba026 !important;
}

.subDiv {
	margin: 0 auto;
	background: rgb(254, 255, 255); /* Old browsers */
	background: -moz-linear-gradient(-45deg, rgba(254, 255, 255, 1) 0%,
		rgba(210, 235, 249, 1) 100%); /* FF3.6-15 */
	background: -webkit-linear-gradient(-45deg, rgba(254, 255, 255, 1) 0%,
		rgba(210, 235, 249, 1) 100%); /* Chrome10-25,Safari5.1-6 */
	background: linear-gradient(135deg, rgba(254, 255, 255, 1) 0%,
		rgba(210, 235, 249, 1) 100%);
	/* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#feffff',
		endColorstr='#d2ebf9', GradientType=1);
	/* IE6-9 fallback on horizontal gradient */
}

.nopadd .ui-panelgrid-cell {
	padding: 4px 0px !important;
}

.sm-padding .ui-panelgrid-cell {
	padding-top: 4px !important;
	padding-bottom: 4px !important;
}

.ui-slider-horizontal {
	background: #b3d9ff !important;
	height: 5px !important;
	padding-top: 2px !important;
	margin-top: 12px;
}

.ui-slider-handle {
	background: #5589d2 !important;
	border-radius: 10px !important;
}

.ui-overlaypanel-close {
	width: 25px !important;
	height: 25px !important;
	-moz-border-radius: 10px;
	-webkit-border-radius: 10px;
	border-radius: 20px;
}

.ui-icon-closethick {
	font-size: 18px !important;
	text-indent: 5px !important;
	margin-top: 2px !important;
}

.overlay .ui-icon {
	overflow: visible !important;
}

.nopad .ui-panel .ui-panel-content {
	padding: 0px 0px;
}
</style>


		<div class="mainDiv">


			<div style="margin-top: 0%;" class="common_form_header">
				<h1 style="color: #ffffff; text-align: center; font-weight: bold">View
					/ Edit Complaint Request</h1>

			</div>

			<div style="width: 95%;" class="subDiv">
				<h:form id="frmInitiateComplaint" style="background-color :#f1f1f1;">
					<p:spacer height="5px"></p:spacer>

					<div class="ui-widget-content ui-grid ui-grid-responsive">

						<div class="rowpadding ui-grid-row">
							<div class="ui-grid-col-3"></div>
							<div class="ui-grid-col-2">
								<p:outputLabel value="Complaint No."></p:outputLabel>
							</div>
							<div class="ui-grid-col-2">
								<p:autoComplete
									value="#{complaintViewEditBackingBean.complaintNo}"
									completeMethod="#{complaintViewEditBackingBean.completeComplaintNo}"
									dropdown="true" size="15"
									onkeyup="this.value=this.value.toUpperCase();"
									forceSelection="true" scrollHeight="500" />
							</div>
						</div>

						<div class="rowpadding ui-grid-row">
							<div class="ui-grid-col-3"></div>
							<div class="ui-grid-col-2">
								<p:outputLabel value="Vehicle No."></p:outputLabel>
							</div>
							<div class="ui-grid-col-2">
								<p:inputText value="#{complaintViewEditBackingBean.vehicleNo}"
									tabindex="1" style="text-transform:uppercase; width:160px"
									rendered="#{complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority != 'NTC'}">
									
								</p:inputText>
								<p:autoComplete id="idVehicle"
									value="#{complaintViewEditBackingBean.vehicleNo}"
									completeMethod="#{complaintViewEditBackingBean.completeVehicleNoForSearch}"
									rendered="#{complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'NTC'}"
									size="18" onkeyup="this.value=this.value.toUpperCase();"
									forceSelection="true" scrollHeight="500" />
							</div>
						</div>

						<div class="rowpadding ui-grid-row">
							<div class="ui-grid-col-3"></div>
							<div class="ui-grid-col-2">
								<p:outputLabel value="Permit No."></p:outputLabel>
							</div>
							<div class="ui-grid-col-2">

								<p:autoComplete id="idPermit"
									value="#{complaintViewEditBackingBean.permitNo}"
									completeMethod="#{complaintViewEditBackingBean.completePermitNoForSearch}"
									size="18" onkeyup="this.value=this.value.toUpperCase();"
									forceSelection="true" scrollHeight="500" />
							</div>
						</div>

						<div class="gridspadding" align="center">
							<p:commandButton value="Search" styleClass="mainActionbtn"
								tabindex="1"
								actionListener="#{complaintViewEditBackingBean.searchComplaint}"
								alt="Search"
								update="viewEditDetailPanel, idMultipleComplaints,btnEdit"></p:commandButton>

							<p:spacer width="5px"></p:spacer>

							<p:commandButton value="Clear" styleClass="mainActionbtn"
								tabindex="1"
								actionListener="#{complaintViewEditBackingBean.clearSearchView}"
								alt="Clear" update="frmInitiateComplaint"></p:commandButton>
						</div>



						<h:panelGroup id="viewEditDetailPanel">

							<p:panel
								rendered="#{complaintViewEditBackingBean.complaintSelected}"
								style="border:5px solid #bed6f8; padding:0">
								<p:panel
									style="margin-top: -9px; margin-right: -15px; margin-left: -15px; background-color: #bed6f8 !important;">
									<h2 style="text-align: center;">Details of Complaint
										#{complaintViewEditBackingBean.selectedComplaintDTO.complaintNo}
									</h2>
									<h3
										style="text-align: center; color: #2571fa; font-style: normal;">Status:
										#{complaintViewEditBackingBean.selectedComplaintDTO.process_status_des}
									</h3>
								</p:panel>
								<p:panel>
									<p:panelGrid columns="6" layout="grid"
										columnClasses="ui-grid-col-2, ui-grid-col-2,ui-grid-col-2, ui-grid-col-2, ui-grid-col-2, ui-grid-col-2">

										<p:outputLabel value="Permit Authority"></p:outputLabel>
										<p:selectOneMenu
											value="#{complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority}"
											disabled="true" tabindex="1" style="width:calc(100% - 18px);">

											<f:selectItem itemValue="NTC" itemLabel="NTC"></f:selectItem>
											<f:selectItem itemValue="PTA" itemLabel="PTA"></f:selectItem>
											<f:selectItem itemValue="CTB" itemLabel="CTB"></f:selectItem>
											<f:selectItem itemValue="OTHER" itemLabel="Other"></f:selectItem>
											<f:selectItem itemValue="TP" itemLabel="Temporary Permit"></f:selectItem>

										</p:selectOneMenu>

										<p:outputLabel value="Investigation Date"></p:outputLabel>
										<p:inputText
											value="#{complaintViewEditBackingBean.selectedComplaintDTO.investigationDate}"
											disabled="true">
										</p:inputText>
										<p:panelGrid></p:panelGrid>
										<p:commandButton id="btnEdit" value="Edit"
											icon="fa fa-edit fa-1x" styleClass="mainActionbtn"
											actionListener="#{complaintViewEditBackingBean.editComplaint}"
											update="viewEditDetailPanel,panelbusDetail"
											rendered="#{complaintViewEditBackingBean.mode != 'V'}"
											disabled="#{complaintViewEditBackingBean.disableEditBtn}"></p:commandButton>

									</p:panelGrid>
								</p:panel>



								<h:panelGroup id="editableView">

									<div class="ui-grid-row">
										<div class="gridspadding ui-grid-col-7 sm-padding">
											<p:panel id="panelComplaintDetail" header="Initiate Details"
												style="border:1px solid #b1cbef">
												<p:panelGrid columns="2" layout="grid"
													columnClasses="ui-grid-col-4, ui-grid-col-8">
													<p:outputPanel>
														<p:outputLabel value="Priority Order"></p:outputLabel>
														<p:outputLabel value=" *" style="color:#ff0000;"></p:outputLabel>
													</p:outputPanel>
													<p:selectOneMenu
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.priorityOrder}"
														tabindex="1" style="width:50%;">

														<f:selectItem itemLabel="-- Select Order --" itemValue=""></f:selectItem>
														<f:selectItems
															value="#{complaintInitiationBackingBean.priorityOrderList}"
															var="p" itemValue="#{p.code}"
															itemLabel="#{p.description}"></f:selectItems>
													</p:selectOneMenu>
													<p:outputPanel>
														<p:outputLabel value="Severity"></p:outputLabel>
														<p:outputLabel value=" *" style="color:#ff0000;"></p:outputLabel>
													</p:outputPanel>
													<p:selectOneMenu
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.severityNo}"
														tabindex="1" style="width:50%;">
														<f:selectItem itemLabel="-- Select Severity --"
															itemValue=""></f:selectItem>
														<f:selectItems
															value="#{complaintInitiationBackingBean.severityList}"
															var="p" itemValue="#{p.code}"
															itemLabel="#{p.description}"></f:selectItems>
													</p:selectOneMenu>

													<p:outputPanel>
														<p:outputLabel value="Event Place"></p:outputLabel>
														<p:outputLabel value=" *" style="color:#ff0000;"></p:outputLabel>
													</p:outputPanel>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.eventPlace}"
														tabindex="1" style="width:100%">
														<p:ajax />
															
													</p:inputText>

													<p:outputPanel>
														<p:outputLabel value="Event Date &amp; Time"></p:outputLabel>
														<p:outputLabel value=" *" style="color:#ff0000;"></p:outputLabel>
													</p:outputPanel>
													<p:calendar
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.eventDateTime}"
														tabindex="1" pattern="yyyy-MM-dd HH:mm:ss"
														disabled="#{!complaintViewEditBackingBean.editMode}"
														converterMessage="Format must be: yyyy-MM-dd HH:mm:ss"
														inputStyle="width:100%">
														<p:ajax event="dateSelect"
															listener="#{complaintViewEditBackingBean.eventDateTimeSelect}" />
													</p:calendar>

													<p:outputPanel>
														<p:outputLabel value="Complaint Media"></p:outputLabel>
														<p:outputLabel value=" *" style="color:#ff0000;"></p:outputLabel>
													</p:outputPanel>
													<p:selectOneMenu
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.complainMedia}"
														tabindex="1" style="width:calc(100% - 18px);">
														<f:selectItem itemLabel="-- Select Complaint Media --"
															itemValue=""></f:selectItem>
														<f:selectItems
															value="#{complaintInitiationBackingBean.complainMediaList}"
															var="p" itemValue="#{p.code}"
															itemLabel="#{p.description}"></f:selectItems>
													</p:selectOneMenu>

													<p:outputLabel value="Has Written Proof"></p:outputLabel>
													<p:panelGrid columns="2">
														<p:selectBooleanCheckbox
															value="#{complaintViewEditBackingBean.selectedComplaintDTO.hasWrittenProof}"
															tabindex="1">

														</p:selectBooleanCheckbox>

													</p:panelGrid>

													<p:outputLabel value="Complainer Participation"></p:outputLabel>
													<p:panelGrid columns="2">
														<p:selectBooleanCheckbox
															value="#{complaintViewEditBackingBean.selectedComplaintDTO.complainerParticipation}"
															tabindex="1">
															<p:ajax update="panelComplainer" />
														</p:selectBooleanCheckbox>
													</p:panelGrid>

													<p:outputLabel value="Details of the Complaint"></p:outputLabel>
													<p:inputTextarea
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.detailOfComplain}"
														tabindex="1" style="width:100%; max-height:100px" rows="8">
														
														</p:inputTextarea>

												</p:panelGrid>


											</p:panel>
										</div>

										<div class="gridspadding ui-grid-col-5">
											<p:panel id="panelbusDetail" header="Bus Details"
												style="border:1px solid #b1cbef">
												<p:panelGrid columns="2" layout="grid"
													columnClasses="ui-grid-col-3, ui-grid-col-9">

													<p:outputLabel value="Vehicle No."></p:outputLabel>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.vehicleNo}"
														style="width:100%;"
														disabled="#{!complaintViewEditBackingBean.editMode}"
														rendered="#{complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority	 == 'OTHER' 
										|| complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority	 == 'CTB' || complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority	 == 'PTA'}">
														
													</p:inputText>

													<p:autoComplete
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.vehicleNo}"
														completeMethod="#{complaintViewEditBackingBean.completeVehicleNo}"
														disabled="#{!complaintViewEditBackingBean.editMode}"
														rendered="#{complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'NTC' || complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'TP'}"
														size="18" onkeyup="this.value=this.value.toUpperCase();"
														forceSelection="true" scrollHeight="500">
														<p:ajax event="itemSelect"
															listener="#{complaintViewEditBackingBean.onVehicleNoChange}"
															update="frmInitiateComplaint:panelbusDetail" />
													</p:autoComplete>








													<p:outputLabel value="Permit No."></p:outputLabel>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.permitNo}"
														style="width:100%;"
														disabled="#{complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'NTC' || complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'TP'}">
															
														</p:inputText>

													<p:outputLabel value="Route No."></p:outputLabel>
													<p:selectOneMenu
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.routeNo}"
														style="width:calc(100% - 18px);" autoWidth="false"
														effect="fold" filter="true" filterMatchMode="contains"
														disabled="true"
														rendered="#{complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'NTC' || complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'TP'}">
														<p:ajax />
														<f:selectItem itemLabel="-- Select Route --" itemValue="" />
														<f:selectItems
															value="#{terminalPaymentBackingBean.routeList}"
															var="routeList"
															itemLabel="#{routeList.routeNo}&#160;:&#160;#{routeList.startFrom}-#{routeList.endAt}"
															itemValue="#{routeList.routeNo}" />
													</p:selectOneMenu>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.routeNo}"
														style="width:100%"
														disabled="#{!complaintViewEditBackingBean.editMode or complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'NTC'}"
														rendered="#{complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'OTHER' || complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'CTB' || complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'PTA'}">
														<p:ajax />
															
													</p:inputText>

													<p:outputLabel value="Province">
														<p:outputLabel value=" *" style="color:#ff0000;"></p:outputLabel>
													</p:outputLabel>
													<p:selectOneMenu
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.province}"
														style="width:calc(100% - 18px);"
														disabled="#{complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'NTC'}">
														<p:ajax />
														<f:selectItem itemLabel="-- Select Province --"
															itemValue="" />
														<f:selectItems
															value="#{complaintInitiationBackingBean.provincelList}"
															var="p" itemValue="#{p.code}"
															itemLabel="#{p.description}"></f:selectItems>
													</p:selectOneMenu>

													<p:outputLabel value="Origin"></p:outputLabel>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.origin}"
														style="width:100%;"
														disabled="#{complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'NTC' || complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'TP'}">
														<p:ajax />
															
													</p:inputText>

													<p:outputLabel value="Destination"></p:outputLabel>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.destination}"
														style="width:100%;"
														disabled="#{complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'NTC' || complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'TP'}">
														<p:ajax />
															
													</p:inputText>

													<p:outputLabel value="Depot"></p:outputLabel>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.depot}"
														style="width:100%;">
															
														<p:ajax />
													</p:inputText>

													<p:outputLabel value="Service Type"
														rendered="#{complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'NTC' || complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'TP'}"></p:outputLabel>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.serviceTypeDescription}"
														rendered="#{complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'NTC' || complaintViewEditBackingBean.selectedComplaintDTO.permitAuthority == 'TP'}"
														style="width:100%" disabled="true">
														
														<p:ajax />
													</p:inputText>
												</p:panelGrid>

											</p:panel>
											<br />
											<p:commandButton id="commitedOffenceBtn"
												value="Committed Offences" style="height:30px" tabindex="1"
												update="dtOffencePanel"></p:commandButton>
											<p:overlayPanel id="committedOffencePanel"
												for="commitedOffenceBtn" hideEffect="fade"
												style="width:70%;" modal="true" dismissable="false"
												showCloseIcon="true" styleClass="overlay">
												<p:dataTable id="dtOffencePanel" var="offence"
													value="#{complaintViewEditBackingBean.selectedComplaintDTO.committedOffences}"
													emptyMessage="No committed offences" paginator="true"
													rows="5" rowsPerPageTemplate="5,10,15"
													paginatorPosition="bottom"
													paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
													reflow="true">
													<p:column rendered="false">
														<h:outputText value="#{offence.code}" />
													</p:column>
													<p:column headerText="Applicable (Yes/No)" width="70">
														<p:selectBooleanCheckbox value="#{offence.applicable}"
															disabled="#{!complaintViewEditBackingBean.editMode}">
															<p:ajax />
														</p:selectBooleanCheckbox>
													</p:column>
													<p:column headerText="Offence"
														style="text-align:left; Width:40%">
														<h:outputText value="#{offence.description}"
															style=" Width:40%" />
													</p:column>
													<p:column headerText="Remarks" style="text-align:left">
														<p:inputText value="#{offence.remark}"
															readonly="#{!complaintViewEditBackingBean.editMode}"
															style="width:90%">
															<p:ajax />
															
														</p:inputText>
													</p:column>
												</p:dataTable>

												<p:spacer height="10px"></p:spacer>
												<p:panelGrid layout="grid" columns="2"
													columnClasses="ui-grid-col-3, ui-grid-col-8">
													<p:outputLabel value="Other"></p:outputLabel>
													<p:inputTextarea
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.otherOffence}"
														style="width:100%"
														disabled="#{!complaintViewEditBackingBean.editMode}">
														<p:ajax />
													</p:inputTextarea>
												</p:panelGrid>
											</p:overlayPanel>

										</div>


									</div>


									<div class="ui-grid-row">

										<div class="gridspadding ui-grid-col-12">
											<p:panel id="panelComplainer" header="Complainer Details"
												style="border:1px solid #b1cbef;">

												<p:panelGrid columns="4" layout="grid"
													columnClasses="ui-grid-col-1, ui-grid-col-3, ui-grid-col-10, ui-grid-col-4">
													<h:panelGroup />
													<p:outputLabel value=""></p:outputLabel>
													<p:outputPanel>
														<p:outputLabel value="Name of the Complainer"></p:outputLabel>
														<p:outputLabel value=" *" style="color:#ff0000;"></p:outputLabel>
													</p:outputPanel>
													<h:panelGroup />

													<h:panelGroup />
													<p:outputLabel value="In English" style="font-size:12px"></p:outputLabel>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.complainerName}"
														style="width:100%">
														<p:ajax />
													
													</p:inputText>
													<h:panelGroup />

													<h:panelGroup />
													<p:outputLabel value="In Sinhala" style="font-size:12px"></p:outputLabel>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.complainerName_si}"
														style="width:100%">
														<p:ajax />
													</p:inputText>
													<h:panelGroup />

													<h:panelGroup />
													<p:outputLabel value="In Tamil" style="font-size:12px"></p:outputLabel>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.complainerName_ta}"
														style="width:100%">
														<p:ajax />
													</p:inputText>
													<h:panelGroup />
												</p:panelGrid>

												<p:spacer height="10"></p:spacer>

												<p:panelGrid columns="6" layout="grid"
													columnClasses="ui-grid-col-1, ui-grid-col-3, ui-grid-col-5, ui-grid-col-5, ui-grid-col-3, ui-grid-col-1">
													<h:panelGroup />
													<p:outputLabel value=""></p:outputLabel>
													<p:outputPanel>
														<p:outputLabel value="Address Line 1"></p:outputLabel>
														<p:outputLabel value=" *" style="color:#ff0000;"
															rendered="#{complaintViewEditBackingBean.selectedComplaintDTO.complainerParticipation}"></p:outputLabel>
													</p:outputPanel>
													<p:outputLabel value="Address Line 2"></p:outputLabel>
													<p:outputLabel value="City"></p:outputLabel>
													<h:panelGroup />

													<h:panelGroup />
													<p:outputLabel value="In English" style="font-size:12px"></p:outputLabel>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.address1}"
														style="width:100%">
														<p:ajax />
														
													</p:inputText>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.address2}"
														style="width:100%">
														<p:ajax />
															
													</p:inputText>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.city}"
														style="width:100%">
														<p:ajax />
														
													</p:inputText>
														
													<h:panelGroup />

													<h:panelGroup />
													<p:outputLabel value="In Sinhala" style="font-size:12px"></p:outputLabel>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.address1_si}"
														style="width:100%">
														<p:ajax />
													</p:inputText>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.address2_si}"
														style="width:100%">
														<p:ajax />
													</p:inputText>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.city_si}"
														style="width:100%">
														<p:ajax />
													</p:inputText>
													<h:panelGroup />

													<h:panelGroup />
													<p:outputLabel value="In Tamil" style="font-size:12px"></p:outputLabel>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.address1_ta}"
														style="width:100%">
														<p:ajax />
													</p:inputText>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.address2_ta}"
														style="width:100%">
														<p:ajax />
													</p:inputText>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.city_ta}"
														style="width:100%">
														<p:ajax />
													</p:inputText>
													<h:panelGroup />
												</p:panelGrid>

												<p:spacer height="10"></p:spacer>

												<p:panelGrid columns="6" layout="grid"
													columnClasses="ui-grid-col-1, ui-grid-col-3, ui-grid-col-5, ui-grid-col-3,ui-grid-col-5, ui-grid-col-1">
													<h:panelGroup />
													<p:outputPanel>
														<p:outputLabel value="Contact No. 1"></p:outputLabel>
														<!-- <p:outputLabel value=" *" style="color:#ff0000;" rendered="#{complaintViewEditBackingBean.selectedComplaintDTO.complainerParticipation}"></p:outputLabel> -->
													</p:outputPanel>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.contact1}"
														maxlength="10">
														<p:ajax />
														<p:keyFilter regEx="/[-+()0-9]+/"></p:keyFilter>
													</p:inputText>
													<p:outputPanel>
														<p:outputLabel value="Contact No. 2"></p:outputLabel>
														<!-- <p:outputLabel value=" *" style="color:#ff0000;" rendered="#{complaintViewEditBackingBean.selectedComplaintDTO.complainerParticipation}"></p:outputLabel> -->
													</p:outputPanel>
													<p:inputText
														value="#{complaintViewEditBackingBean.selectedComplaintDTO.contact2}"
														maxlength="10">
														<p:ajax />
														<p:keyFilter regEx="/[-+()0-9]+/"></p:keyFilter>
													</p:inputText>
													<h:panelGroup />
												</p:panelGrid>

											</p:panel>
										</div>
									</div>
									<br></br>
									<p:dataTable id="abc" tableStyle="width:auto"
										var="commitedOffenceVar" rows="10"
										value="#{complaintViewEditBackingBean.commitedOffence}"
										paginator="true" sortOrder="ascending"
										paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
										rowsPerPageTemplate="10,20,30">


										<p:column headerText="Applicable (Yes/No)"
											style="width: 50px;text-align:left;">
											<p:selectBooleanCheckbox
												value="#{commitedOffenceVar.applicableYes}" disabled="true"></p:selectBooleanCheckbox>
										</p:column>
										<p:column headerText="Offence"
											style="width: 550px;text-align:left;">
											<h:outputText value="#{commitedOffenceVar.offence}" />
										</p:column>
										<p:column headerText="Remarks"
											style="width: 350px;text-align:left;">
											<h:outputText value="#{commitedOffenceVar.remarks}" />
										</p:column>



									</p:dataTable>
									<p:spacer height="10px"></p:spacer>

									<center>
										<p:commandButton id="btnSubmit" value="Save"
											class="mainActionbtn" style="width:135px;"
											actionListener="#{complaintViewEditBackingBean.saveEditedComplaint}"
											disabled="#{complaintViewEditBackingBean.disableMode}"
											rendered="#{complaintViewEditBackingBean.editMode}"
											process="viewEditDetailPanel" update="viewEditDetailPanel">
										</p:commandButton>

										<p:commandButton id="btnClear" value="Reset"
											styleClass="mainActionbtn"
											actionListener="#{complaintViewEditBackingBean.exitEditMode}"
											rendered="#{complaintViewEditBackingBean.editMode}"
											process="viewEditDetailPanel" update="frmInitiateComplaint">
										</p:commandButton>

										<p:commandButton styleClass="mainActionbtn"
											value="Document Management" update="uploadDocumentsDialog"
											tabindex="34" process="viewEditDetailPanel" style="width:18%"
											action="#{complaintViewEditBackingBean.documentManagement}"
											rendered="#{complaintViewEditBackingBean.complaintSelected}"></p:commandButton>
										<!-- disabled="#{complaintViewEditBackingBean.disDocument}"  -->
									</center>

									<p:spacer height="10px"></p:spacer>

								</h:panelGroup>

							</p:panel>

						</h:panelGroup>

					</div>
				</h:form>
			</div>


			<p:dialog id="idMultipleComplaints" global="true" modal="true"
				header="Select a Complaint" width="80%" widgetVar="complaintsDialog"
				resizable="false">
				<h:form id="frmOffence">

					<p:dataTable var="com"
						value="#{complaintViewEditBackingBean.complaintDetailDTOList}"
						paginator="true" rows="5" rowsPerPageTemplate="5,10,15"
						paginatorPosition="bottom"
						paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
						reflow="true">

						<p:column rendered="false">
							<h:outputText value="#{com.seq}" />
						</p:column>
						<p:column headerText="Complain No" style="text-align:left">
							<h:outputText value="#{com.complaintNo}" />
						</p:column>
						<p:column headerText="Priority Order" style="text-align:left">
							<ui:repeat
								value="#{complaintInitiationBackingBean.priorityOrderList}"
								var="var">
								<h:outputText value="#{var.description}"
									rendered="#{var.code eq com.priorityOrder}" />
							</ui:repeat>
						</p:column>
						<p:column headerText="Severity" style="text-align:left">
							<ui:repeat value="#{complaintInitiationBackingBean.severityList}"
								var="var">
								<h:outputText value="#{var.description}"
									rendered="#{var.code eq com.severityNo}" />
							</ui:repeat>
						</p:column>
						<p:column headerText="Event Place" style="text-align:left">
							<h:outputText value="#{com.eventPlace}" />
						</p:column>
						<p:column headerText="Event Date Time" style="text-align:left">
							<h:outputText value="#{com.eventDateTime}" />
						</p:column>
						<p:column headerText="Status" style="text-align:left">
							<h:outputText value="#{com.process_status_des}" />
						</p:column>
						<p:column headerText="Complainer Name" style="text-align:left">
							<h:outputText
								value="#{com.complainerName_ta == null ?(com.complainerName_si == null ?com.complainerName :com.complainerName_si) :com.complainerName_ta}" />
						</p:column>
						<p:column headerText="Complainer Media" style="text-align:left">
							<ui:repeat
								value="#{complaintInitiationBackingBean.complainMediaList}"
								var="var">
								<h:outputText value="#{var.description}"
									rendered="#{var.code eq com.complainMedia}" />
							</ui:repeat>
						</p:column>
						<p:column width="40" style="text-align: center">
							<p:commandButton
								action="#{complaintViewEditBackingBean.selectOneComplaint}"
								icon="fa fa-arrow-right fa-lg" title="View Complaint"
								update="frmInitiateComplaint:viewEditDetailPanel">
								<f:setPropertyActionListener value="#{com}"
									target="#{complaintViewEditBackingBean.selectedComplaintDTO}" />
							</p:commandButton>
						</p:column>
					</p:dataTable>
				</h:form>
			</p:dialog>


			<p:dialog id="dialogError" global="true" modal="true" header="Error"
				width="30%" severity="info" widgetVar="errorDialog"
				closeOnEscape="true" resizable="false">
				<h:form id="frmError">
					<center>
						<p:panelGrid columns="2" styleClass="ui-noborder">
							<p:graphicImage library="images" name="error-24.png"></p:graphicImage>
							<p:outputLabel value="#{complaintViewEditBackingBean.errorMsg}"></p:outputLabel>
						</p:panelGrid>
						<br></br>
						<p:commandButton style="margin-top:10px;margin-bottom:10px"
							process="frmError" value="OK" onclick="PF('errorDialog').hide()">
						</p:commandButton>

					</center>
				</h:form>
			</p:dialog>

			<p:dialog id="dialogSuccessRef" global="true" modal="true"
				header="Success" width="30%" severity="info"
				widgetVar="successDialog" closeOnEscape="true" resizable="false">
				<h:form id="frmSuccess">
					<center>
						<p:panelGrid columns="2" styleClass="ui-noborder">
							<p:graphicImage library="images" name="success-24.png"></p:graphicImage>
							<p:outputLabel value="#{complaintViewEditBackingBean.sucessMsg}"></p:outputLabel>
						</p:panelGrid>
						<br></br>
						<p:commandButton style="margin-top:10px;margin-bottom:10px"
							process="frmSuccess" value="OK"
							onclick="PF('successDialog').hide()">
						</p:commandButton>
					</center>
				</h:form>
			</p:dialog>

			<p:dialog id="uploadDocumentsDialog" global="true" modal="true"
				header="Upload Documents" width="80%" height="400px" severity="info"
				widgetVar="uploadDocument" closeOnEscape="true" resizable="false"
				style="postion: absolute;">


				<h:form id="frmdoc">

					<p:tabView>
						<p:tab title="Upload Documents">

							<p:accordionPanel>
								<p:growl id="msgs" showDetail="false" />
								<p:tab title="Mandatory Documents">


									<h:panelGrid>
										<p:dataTable id="abc" tableStyle="width:auto"
											var="docMandatory"
											value="#{complaintViewEditBackingBean.mandatoryList}"
											rows="5" paginator="true" sortOrder="ascending"
											paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
											rowsPerPageTemplate="5,10,15">

											<p:column headerText="Code"
												style="width: 100px; text-align: left;">
												<h:outputText value="#{docMandatory.doc_Code}" />
											</p:column>
											<p:column headerText="Description"
												style="width: 300px;text-align: left;">
												<h:outputText value="#{docMandatory.add_Doc_Description}" />
											</p:column>
											<p:column headerText="File Path"
												style="width: 300px;text-align: left;">

												<h:outputText value="#{docMandatory.uploadFilePath}" />
											</p:column>

											<p:column style="width: 150px !important;">
												<!-- "#{editPermitIssuanceBackingBean.strSelectedTitle}" -->

												<p:fileUpload
													fileUploadListener="#{documentManagementBean.saveGrievanceMandatoryUploadDocuments}"
													mode="advanced" dragDropSupport="false" multiple="true"
													auto="true" showButtons="false" update="@form"
													fileLimit="1" accept=".pdf,.jpg,.jpeg,.png"
													allowTypes="/(\.|\/)(jpe?g|png|pdf)$/" sizeLimit="15728640">
													

													<f:attribute name="uploadedObj" value="#{docMandatory}" />

												</p:fileUpload>

											</p:column>

										</p:dataTable>
									</h:panelGrid>

								</p:tab>
							</p:accordionPanel>

							<br></br>
							<br></br>

							<p:accordionPanel>
								<p:growl id="msgse" showDetail="false" />


								<p:tab title="Optional Documents">


									<h:panelGrid>
										<p:dataTable id="abcd" tableStyle="width:auto"
											var="docOptional"
											value="#{complaintViewEditBackingBean.optionalList}" rows="5"
											paginator="true" sortOrder="ascending"
											paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
											rowsPerPageTemplate="5,10,15">

											<p:column headerText="Code"
												style="width: 100px; text-align: left;">
												<h:outputText value="#{docOptional.doc_Code}" />
											</p:column>
											<p:column headerText="Description"
												style="width: 300px;text-align: left;">
												<h:outputText value="#{docOptional.add_Doc_Description}" />
											</p:column>
											<p:column headerText="File Path"
												style="width: 300px;text-align: left;">

												<h:outputText value="#{docOptional.uploadOptionalFilePath}" />
											</p:column>

											<p:column style="width: 150px !important;">
												<!-- "#{editPermitIssuanceBackingBean.strSelectedTitle}" -->

												<p:fileUpload
													fileUploadListener="#{documentManagementBean.saveGrievanceOptionalUploadDocuments}"
													mode="advanced" dragDropSupport="false" multiple="true"
													auto="true" showButtons="false" update="@form"
													fileLimit="1" accept=".pdf,.jpg,.jpeg,.png"
													allowTypes="/(\.|\/)(jpe?g|png|pdf)$/" sizeLimit="15728640">
													

													<f:attribute name="uploadedOptionalObj"
														value="#{docOptional}" />

												</p:fileUpload>

											</p:column>

										</p:dataTable>
									</h:panelGrid>

								</p:tab>


							</p:accordionPanel>

						</p:tab>

						<p:tab title="Upload History">


							<p:accordionPanel multiple="true">
								<p:growl showDetail="false" />
								<p:tab title="Grievances Management (Documents)" closable="true">


									<p:accordionPanel id="dkfj">
										<p:growl id="NP" showDetail="false" />
										<p:tab title="Mandatory Documents">


											<h:panelGrid>
												<p:dataTable id="mandatoryNP" tableStyle="width:auto"
													var="docMandatory"
													value="#{sessionBackingBean.sisuSariyaMandatoryDocumentList}"
													rows="5" paginator="true" sortOrder="ascending"
													paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
													rowsPerPageTemplate="5,10,15">

													<p:column headerText="Code"
														style="width: 100px;text-align: left;">
														<h:outputText value="#{docMandatory.doc_Code}" />
													</p:column>
													<p:column headerText="Description"
														style="width: 300px;text-align: left;">
														<h:outputText value="#{docMandatory.add_Doc_Description}" />
													</p:column>
													<p:column headerText="File Name"
														style="width: 200px;text-align: left;">

														<h:outputText value="#{docMandatory.documentName}" />
													</p:column>

													<p:column headerText="" style="width: 75px;">

														<p:commandLink
															actionListener="#{documentManagementBean.viewMandatoryUploadDocs}"
															oncomplete="window.open('/InfoNTC/showUpload?reportName=Upload Document')">
															<p:graphicImage library="images" name="view.png"
																style="width:20px;height:20px;" title="view"></p:graphicImage>
															<f:attribute name="documentMandatory"
																value="#{docMandatory}" />
														</p:commandLink>

													</p:column>


												</p:dataTable>
											</h:panelGrid>

										</p:tab>
									</p:accordionPanel>

									<br></br>
									<br></br>

									<p:accordionPanel>

										<p:growl showDetail="false" />

										<p:tab title="Optional Documents">

											<h:panelGrid>
												<p:dataTable id="optionalNP" tableStyle="width:auto"
													var="docOptional"
													value="#{sessionBackingBean.sisuSariyaOptionalDocumentList}"
													rows="5" paginator="true" sortOrder="ascending"
													scrollHeight="100%" liveResize="true" liveScroll="true"
													paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
													rowsPerPageTemplate="5,10,15">

													<p:column headerText="Code"
														style="width: 100px;text-align: left;">
														<h:outputText value="#{docOptional.doc_Code}" />
													</p:column>
													<p:column headerText="Description"
														style="width: 300px;text-align: left;">
														<h:outputText value="#{docOptional.add_Doc_Description}" />
													</p:column>
													<p:column headerText="File Name"
														style="width: 200px;text-align: left;">
														<h:outputText value="#{docOptional.documentName}" />
													</p:column>

													<p:column headerText="" style="width: 75px;">

														<p:commandLink
															actionListener="#{documentManagementBean.viewUploadedOptionalDocAction}"
															oncomplete="window.open('/InfoNTC/showUpload?reportName=Upload Document')">
															<p:graphicImage library="images" name="view.png"
																style="width:20px;height:20px;" title="view"></p:graphicImage>
															<f:attribute name="documentOptional"
																value="#{docOptional}" />
														</p:commandLink>

													</p:column>


												</p:dataTable>
											</h:panelGrid>
										</p:tab>

									</p:accordionPanel>

								</p:tab>
								<br></br>
							</p:accordionPanel>
						</p:tab>
					</p:tabView>



				</h:form>
			</p:dialog>


		</div>



	</ui:define>
</ui:composition>