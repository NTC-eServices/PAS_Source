<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	template="/WEB-INF/template/template.xhtml">
	<ui:define name="metadata">
	</ui:define>
	<ui:define name="content">
		<style>
.ui-dialog .ui-dialog-titlebar {
	padding: .4em .4em .4em 1em;
	position: relative;
	background: #07295b !important;
	padding: 5px 5px 5px 5px;
	margin: 0px 0px 0px 0px;
	color: #ffffff;
}

.ui-panelgrid .ui-panelgrid-cell {
	background-color: #f1f1f1;
}

.ui-icon.ui-confirm-dialog-severity {
	background-position: 0 0 !important;
	background-image: none !important;
}

.colorHighlight {
	background: yellow !important;
}

.ui-dialog .ui-widget .ui-widget-content .ui-corner-all .ui-shadow .ui-hidden-container .ui-draggable
	{
	width: 50%;
}

.firstColumn {
	width: 100%;
}

.secondColumn {
	width: 100%;
}

.dashboardNRResendDocRecord {
	background-color: #16e5d7 !important;
}

.ui-state-default a, .ui-state-default a:link, .ui-state-default a:visited
	{
	color: #07295b;
}

.mainDiv {
	width: 99%;
	height: auto;
	border-left: solid;
	border-right: solid;
	border-bottom: solid;
	border-top: solid;
	border-color: #07295b;
	border-width: 1px;
	margin-left: 5px;
	margin-top: 5px;
	margin-bottom: 5px;
	/*background-image: linear-gradient(to right bottom, #d9ddfa, #ccd4fb, #bdcafc, #aec2fe,
		#9cb9ff);*/
	background-image: linear-gradient(to right bottom, #f1f1f1, #dfdfe4, #f1f1f1, #e9eaeb,
		#bbb5b5);
}

.ui-inputfield, .ui-widget-content .ui-inputfield, .ui-widget-header .ui-inputfield
	{
	color: #07295b;
}

.mainLinkButton {
	font-weight: bold;
	background: #2571fa !important;
	text-align: center;
	padding: 7px 25px 7px 25px !important;
	height: 35px !important;
	text-decoration: none !important;
	color: white !important;
	white-space: nowrap !important;
	border-radius: 5px !important;
}

.mainLinkButton:hover {
	background: #fba026 !important;
}

.otherLinkButton {
	font-weight: bold;
	background: #296807 !important;
	text-align: center;
	padding: 7px 25px 7px 25px !important;
	height: 35px !important;
	text-decoration: none !important;
	color: white !important;
	white-space: nowrap !important;
	border-radius: 5px !important;
}

.otherLinkButton:hover {
	background: #fba026 !important;
}

.mainActionbtn {
	font-weight: bold;
	background: #2571fa !important;
	height: 30px !important;
	border-radius: 5px !important;
	color: white !important;
	text-align: center;
	width: 80px;
	white-space: nowrap !important;
	-webkit-transition: background-color 0.3s ease-out;
	-moz-transition: background-color 0.3s ease-out;
	-o-transition: background-color 0.3s ease-out;
	transition: background-color 0.3s ease-out;
}

.mainActionbtn:hover {
	background: #fba026 !important;
}

.OthActionbtn {
	font-weight: bold;
	background: #296807 !important;
	height: 30px !important;
	border-radius: 5px !important;
	color: white !important;
	text-align: center;
	width: 80px;
	white-space: nowrap !important;
	-webkit-transition: background-color 0.3s ease-out;
	-moz-transition: background-color 0.3s ease-out;
	-o-transition: background-color 0.3s ease-out;
	transition: background-color 0.3s ease-out;
	margin-bottom: 5px;
}

.OthActionbtn:hover {
	background: #fba026 !important;
}

.subDiv {
	margin: 0 auto;
	background: rgb(254, 255, 255); /* Old browsers */
	background: -moz-linear-gradient(-45deg, rgba(254, 255, 255, 1) 0%,
		rgba(210, 235, 249, 1) 100%); /* FF3.6-15 */
	background: -webkit-linear-gradient(-45deg, rgba(254, 255, 255, 1) 0%,
		rgba(210, 235, 249, 1) 100%); /* Chrome10-25,Safari5.1-6 */
	background: linear-gradient(135deg, rgba(254, 255, 255, 1) 0%,
		rgba(210, 235, 249, 1) 100%);
	/* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#feffff',
		endColorstr='#d2ebf9', GradientType=1);
	/* IE6-9 fallback on horizontal gradient */
}

/* authorize animation styles */
.checkmark-circle {
	width: 30px;
	height: 30px;
	position: relative;
	display: inline-block;
	vertical-align: top;
}

.checkmark-circle .background {
	width: 30px;
	height: 30px;
	border-radius: 50%;
	background: #2EB150;
	position: absolute;
}

.checkmark-circle .checkmark {
	border-radius: 5px;
}

.checkmark-circle .checkmark.draw:after {
	-webkit-animation-delay: 100ms;
	-moz-animation-delay: 100ms;
	animation-delay: 100ms;
	-webkit-animation-duration: 1s;
	-moz-animation-duration: 1s;
	animation-duration: 1s;
	-webkit-animation-timing-function: ease;
	-moz-animation-timing-function: ease;
	animation-timing-function: ease;
	-webkit-animation-name: checkmark;
	-moz-animation-name: checkmark;
	animation-name: checkmark;
	-webkit-transform: scaleX(-1) rotate(135deg);
	-moz-transform: scaleX(-1) rotate(135deg);
	-ms-transform: scaleX(-1) rotate(135deg);
	-o-transform: scaleX(-1) rotate(135deg);
	transform: scaleX(-1) rotate(135deg);
	-webkit-animation-fill-mode: forwards;
	-moz-animation-fill-mode: forwards;
	animation-fill-mode: forwards;
}

.checkmark-circle .checkmark:after {
	opacity: 1;
	height: 15px;
	width: 7.5px;
	-webkit-transform-origin: left top;
	-moz-transform-origin: left top;
	-ms-transform-origin: left top;
	-o-transform-origin: left top;
	transform-origin: left top;
	border-right: 3px solid white;
	border-top: 3px solid white;
	border-radius: 2.5px !important;
	content: '';
	left: 5px;
	top: 15px;
	position: absolute;
}
@-webkit-keyframes checkmark {
	0% {
		height: 0;
		width: 0;
		opacity: 1;
	}
	20% {
		height: 0;
		width: 7.5px;
		opacity: 1;
	}
	40% {
		height: 15px;
		width: 7.5px;
		opacity: 1;
	}
	100% {
		height: 15px;
		width: 7.5px;
		opacity: 1;
	}
}

@-moz-keyframes checkmark {
	0% {
		height: 0;
		width: 0;
		opacity: 1;
	}
	20% {
		height: 0;
		width: 7.5px;
		opacity: 1;
	}
	40% {
		height: 15px;
		width: 7.5px;
		opacity: 1;
	}
	100% {
		height: 15px;
		width: 7.5px;
		opacity: 1;
	}
}

@keyframes checkmark {
	0% {
		height: 0;
		width: 0;
		opacity: 1;
	}
	20% {
		height: 0;
		width: 7.5px;
		opacity: 1;
	}
	40% {
		height: 15px;
		width: 7.5px;
		opacity: 1;
	}
	100% {
		height: 15px;
		width: 7.5px;
		opacity: 1;
	}
}

/*2*/
@keyframes iconPulse {
	0% {
		transform: scale3d(0.9, 0.9, 0.9);
		opacity: 0.99;
	}
	50% {
		transform: scale3d(1, 1, 1);
		opacity: 0.66;
	}
	100% {
		transform: scale3d(0.9, 0.9, 0.9);
		opacity: 0.99;
	}
}

/* setting rules for pulsing */
.times-pulse {
	animation: iconPulse 1s ease-in-out infinite;
	color: crimson;
}
/* */
.nopadd .ui-panelgrid-cell {
	padding: 4px 2px !important;
}
</style>


		<div class="mainDiv">

			<div style="margin-top: 0%;" class="common_form_header">
				<h1 style="color: #ffffff; text-align: center; font-weight: bold">Departure
					Authorization</h1>

				<div style="text-align: right; margin-top: -16px; margin-right: 2px">
					<p:clock pattern="EEE, d MMM yyyy HH:mm:ss" />
				</div>
			</div>



			<div style="width: 95%;" class="subDiv">
				<h:form id="frmDepartureAuth" style="background-color :#f1f1f1;">
					<br></br>
					<br></br>
					<p:outputPanel id="stationPanel" styleClass="center">
						<p:outputLabel value="#{terminalAuthorizeBackingBean.stationName}"
							styleClass="title5"></p:outputLabel>
					</p:outputPanel>
					<p:dialog closable="false" header="Select Station"
						visible="#{terminalAuthorizeBackingBean.localcheckcounter}"
						widgetVar="dlg2" modal="true" height="120" width="420"
						resizable="false" update="@all">



						<p:panelGrid columns="2" id="dialoggrid"
							columnClasses="ui-grid-col-5,ui-grid-col-5">

							<p:panelGrid
								rendered="#{terminalAuthorizeBackingBean.showStationPopup}">

								<p:outputLabel value="Select Station : "></p:outputLabel>

							</p:panelGrid>


							<p:panelGrid
								rendered="#{terminalAuthorizeBackingBean.showStationPopup}">
								<p:selectOneMenu id="counter" style="width:171px"
									value="#{terminalAuthorizeBackingBean.stationDes}">
									<p:ajax
										listener="#{terminalAuthorizeBackingBean.onCounterSelect}"
										update="stationPanel"
										onClose="#{terminalAuthorizeBackingBean.handleClose}">
									</p:ajax>
									<f:selectItem itemLabel="-- Select Station --" itemValue="" />
									<f:selectItems
										value="#{assignBusRoutesToBlockBackingBean.mainStationDetailsList}"
										var="stationDesList" itemValue="#{stationDesList.code}"
										itemLabel="#{stationDesList.description}" />
								</p:selectOneMenu>

							</p:panelGrid>



						</p:panelGrid>
						<br></br>
						<center>


							<p:commandButton id="Exit" value="Exit"
								action="#{terminalAuthorizeBackingBean.handleClose}"
								class="mainActionbtn" ajax="true" update="@all">
							</p:commandButton>

							<p:commandButton class="mainActionbtn" ajax="true" update="@all"
								value="Cancel"
								action="#{terminalAuthorizeBackingBean.cancelDialog}"
								onclick="PF('errorDialog').hide()">
							</p:commandButton>


						</center>

					</p:dialog>

					<div class="ui-widget-content ui-grid ui-grid-responsive">

						<h:panelGroup
							rendered="#{!terminalAuthorizeBackingBean.showDetail}">
	                      <p:spacer height="10px"></p:spacer>
							<div class="ui-grid-row">
								<div class="ui-grid-col-2"></div>
								<div class="ui-grid-col-2">
									<p:outputLabel value="Enter Bus Number"></p:outputLabel>
								</div>
								<div class="ui-grid-col-5">
									<p:inputText value="#{terminalAuthorizeBackingBean.busNo}"
										tabindex="1" style="width:80%; text-transform:uppercase"
										maxlength="10">
										<p:keyFilter regEx="/[a-zA-Z0-9-_]/i" />
									</p:inputText>
								</div>
							</div>
							<p:spacer height="10px"></p:spacer>
							<div class="gridspadding" align="center">
								<p:commandButton value="OK" styleClass="mainActionbtn"
									tabindex="1"
									actionListener="#{terminalAuthorizeBackingBean.searchByBusNumberDeparture}"
									update="frmDepartureAuth" alt="OK"></p:commandButton>
							</div>
							<p:spacer height="50px"></p:spacer>
							<center>
								<p:commandLink id="ajax"
									action="#{terminalAuthorizeBackingBean.openStationPopUp}"
									style="margin-left:5px;">
									<h:outputText value="Change Station" />
								</p:commandLink>
							</center>
							<br></br>
						</h:panelGroup>

						<h:panelGroup
							rendered="#{terminalAuthorizeBackingBean.showDetail}">
							<p:panel class="common_form_header" style="height:50px;background-color:#07b51c  !important ">
								<h1
									style="color: #ffffff; text-align: center; font-family: sans-serif, Arial">#{terminalAuthorizeBackingBean.route}</h1>
								<h3
									style="color: #ffffff; text-align: center; font-family: sans-serif, Arial">#{terminalAuthorizeBackingBean.busNo}</h3>
							</p:panel>

							<div class="ui-grid-row">
								<div class="gridspadding ui-grid-col-5">
									<p:panelGrid columns="1">
										<p:outputLabel
											value="Estimated Arrival Time to the Terminal"
											styleClass="title3" style="color:#059e05 !important"></p:outputLabel>
										<p:panelGrid columns="2" layout="grid" styleClass="nopadd">
										<center>
											<p:outputLabel
												value="#{terminalAuthorizeBackingBean.sheduleDepartureTime}"
												styleClass="title3" style="color:#059e05 !important"></p:outputLabel>
												</center>
										</p:panelGrid>
									</p:panelGrid>
								</div>

								<div class="gridspadding ui-grid-col-2"></div>

								<div class="gridspadding ui-grid-col-5">
									<p:panelGrid columns="1">
										<p:outputLabel value="Estimated Departure Time from the Terminal"
											styleClass="title3" style="color:#059e05 !important"></p:outputLabel>
	                                 <p:panelGrid columns="2" layout="grid" styleClass="nopadd">
	                                  <center>
										<p:outputLabel
											value="#{terminalAuthorizeBackingBean.estimatedDeparture}"
											styleClass="title3" style="color:#059e05 !important"></p:outputLabel>
											</center>
									</p:panelGrid>
									</p:panelGrid>
								</div>
							</div>


							<div class="ui-grid-row">
								<div class="gridspadding ui-grid-col-5">
									<p:panelGrid columns="3" layout="grid" style="margin:20px">
										<p:outputLabel value="Departure From"
											styleClass="title1-light"></p:outputLabel>
										<p:outputPanel styleClass="center">
											<p:outputLabel value="Terminal" styleClass="title1-light"></p:outputLabel>
										</p:outputPanel>
										<p:outputPanel styleClass="center">
											<p:outputLabel value="Block" styleClass="title1-light"></p:outputLabel>
										</p:outputPanel>
										<p:outputLabel
											value="#{terminalAuthorizeBackingBean.departingStation != null ?terminalAuthorizeBackingBean.departingStation :'-'}"
											styleClass="title1"></p:outputLabel>
										<p:outputPanel styleClass="center">
											<p:outputLabel
												value="#{terminalAuthorizeBackingBean.departingTerminal != null ?terminalAuthorizeBackingBean.departingTerminal :'-'}"
												styleClass="title1"></p:outputLabel>
										</p:outputPanel>
										<p:outputPanel styleClass="center">
											<p:outputLabel
												value="#{terminalAuthorizeBackingBean.departingBlock != null ?terminalAuthorizeBackingBean.departingBlock :'-'}"
												styleClass="title1"></p:outputLabel>
										</p:outputPanel>
									</p:panelGrid>
									<p:panelGrid columns="2" layout="grid"
										style="margin:20px; margin-top:25px !important;">
										<p:outputLabel value="Permit Type" styleClass="title1-light"></p:outputLabel>
										<p:outputLabel value="Permit No" styleClass="title1-light"></p:outputLabel>
										<p:outputLabel
											value="#{terminalAuthorizeBackingBean.permitType != null ?terminalAuthorizeBackingBean.permitType :'-'}"
											styleClass="title1"></p:outputLabel>
										<p:outputLabel
											value="#{terminalAuthorizeBackingBean.permitNo != null ?terminalAuthorizeBackingBean.permitNo :'-'}"
											styleClass="title1"></p:outputLabel>
									</p:panelGrid>
									<p:panelGrid columns="2" layout="grid"
										style="margin:20px; margin-top:25px !important; margin-right:5px !important">
										<p:outputLabel value="Date of Issue" styleClass="title2-light"></p:outputLabel>
										<p:outputLabel value="Date of Expiry"
											styleClass="title2-light"></p:outputLabel>
										<p:outputLabel
											value="#{terminalAuthorizeBackingBean.dateOfIssue != null ?terminalAuthorizeBackingBean.dateOfIssue :'-'}"
											styleClass="title2"></p:outputLabel>
										<p:outputLabel
											value="#{terminalAuthorizeBackingBean.dateOfExpiry != null ?terminalAuthorizeBackingBean.dateOfExpiry :'-'}"
											styleClass="title2"></p:outputLabel>
									</p:panelGrid>
								</div>

								<div class="ui-grid-col-2">
									<p:panelGrid columns="1"
										rendered="#{terminalAuthorizeBackingBean.validity}">
										<p:graphicImage name="/images/terminal/2.png" alt="Authorized"
											width="155px" />
										<p:panelGrid columns="1"
											style="margin-top: -108px; margin-left: 15px; text-align: center;">
											<p:outputLabel value="Actual arrival time"></p:outputLabel>
											<p:outputLabel
												value="#{terminalAuthorizeBackingBean.actualDepartureTime}"></p:outputLabel>
											<p:outputLabel
												value="#{terminalAuthorizeBackingBean.delayTimeDiff}"
												style="color:#{terminalAuthorizeBackingBean.delayTimeDiff.contains('delay') ?'#ff0000' :'#0000ff'}; font-weight:bold"></p:outputLabel>
										</p:panelGrid>

										<p:panelGrid columns="2">
											<h:panelGroup style="margin: 0; padding: 0;">
												<div class="checkmark-circle">
													<div class="background"></div>
													<div class="checkmark draw"></div>
												</div>
											</h:panelGroup>
											<h3 style="color: #1cb432; margin-left: -13px; !important">Authorization
												Success</h3>
										</p:panelGrid>
									</p:panelGrid>

									<p:panelGrid columns="1"
										rendered="#{!terminalAuthorizeBackingBean.validity}"
										style="margin-left:-20px">
										<p:graphicImage name="/images/terminal/1.png"
											alt="Authorization Failed" width="155px" />
										<p:panelGrid columns="1"
											style="margin-top: -108px; margin-left: 15px; text-align: center;">
											<p:outputLabel value="Actual arrival time"></p:outputLabel>
											<p:outputLabel
												value="#{terminalAuthorizeBackingBean.actualDepartureTime}"></p:outputLabel>
											<p:outputLabel
												value="#{terminalAuthorizeBackingBean.delayTimeDiff}"
												style="color:#{terminalAuthorizeBackingBean.delayTimeDiff.contains('delay') ?'#ff0000' :'#0000ff'}; font-weight:bold"></p:outputLabel>
										</p:panelGrid>

										<p:outputLabel>
											<h3 style="color: #ff0000" class="times-pulse">

												Authorization Failed !</h3>
										</p:outputLabel>

										<p:dataList
											value="#{terminalAuthorizeBackingBean.authorizeMsgs}"
											var="element" itemType="none">
											<p style="color: #ff0000; margin-top: 5px">
												<i class="fa fa-exclamation-triangle fa-1x" /> #{element}
											</p>
										</p:dataList>
									</p:panelGrid>
								</div>

								<div class="gridspadding ui-grid-col-5">
									<p:panelGrid columns="2" style="margin:20px" layout="grid">
										<p:outputLabel value="Departed for" styleClass="title1-light"></p:outputLabel>
										<p:outputLabel value="Terminal" styleClass="title1-light"></p:outputLabel>
										<p:outputLabel
											value="#{terminalAuthorizeBackingBean.routeDestination == null ?'-' :terminalAuthorizeBackingBean.routeDestination}"
											styleClass="title1"></p:outputLabel>
										<p:outputLabel
											value="#{terminalAuthorizeBackingBean.departingTerminal == null ?'-' :terminalAuthorizeBackingBean.departingTerminal}"
											styleClass="title1"></p:outputLabel>
									</p:panelGrid>
									<p:panelGrid columns="1" style="margin:20px; margin-top:25px">
										<p:outputLabel value="Turn No" styleClass="title1-light"></p:outputLabel>
										<p:outputLabel value="#{terminalAuthorizeBackingBean.turnNoD}"
											styleClass="title1" style="color:#9c2424"></p:outputLabel>
									</p:panelGrid>
								</div>
							</div>

							<div class="ui-grid-row">
								<div class="gridspadding ui-grid-col-5">
									<p:panelGrid columns="2">
										<p:outputLabel value="Owner" styleClass="title4 bold"></p:outputLabel>
										<p:outputLabel value="#{terminalAuthorizeBackingBean.owner}"
											styleClass="title4"></p:outputLabel>
										<p:outputLabel value="Address" styleClass="title4 bold"></p:outputLabel>
										<p:outputLabel value="#{terminalAuthorizeBackingBean.address}"
											styleClass="title4"></p:outputLabel>
										<p:outputLabel value="Contact" styleClass="title4 bold"></p:outputLabel>
										<p:outputLabel
											value="#{terminalAuthorizeBackingBean.contactNo}"
											styleClass="title4"></p:outputLabel>
									</p:panelGrid>
								</div>
							</div>

							<p:spacer height="10px"></p:spacer>

							<center>
								<p:commandButton id="btnAllow" value="Allow to Leave"
									class="mainActionbtn"
									style="width:135px; height: 40px !important;"
									actionListener="#{terminalAuthorizeBackingBean.allowToLeave}"
									process="frmDepartureAuth" update="frmDepartureAuth">
								</p:commandButton>

								<p:commandButton id="btnExit" value="Exit"
									styleClass="mainActionbtn" style="height: 40px !important;"
									actionListener="#{terminalAuthorizeBackingBean.resetView}"
									process="frmDepartureAuth" update="frmDepartureAuth">
								</p:commandButton>
							</center>

							<p:spacer height="10px"></p:spacer>

						</h:panelGroup>

					</div>
				</h:form>
			</div>

			<p:dialog id="dialogError" global="true" modal="true" header="Error"
				width="30%" severity="info" widgetVar="errorDialog"
				closeOnEscape="true" resizable="false">
				<h:form id="frmError">
					<center>
						<p:panelGrid columns="2" styleClass="ui-noborder">
							<p:graphicImage library="images" name="error-24.png"></p:graphicImage>
							<p:outputLabel value="#{terminalAuthorizeBackingBean.errorMsg}"></p:outputLabel>
						</p:panelGrid>
						<br></br>
						<p:commandButton style="margin-top:10px;margin-bottom:10px"
							process="frmError" value="OK" onclick="PF('errorDialog').hide()">
						</p:commandButton>

					</center>
				</h:form>
			</p:dialog>

			<p:dialog id="dialogSucces" global="true" modal="true"
				header="Success" width="30%" severity="info"
				widgetVar="successDialog" closeOnEscape="true" resizable="false">
				<h:form id="frmSuccess">
					<center>
						<p:panelGrid columns="2" styleClass="ui-noborder">
							<p:graphicImage library="images" name="success-24.png"></p:graphicImage>
							<p:outputLabel value="#{terminalAuthorizeBackingBean.sucessMsg}"></p:outputLabel>

						</p:panelGrid>
						<br></br>
						<p:commandButton style="margin-top:10px;margin-bottom:10px"
							process="frmSuccess" value="OK"
							onclick="PF('successDialog').hide()">
						</p:commandButton>
					</center>
				</h:form>
			</p:dialog>

		</div>


	</ui:define>
</ui:composition>